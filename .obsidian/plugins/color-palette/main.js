/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// node_modules/validate-color/lib/index.js
var require_lib = __commonJS({
  "node_modules/validate-color/lib/index.js"(exports, module2) {
    module2.exports = function(e2) {
      var r2 = {};
      function t2(n2) {
        if (r2[n2])
          return r2[n2].exports;
        var a2 = r2[n2] = { i: n2, l: false, exports: {} };
        return e2[n2].call(a2.exports, a2, a2.exports, t2), a2.l = true, a2.exports;
      }
      return t2.m = e2, t2.c = r2, t2.d = function(e3, r3, n2) {
        t2.o(e3, r3) || Object.defineProperty(e3, r3, { enumerable: true, get: n2 });
      }, t2.r = function(e3) {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e3, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e3, "__esModule", { value: true });
      }, t2.t = function(e3, r3) {
        if (1 & r3 && (e3 = t2(e3)), 8 & r3)
          return e3;
        if (4 & r3 && "object" == typeof e3 && e3 && e3.__esModule)
          return e3;
        var n2 = /* @__PURE__ */ Object.create(null);
        if (t2.r(n2), Object.defineProperty(n2, "default", { enumerable: true, value: e3 }), 2 & r3 && "string" != typeof e3)
          for (var a2 in e3)
            t2.d(n2, a2, function(r4) {
              return e3[r4];
            }.bind(null, a2));
        return n2;
      }, t2.n = function(e3) {
        var r3 = e3 && e3.__esModule ? function() {
          return e3.default;
        } : function() {
          return e3;
        };
        return t2.d(r3, "a", r3), r3;
      }, t2.o = function(e3, r3) {
        return Object.prototype.hasOwnProperty.call(e3, r3);
      }, t2.p = "", t2(t2.s = 0);
    }([function(e2, r2, t2) {
      "use strict";
      t2.r(r2), t2.d(r2, "validateHTMLColorName", function() {
        return l2;
      }), t2.d(r2, "validateHTMLColorSpecialName", function() {
        return i2;
      }), t2.d(r2, "validateHTMLColorHex", function() {
        return u2;
      }), t2.d(r2, "validateHTMLColorRgb", function() {
        return g2;
      }), t2.d(r2, "validateHTMLColorHsl", function() {
        return y2;
      }), t2.d(r2, "validateHTMLColorHwb", function() {
        return L2;
      }), t2.d(r2, "validateHTMLColorLab", function() {
        return S2;
      }), t2.d(r2, "validateHTMLColorLch", function() {
        return m2;
      }), t2.d(r2, "validateHTMLColor", function() {
        return G2;
      });
      const n2 = (e3) => e3 && "string" == typeof e3, a2 = ["AliceBlue", "AntiqueWhite", "Aqua", "Aquamarine", "Azure", "Beige", "Bisque", "Black", "BlanchedAlmond", "Blue", "BlueViolet", "Brown", "BurlyWood", "CadetBlue", "Chartreuse", "Chocolate", "Coral", "CornflowerBlue", "Cornsilk", "Crimson", "Cyan", "DarkBlue", "DarkCyan", "DarkGoldenrod", "DarkGray", "DarkGrey", "DarkGreen", "DarkKhaki", "DarkMagenta", "DarkOliveGreen", "DarkOrange", "DarkOrchid", "DarkRed", "DarkSalmon", "DarkSeaGreen", "DarkSlateBlue", "DarkSlateGray", "DarkSlateGrey", "DarkTurquoise", "DarkViolet", "DeepPink", "DeepSkyBlue", "DimGray", "DimGrey", "DodgerBlue", "FireBrick", "FloralWhite", "ForestGreen", "Fuchsia", "Gainsboro", "GhostWhite", "Gold", "Goldenrod", "Gray", "Grey", "Green", "GreenYellow", "HoneyDew", "HotPink", "IndianRed", "Indigo", "Ivory", "Khaki", "Lavender", "LavenderBlush", "LawnGreen", "LemonChiffon", "LightBlue", "LightCoral", "LightCyan", "LightGoldenrodYellow", "LightGray", "LightGrey", "LightGreen", "LightPink", "LightSalmon", "LightSalmon", "LightSeaGreen", "LightSkyBlue", "LightSlateGray", "LightSlateGrey", "LightSteelBlue", "LightYellow", "Lime", "LimeGreen", "Linen", "Magenta", "Maroon", "MediumAquamarine", "MediumBlue", "MediumOrchid", "MediumPurple", "MediumSeaGreen", "MediumSlateBlue", "MediumSlateBlue", "MediumSpringGreen", "MediumTurquoise", "MediumVioletRed", "MidnightBlue", "MintCream", "MistyRose", "Moccasin", "NavajoWhite", "Navy", "OldLace", "Olive", "OliveDrab", "Orange", "OrangeRed", "Orchid", "PaleGoldenrod", "PaleGreen", "PaleTurquoise", "PaleVioletRed", "PapayaWhip", "PeachPuff", "Peru", "Pink", "Plum", "PowderBlue", "Purple", "RebeccaPurple", "Red", "RosyBrown", "RoyalBlue", "SaddleBrown", "Salmon", "SandyBrown", "SeaGreen", "SeaShell", "Sienna", "Silver", "SkyBlue", "SlateBlue", "SlateGray", "SlateGrey", "Snow", "SpringGreen", "SteelBlue", "Tan", "Teal", "Thistle", "Tomato", "Turquoise", "Violet", "Wheat", "White", "WhiteSmoke", "Yellow", "YellowGreen"], o2 = ["currentColor", "inherit", "transparent"], l2 = (e3) => {
        let r3 = false;
        return n2(e3) && a2.map((t3) => (e3.toLowerCase() === t3.toLowerCase() && (r3 = true), null)), r3;
      }, i2 = (e3) => {
        let r3 = false;
        return n2(e3) && o2.map((t3) => (e3.toLowerCase() === t3.toLowerCase() && (r3 = true), null)), r3;
      }, u2 = (e3) => {
        if (n2(e3)) {
          const r3 = /^#([\da-f]{3}){1,2}$|^#([\da-f]{4}){1,2}$/i;
          return e3 && r3.test(e3);
        }
        return false;
      }, d2 = "(([\\d]{0,5})((\\.([\\d]{1,5}))?))", s2 = `(${d2}%)`, c2 = "(([0-9]|[1-9][0-9]|100)%)", f2 = `(${c2}|(0?((\\.([\\d]{1,5}))?))|1)`, h2 = `([\\s]{0,5})\\)?)(([\\s]{0,5})(\\/?)([\\s]{1,5})${`(((${c2}))|(0?((\\.([\\d]{1,5}))?))|1))?`}([\\s]{0,5})\\)`, $2 = "(-?(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-9][0-9]|3[0-5][0-9])((\\.([\\d]{1,5}))?)|360)(deg)?)", g2 = (e3) => {
        if (n2(e3)) {
          const r3 = "([\\s]{0,5})([\\d]{1,5})%?([\\s]{0,5}),?", t3 = "((([\\s]{0,5}),?([\\s]{0,5}))|(([\\s]{1,5})))", n3 = new RegExp(`^(rgb)a?\\(${`${r3}${t3}`}${`${r3}${t3}`}${`${r3}${t3}`}(${"(\\/?([\\s]{0,5})(0?\\.?([\\d]{1,5})%?([\\s]{0,5}))?|1|0)"})?\\)$`);
          return e3 && n3.test(e3);
        }
        return false;
      }, y2 = (e3) => {
        if (n2(e3)) {
          const r3 = new RegExp(`^(hsl)a?\\((([\\s]{0,5})(${$2}|${"(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-9][0-9]|3[0-9][0-9]|400)grad)"}|${"((([0-5])?\\.([\\d]{1,5})|6\\.([0-9]|1[0-9]|2[0-8])|[0-6])rad)"}|${"((0?((\\.([\\d]{1,5}))?)|1)turn)"})((([\\s]{0,5}),([\\s]{0,5}))|(([\\s]{1,5}))))(([\\s]{0,5})(0|${c2})((([\\s]{0,5}),([\\s]{0,5}))|(([\\s]{1,5}))))(([\\s]{0,5})(0|${c2})([\\s]{0,5})\\)?)(([\\s]{0,5})(\\/?|,?)([\\s]{0,5})(((${c2}))|(0?((\\.([\\d]{1,5}))?))|1))?\\)$`);
          return e3 && r3.test(e3);
        }
        return false;
      }, L2 = (e3) => {
        if (n2(e3)) {
          const r3 = new RegExp(`^(hwb\\(([\\s]{0,5})${$2}([\\s]{1,5}))((0|${c2})([\\s]{1,5}))((0|${c2})${h2}$`);
          return e3 && r3.test(e3);
        }
        return false;
      }, S2 = (e3) => {
        if (n2(e3)) {
          const r3 = "(-?(([0-9]|[1-9][0-9]|1[0-5][0-9])((\\.([\\d]{1,5}))?)?|160))", t3 = new RegExp(`^(lab\\(([\\s]{0,5})${s2}([\\s]{1,5})${r3}([\\s]{1,5})${r3}${h2}$`);
          return e3 && t3.test(e3);
        }
        return false;
      }, m2 = (e3) => {
        if (n2(e3)) {
          const r3 = "((([0-9]|[1-9][0-9])?((\\.([\\d]{1,5}))?)|100)(%)?)", t3 = "" + d2, n3 = `((${$2})|(0|${f2})|(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-9][0-9]|3[0-5][0-9])((\\.([\\d]{1,5}))?)|360))`, a3 = `(\\/([\\s]{0,5})${f2})`, o3 = new RegExp(`^lch\\(${`(([\\s]{0,5})${r3}([\\s]{1,5})${t3}([\\s]{1,5})${n3}([\\s]{0,5})(${a3})?)`}\\)$`);
          return e3 && o3.test(e3);
        }
        return false;
      }, G2 = (e3) => !!(e3 && u2(e3) || g2(e3) || y2(e3) || L2(e3) || S2(e3) || m2(e3));
      r2.default = (e3) => !!(e3 && u2(e3) || l2(e3) || i2(e3) || g2(e3) || y2(e3) || L2(e3) || S2(e3) || m2(e3));
    }]);
  }
});

// node_modules/quantize/quantize.js
var require_quantize = __commonJS({
  "node_modules/quantize/quantize.js"(exports, module2) {
    if (!pv) {
      pv = {
        map: function(array, f2) {
          var o2 = {};
          return f2 ? array.map(function(d2, i2) {
            o2.index = i2;
            return f2.call(o2, d2);
          }) : array.slice();
        },
        naturalOrder: function(a2, b2) {
          return a2 < b2 ? -1 : a2 > b2 ? 1 : 0;
        },
        sum: function(array, f2) {
          var o2 = {};
          return array.reduce(f2 ? function(p2, d2, i2) {
            o2.index = i2;
            return p2 + f2.call(o2, d2);
          } : function(p2, d2) {
            return p2 + d2;
          }, 0);
        },
        max: function(array, f2) {
          return Math.max.apply(null, f2 ? pv.map(array, f2) : array);
        }
      };
    }
    var pv;
    var MMCQ = function() {
      var sigbits = 5, rshift = 8 - sigbits, maxIterations = 1e3, fractByPopulations = 0.75;
      function getColorIndex(r2, g2, b2) {
        return (r2 << 2 * sigbits) + (g2 << sigbits) + b2;
      }
      function PQueue(comparator) {
        var contents = [], sorted = false;
        function sort() {
          contents.sort(comparator);
          sorted = true;
        }
        return {
          push: function(o2) {
            contents.push(o2);
            sorted = false;
          },
          peek: function(index) {
            if (!sorted)
              sort();
            if (index === void 0)
              index = contents.length - 1;
            return contents[index];
          },
          pop: function() {
            if (!sorted)
              sort();
            return contents.pop();
          },
          size: function() {
            return contents.length;
          },
          map: function(f2) {
            return contents.map(f2);
          },
          debug: function() {
            if (!sorted)
              sort();
            return contents;
          }
        };
      }
      function VBox(r1, r2, g1, g2, b1, b2, histo) {
        var vbox = this;
        vbox.r1 = r1;
        vbox.r2 = r2;
        vbox.g1 = g1;
        vbox.g2 = g2;
        vbox.b1 = b1;
        vbox.b2 = b2;
        vbox.histo = histo;
      }
      VBox.prototype = {
        volume: function(force) {
          var vbox = this;
          if (!vbox._volume || force) {
            vbox._volume = (vbox.r2 - vbox.r1 + 1) * (vbox.g2 - vbox.g1 + 1) * (vbox.b2 - vbox.b1 + 1);
          }
          return vbox._volume;
        },
        count: function(force) {
          var vbox = this, histo = vbox.histo;
          if (!vbox._count_set || force) {
            var npix = 0, i2, j2, k2, index;
            for (i2 = vbox.r1; i2 <= vbox.r2; i2++) {
              for (j2 = vbox.g1; j2 <= vbox.g2; j2++) {
                for (k2 = vbox.b1; k2 <= vbox.b2; k2++) {
                  index = getColorIndex(i2, j2, k2);
                  npix += histo[index] || 0;
                }
              }
            }
            vbox._count = npix;
            vbox._count_set = true;
          }
          return vbox._count;
        },
        copy: function() {
          var vbox = this;
          return new VBox(vbox.r1, vbox.r2, vbox.g1, vbox.g2, vbox.b1, vbox.b2, vbox.histo);
        },
        avg: function(force) {
          var vbox = this, histo = vbox.histo;
          if (!vbox._avg || force) {
            var ntot = 0, mult = 1 << 8 - sigbits, rsum = 0, gsum = 0, bsum = 0, hval, i2, j2, k2, histoindex;
            for (i2 = vbox.r1; i2 <= vbox.r2; i2++) {
              for (j2 = vbox.g1; j2 <= vbox.g2; j2++) {
                for (k2 = vbox.b1; k2 <= vbox.b2; k2++) {
                  histoindex = getColorIndex(i2, j2, k2);
                  hval = histo[histoindex] || 0;
                  ntot += hval;
                  rsum += hval * (i2 + 0.5) * mult;
                  gsum += hval * (j2 + 0.5) * mult;
                  bsum += hval * (k2 + 0.5) * mult;
                }
              }
            }
            if (ntot) {
              vbox._avg = [~~(rsum / ntot), ~~(gsum / ntot), ~~(bsum / ntot)];
            } else {
              vbox._avg = [~~(mult * (vbox.r1 + vbox.r2 + 1) / 2), ~~(mult * (vbox.g1 + vbox.g2 + 1) / 2), ~~(mult * (vbox.b1 + vbox.b2 + 1) / 2)];
            }
          }
          return vbox._avg;
        },
        contains: function(pixel) {
          var vbox = this, rval = pixel[0] >> rshift;
          gval = pixel[1] >> rshift;
          bval = pixel[2] >> rshift;
          return rval >= vbox.r1 && rval <= vbox.r2 && gval >= vbox.g1 && gval <= vbox.g2 && bval >= vbox.b1 && bval <= vbox.b2;
        }
      };
      function CMap() {
        this.vboxes = new PQueue(function(a2, b2) {
          return pv.naturalOrder(
            a2.vbox.count() * a2.vbox.volume(),
            b2.vbox.count() * b2.vbox.volume()
          );
        });
        ;
      }
      CMap.prototype = {
        push: function(vbox) {
          this.vboxes.push({
            vbox,
            color: vbox.avg()
          });
        },
        palette: function() {
          return this.vboxes.map(function(vb) {
            return vb.color;
          });
        },
        size: function() {
          return this.vboxes.size();
        },
        map: function(color) {
          var vboxes = this.vboxes;
          for (var i2 = 0; i2 < vboxes.size(); i2++) {
            if (vboxes.peek(i2).vbox.contains(color)) {
              return vboxes.peek(i2).color;
            }
          }
          return this.nearest(color);
        },
        nearest: function(color) {
          var vboxes = this.vboxes, d1, d2, pColor;
          for (var i2 = 0; i2 < vboxes.size(); i2++) {
            d2 = Math.sqrt(
              Math.pow(color[0] - vboxes.peek(i2).color[0], 2) + Math.pow(color[1] - vboxes.peek(i2).color[1], 2) + Math.pow(color[2] - vboxes.peek(i2).color[2], 2)
            );
            if (d2 < d1 || d1 === void 0) {
              d1 = d2;
              pColor = vboxes.peek(i2).color;
            }
          }
          return pColor;
        },
        forcebw: function() {
          var vboxes = this.vboxes;
          vboxes.sort(function(a2, b2) {
            return pv.naturalOrder(pv.sum(a2.color), pv.sum(b2.color));
          });
          var lowest = vboxes[0].color;
          if (lowest[0] < 5 && lowest[1] < 5 && lowest[2] < 5)
            vboxes[0].color = [0, 0, 0];
          var idx = vboxes.length - 1, highest = vboxes[idx].color;
          if (highest[0] > 251 && highest[1] > 251 && highest[2] > 251)
            vboxes[idx].color = [255, 255, 255];
        }
      };
      function getHisto(pixels) {
        var histosize = 1 << 3 * sigbits, histo = new Array(histosize), index, rval, gval2, bval2;
        pixels.forEach(function(pixel) {
          rval = pixel[0] >> rshift;
          gval2 = pixel[1] >> rshift;
          bval2 = pixel[2] >> rshift;
          index = getColorIndex(rval, gval2, bval2);
          histo[index] = (histo[index] || 0) + 1;
        });
        return histo;
      }
      function vboxFromPixels(pixels, histo) {
        var rmin = 1e6, rmax = 0, gmin = 1e6, gmax = 0, bmin = 1e6, bmax = 0, rval, gval2, bval2;
        pixels.forEach(function(pixel) {
          rval = pixel[0] >> rshift;
          gval2 = pixel[1] >> rshift;
          bval2 = pixel[2] >> rshift;
          if (rval < rmin)
            rmin = rval;
          else if (rval > rmax)
            rmax = rval;
          if (gval2 < gmin)
            gmin = gval2;
          else if (gval2 > gmax)
            gmax = gval2;
          if (bval2 < bmin)
            bmin = bval2;
          else if (bval2 > bmax)
            bmax = bval2;
        });
        return new VBox(rmin, rmax, gmin, gmax, bmin, bmax, histo);
      }
      function medianCutApply(histo, vbox) {
        if (!vbox.count())
          return;
        var rw = vbox.r2 - vbox.r1 + 1, gw = vbox.g2 - vbox.g1 + 1, bw = vbox.b2 - vbox.b1 + 1, maxw = pv.max([rw, gw, bw]);
        if (vbox.count() == 1) {
          return [vbox.copy()];
        }
        var total = 0, partialsum = [], lookaheadsum = [], i2, j2, k2, sum, index;
        if (maxw == rw) {
          for (i2 = vbox.r1; i2 <= vbox.r2; i2++) {
            sum = 0;
            for (j2 = vbox.g1; j2 <= vbox.g2; j2++) {
              for (k2 = vbox.b1; k2 <= vbox.b2; k2++) {
                index = getColorIndex(i2, j2, k2);
                sum += histo[index] || 0;
              }
            }
            total += sum;
            partialsum[i2] = total;
          }
        } else if (maxw == gw) {
          for (i2 = vbox.g1; i2 <= vbox.g2; i2++) {
            sum = 0;
            for (j2 = vbox.r1; j2 <= vbox.r2; j2++) {
              for (k2 = vbox.b1; k2 <= vbox.b2; k2++) {
                index = getColorIndex(j2, i2, k2);
                sum += histo[index] || 0;
              }
            }
            total += sum;
            partialsum[i2] = total;
          }
        } else {
          for (i2 = vbox.b1; i2 <= vbox.b2; i2++) {
            sum = 0;
            for (j2 = vbox.r1; j2 <= vbox.r2; j2++) {
              for (k2 = vbox.g1; k2 <= vbox.g2; k2++) {
                index = getColorIndex(j2, k2, i2);
                sum += histo[index] || 0;
              }
            }
            total += sum;
            partialsum[i2] = total;
          }
        }
        partialsum.forEach(function(d2, i3) {
          lookaheadsum[i3] = total - d2;
        });
        function doCut(color) {
          var dim1 = color + "1", dim2 = color + "2", left, right, vbox1, vbox2, d2, count2 = 0;
          for (i2 = vbox[dim1]; i2 <= vbox[dim2]; i2++) {
            if (partialsum[i2] > total / 2) {
              vbox1 = vbox.copy();
              vbox2 = vbox.copy();
              left = i2 - vbox[dim1];
              right = vbox[dim2] - i2;
              if (left <= right)
                d2 = Math.min(vbox[dim2] - 1, ~~(i2 + right / 2));
              else
                d2 = Math.max(vbox[dim1], ~~(i2 - 1 - left / 2));
              while (!partialsum[d2])
                d2++;
              count2 = lookaheadsum[d2];
              while (!count2 && partialsum[d2 - 1])
                count2 = lookaheadsum[--d2];
              vbox1[dim2] = d2;
              vbox2[dim1] = vbox1[dim2] + 1;
              return [vbox1, vbox2];
            }
          }
        }
        return maxw == rw ? doCut("r") : maxw == gw ? doCut("g") : doCut("b");
      }
      function quantize2(pixels, maxcolors) {
        if (!pixels.length || maxcolors < 2 || maxcolors > 256) {
          return false;
        }
        var histo = getHisto(pixels), histosize = 1 << 3 * sigbits;
        var nColors = 0;
        histo.forEach(function() {
          nColors++;
        });
        if (nColors <= maxcolors) {
        }
        var vbox = vboxFromPixels(pixels, histo), pq = new PQueue(function(a2, b2) {
          return pv.naturalOrder(a2.count(), b2.count());
        });
        pq.push(vbox);
        function iter(lh, target) {
          var ncolors = 1, niters = 0, vbox2;
          while (niters < maxIterations) {
            vbox2 = lh.pop();
            if (!vbox2.count()) {
              lh.push(vbox2);
              niters++;
              continue;
            }
            var vboxes = medianCutApply(histo, vbox2), vbox1 = vboxes[0], vbox22 = vboxes[1];
            if (!vbox1) {
              return;
            }
            lh.push(vbox1);
            if (vbox22) {
              lh.push(vbox22);
              ncolors++;
            }
            if (ncolors >= target)
              return;
            if (niters++ > maxIterations) {
              return;
            }
          }
        }
        iter(pq, fractByPopulations * maxcolors);
        var pq2 = new PQueue(function(a2, b2) {
          return pv.naturalOrder(a2.count() * a2.volume(), b2.count() * b2.volume());
        });
        while (pq.size()) {
          pq2.push(pq.pop());
        }
        iter(pq2, maxcolors - pq2.size());
        var cmap = new CMap();
        while (pq2.size()) {
          cmap.push(pq2.pop());
        }
        return cmap;
      }
      return {
        quantize: quantize2
      };
    }();
    module2.exports = MMCQ.quantize;
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => ColorPalette2,
  urlRegex: () => urlRegex
});
module.exports = __toCommonJS(main_exports);
var import_obsidian10 = require("obsidian");

// src/CreatePaletteModal.ts
var import_obsidian5 = require("obsidian");

// src/palette.ts
var import_obsidian3 = require("obsidian");

// node_modules/colorsea/dist/index.esm.js
function t(t2, r2, n2, e2) {
  var o2, i2 = arguments.length, a2 = i2 < 3 ? r2 : null === e2 ? e2 = Object.getOwnPropertyDescriptor(r2, n2) : e2;
  if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
    a2 = Reflect.decorate(t2, r2, n2, e2);
  else
    for (var u2 = t2.length - 1; u2 >= 0; u2--)
      (o2 = t2[u2]) && (a2 = (i2 < 3 ? o2(a2) : i2 > 3 ? o2(r2, n2, a2) : o2(r2, n2)) || a2);
  return i2 > 3 && a2 && Object.defineProperty(r2, n2, a2), a2;
}
function r(t2, r2, n2) {
  if (n2 || 2 === arguments.length)
    for (var e2, o2 = 0, i2 = r2.length; o2 < i2; o2++)
      !e2 && o2 in r2 || (e2 || (e2 = Array.prototype.slice.call(r2, 0, o2)), e2[o2] = r2[o2]);
  return t2.concat(e2 || Array.prototype.slice.call(r2));
}
var n = function(t2, r2, n2) {
  return [t2, r2, n2].map(function(t3) {
    return (t3 /= 255) > 0.04045 ? Math.pow((t3 + 0.055) / 1.055, 2.4) : t3 / 12.92;
  });
};
var e = function(t2, r2, n2) {
  return [t2, r2, n2].map(function(t3) {
    return 255 * (t3 <= 304e-5 ? 12.92 * t3 : 1.055 * Math.pow(t3, 1 / 2.4) - 0.055);
  });
};
var o = function(t2, r2, n2) {
  return Math.min(Math.max(t2, r2), n2);
};
var i = function(t2, r2) {
  return Math.round((t2 + Number.EPSILON) * Math.pow(10, r2)) / Math.pow(10, r2);
};
var a = function(t2, r2) {
  return Math.floor(Math.random() * (r2 - t2 + 1) - t2);
};
var u = function(t2, r2, n2, e2) {
  for (var i2, a2 = [t2, r2, n2], u2 = "#", h2 = 0; h2 < a2.length; h2++)
    u2 += (i2 = a2[h2], Math.round(o(i2, 0, 255)).toString(16).padStart(2, "0"));
  return null != e2 && (u2 += Math.round(o(e2, 0, 100) / 100 * 255).toString(16).padStart(2, "0")), u2;
};
var h = function(t2) {
  var n2 = t2.length, e2 = (t2 = function(t3) {
    var r2 = (t3 = /^#/.test(t3) ? t3.slice(1) : t3).length;
    if (![3, 4, 6, 8].includes(r2))
      return "000000";
    if (6 === r2 || 8 === r2)
      return t3;
    if (3 === r2 || 4 === r2) {
      for (var n3 = "", e3 = 0; e3 < r2; e3++) {
        var o3 = t3[e3];
        n3 += "" + o3 + o3;
      }
      return n3;
    }
    return "000000";
  }(t2).padEnd(8, "ff")).match(/.{2}/g);
  if (!e2)
    return [0, 0, 0, 1];
  var o2 = [0, 0, 0], i2 = false;
  return e2.forEach(function(t3, r2) {
    r2 < 3 ? o2[r2] = parseInt(t3, 16) : i2 = 100 * parseInt(t3, 16) / 255;
  }), false === i2 || n2 < 8 ? o2 : r(r([], o2, true), [i2], false);
};
var c = function(t2, r2, n2) {
  var e2;
  e2 = [t2, r2, n2].map(function(t3) {
    return t3 / 255;
  }), t2 = e2[0], r2 = e2[1], n2 = e2[2];
  var o2 = 1 - Math.max(t2, r2, n2), i2 = o2 < 1 ? 1 / (1 - o2) : 0;
  return [(1 - t2 - o2) * i2 * 100, (1 - r2 - o2) * i2 * 100, (1 - n2 - o2) * i2 * 100, 100 * o2];
};
var l = function(t2, r2, n2, e2) {
  return 100 === e2 ? [0, 0, 0] : (e2 /= 100, [t2, r2, n2].map(function(t3) {
    return (t3 /= 100) >= 1 ? 0 : 255 * (1 - t3) * (1 - e2);
  }));
};
function p(t2, r2, n2, e2) {
  var o2;
  void 0 === e2 && (e2 = "l"), o2 = [t2, r2, n2].map(function(t3) {
    return t3 / 255;
  }), t2 = o2[0], r2 = o2[1], n2 = o2[2];
  var i2 = Math.max(t2, r2, n2), a2 = Math.min(t2, r2, n2), u2 = function(t3, r3, n3, e3) {
    var o3;
    void 0 === e3 && (e3 = false), o3 = [t3, r3, n3].map(function(t4) {
      return t4 / 255;
    }), t3 = o3[0], r3 = o3[1], n3 = o3[2];
    var i3 = Math.max(t3, r3, n3), a3 = Math.min(t3, r3, n3), u3 = 0;
    if (i3 !== a3)
      if (e3)
        u3 = (t3 - r3 + (t3 - n3)) / 2, u3 /= Math.sqrt((t3 - r3) * (t3 - r3) + (t3 - n3) * (r3 - n3)), u3 = Math.acos(u3), n3 > r3 && (u3 = 2 * Math.PI - u3), u3 /= 2 * Math.PI;
      else {
        var h3 = i3 - a3;
        u3 = i3 === t3 ? (r3 - n3) / h3 + (r3 < n3 ? 6 : 0) : i3 === r3 ? (n3 - t3) / h3 + 2 : (t3 - r3) / h3 + 4, u3 /= 6;
      }
    else
      u3 = NaN;
    return 360 * u3;
  }(t2, r2, n2, "i" === e2), h2 = 0, c2 = (i2 + a2) / 2, l2 = i2 - a2, p2 = i2, f2 = (t2 + r2 + n2) / 3;
  return "v" === e2 && (h2 = 0 === i2 ? 0 : l2 / i2), i2 !== a2 && "l" === e2 && (h2 = c2 > 0.5 ? l2 / (2 - i2 - a2) : l2 / (i2 + a2)), "i" === e2 && (h2 = f2 > 0 ? 1 - a2 / f2 : 0), h2 *= 100, c2 *= 100, f2 *= 100, "l" === e2 ? [u2, h2, c2] : "v" === e2 ? [u2, h2, p2 *= 100] : [u2, h2, f2];
}
var f = function(t2, r2, n2) {
  return p(t2, r2, n2, "l");
};
var s = function(t2, r2, n2) {
  var e2, i2, a2 = function(t3) {
    return 6 * (t3 = t3 < 0 ? t3 + 1 : t3 > 1 ? t3 - 1 : t3) < 1 ? e2 + (i2 - e2) * t3 * 6 : 2 * t3 < 1 ? i2 : 3 * t3 < 2 ? e2 + (i2 - e2) * (2 / 3 - t3) * 6 : e2;
  };
  return t2 = t2 % 360 / 360, r2 = o(r2 / 100, 0, 1), n2 = o(n2 / 100, 0, 1), e2 = 2 * n2 - (i2 = n2 <= 0.5 ? n2 * (r2 + 1) : n2 + r2 - n2 * r2), [255 * a2(t2 + 1 / 3), 255 * a2(t2), 255 * a2(t2 - 1 / 3)];
};
var v = function(t2, r2, n2) {
  return p(t2, r2, n2, "v");
};
var b = function(t2, r2, n2) {
  var e2, o2, i2 = [n2 /= 100, n2 * (1 - (r2 /= 100)), n2 * (1 - (o2 = (t2 = t2 % 360 / 360 * 360) / 60 - (e2 = Math.floor(t2 / 60 % 6))) * r2), n2 * (1 - (1 - o2) * r2)], a2 = [[0, 3, 1], [2, 0, 1], [1, 0, 3], [1, 2, 0], [3, 1, 0], [0, 1, 2]];
  return [255 * i2[a2[e2][0]], 255 * i2[a2[e2][1]], 255 * i2[a2[e2][2]]];
};
var y = function(t2, r2, n2) {
  return p(t2, r2, n2, "i");
};
var d = function(t2, r2, n2) {
  var e2, i2, a2, u2;
  r2 /= 100, n2 /= 100, isNaN(t2) && (t2 = 0), isNaN(r2) && (r2 = 0);
  var h2 = function(t3) {
    return (1 + r2 * Math.cos(2 * Math.PI * t3) / Math.cos(Math.PI / 3 - 2 * Math.PI * t3)) / 3;
  };
  return (t2 = (360 + t2) % 360 / 360) < 1 / 3 ? a2 = 1 - ((u2 = (1 - r2) / 3) + (i2 = h2(t2))) : t2 < 2 / 3 ? u2 = 1 - ((i2 = (1 - r2) / 3) + (a2 = h2(t2 -= 1 / 3))) : i2 = 1 - ((a2 = (1 - r2) / 3) + (u2 = h2(t2 -= 2 / 3))), e2 = [i2, a2, u2].map(function(t3) {
    return 255 * o(n2 * t3 * 3, 0, 1);
  }), [i2 = e2[0], a2 = e2[1], u2 = e2[2]];
};
var g = function(t2, r2, n2) {
  return [f(t2, r2, n2)[0], 100 * (Math.min(t2, r2, n2) / 255), 100 * (1 - Math.max(t2, r2, n2) / 255)];
};
function w(t2, r2, n2) {
  return r2 /= 100, n2 /= 100, s(t2, 100, 50).map(function(t3) {
    return 255 * (t3 / 255 * (1 - r2 - n2) + r2);
  });
}
var m = { x: [0.4124564, 0.3575761, 0.1804375], y: [0.2126729, 0.7151522, 0.072175], z: [0.0193339, 0.119192, 0.9503041] };
var M = { r: [3.2404542, -1.5371385, -0.4985314], g: [-0.969266, 1.8760108, 0.041556], b: [0.0556434, -0.2040259, 1.0572252] };
var x = 0.95047;
var _ = 1;
var C = 1.08883;
var I = 0.206896552;
var k = 8856452e-9;
var E = 24389 / 27;
var z = function(t2, r2, e2) {
  var o2 = n(t2, r2, e2);
  return [100 * m.x.reduce(function(t3, r3, n2) {
    return t3 + r3 * o2[n2];
  }, 0), 100 * m.y.reduce(function(t3, r3, n2) {
    return t3 + r3 * o2[n2];
  }, 0), 100 * m.z.reduce(function(t3, r3, n2) {
    return t3 + r3 * o2[n2];
  }, 0)];
};
var N = function(t2, r2, n2) {
  var o2 = [t2, r2, n2], i2 = M.r.reduce(function(t3, r3, n3) {
    return t3 + r3 * o2[n3];
  }, 0) / 100, a2 = M.g.reduce(function(t3, r3, n3) {
    return t3 + r3 * o2[n3];
  }, 0) / 100, u2 = M.b.reduce(function(t3, r3, n3) {
    return t3 + r3 * o2[n3];
  }, 0) / 100;
  return e(i2, a2, u2);
};
var O = function(t2, r2, n2) {
  var e2;
  return e2 = [t2 = t2 / x / 100, r2 = r2 / _ / 100, n2 = n2 / C / 100].map(function(t3) {
    return t3 > k ? Math.pow(t3, 1 / 3) : (E * t3 + 16) / 116;
  }), t2 = e2[0], r2 = e2[1], n2 = e2[2], [Math.max(0, 116 * r2 - 16), 500 * (t2 - r2), 200 * (r2 - n2)];
};
var P = function(t2, r2, n2) {
  var e2, o2 = (t2 + 16) / 116, i2 = isNaN(r2) ? o2 : o2 + r2 / 500, a2 = isNaN(n2) ? o2 : o2 - n2 / 200;
  return e2 = [i2, o2, a2].map(function(t3) {
    return t3 > I ? Math.pow(t3, 3) : (116 * t3 - 16) / E;
  }), i2 = e2[0], o2 = e2[1], a2 = e2[2], [i2 * x * 100, o2 * _ * 100, a2 * C * 100];
};
var j = function(t2, r2, n2) {
  return N.apply(void 0, P(t2, r2, n2));
};
var S = function(t2, r2, n2) {
  r2 = o(r2, -100, 100), n2 = o(n2, -100, 100);
  var e2 = Math.sqrt(r2 * r2 + n2 * n2), i2 = (180 * Math.atan2(n2, r2) / Math.PI + 360) % 360;
  return 0 === Math.round(1e4 * e2) && (i2 = Number.NaN), [t2, e2, i2];
};
var A = function(t2, r2, n2) {
  return isNaN(n2) && (n2 = 0), n2 *= Math.PI / 180, [t2, Math.cos(n2) * r2, Math.sin(n2) * r2];
};
var L = function(t2, r2, n2) {
  return P.apply(void 0, A(t2, r2, n2));
};
var H = function(t2, r2, n2) {
  var e2 = t2 + r2 + n2, o2 = 0, i2 = 0;
  return e2 > 0 && (o2 = t2 / e2, i2 = r2 / e2), [o2, i2, r2];
};
var Y = Object.freeze({ __proto__: null, linear2rgb: e, rgb2linear: n, rgb2hex: u, hex2rgb: h, rgb2cmyk: c, cmyk2rgb: l, rgb2hsl: f, hsl2rgb: s, rgb2hsv: v, hsv2rgb: b, rgb2hsi: y, hsi2rgb: d, rgb2hwb: g, hwb2rgb: w, rgb2xyz: z, xyz2rgb: N, xyz2lab: O, lab2xyz: P, rgb2lab: function(t2, r2, n2) {
  return O.apply(void 0, z(t2, r2, n2));
}, lab2rgb: j, lch2lab: A, lab2lch: S, xyz2lch: function(t2, r2, n2) {
  return S.apply(void 0, O(t2, r2, n2));
}, lch2xyz: L, xyY2xyz: function(t2, r2, n2) {
  return 0 === r2 ? [0, 0, 0] : [t2 * (n2 / r2), n2, n2 / r2 * (1 - t2 - r2)];
}, xyz2xyY: H });
function R(t2, n2) {
  return void 0 === n2 && (n2 = false), function(e2, o2, i2) {
    var a2 = i2.value;
    i2.value = function() {
      for (var e3 = [], o3 = 0; o3 < arguments.length; o3++)
        e3[o3] = arguments[o3];
      if (e3.length > 0 && n2) {
        var i3 = JSON.stringify(e3);
        t2 += i3;
      }
      if (this.cache.has(t2))
        return this.cache.get(t2);
      var u2 = a2.call.apply(a2, r([this], e3, false));
      return this.cache.set(t2, u2), u2;
    };
  };
}
function q(t2, n2, e2, o2) {
  return void 0 === t2 && (t2 = [0, 2, 2]), void 0 === n2 && (n2 = 0), void 0 === e2 && (e2 = true), void 0 === o2 && (o2 = 0), function(a2, u2, h2) {
    var c2 = h2.value;
    h2.value = function() {
      for (var a3 = [], u3 = 0; u3 < arguments.length; u3++)
        a3[u3] = arguments[u3];
      var h3 = void 0 === a3[o2] ? e2 : a3[o2], l2 = c2.call.apply(c2, r([this], a3, false));
      if (false === h3)
        return l2;
      var p2 = "number" == typeof h3 ? Math.round(h3) : 0, f2 = "number" == typeof t2 ? new Array(l2.length).fill(t2) : t2, s2 = f2.map(function(t3) {
        return 1 === n2 ? "number" == typeof h3 ? p2 : t3 : t3 + p2;
      });
      return l2.map(function(t3, r2) {
        return i(t3, s2[r2]);
      });
    };
  };
}
var D = function(t2, r2, n2) {
  var e2 = t2 instanceof ft ? t2 : new ft(t2), i2 = r2 instanceof ft ? r2 : new ft(r2), a2 = o(n2, 0, 100) / 100, u2 = 2 * a2 - 1, h2 = e2.alpha() - i2.alpha(), c2 = ((u2 * h2 == -1 ? u2 : (u2 + h2) / (1 + u2 * h2)) + 1) / 2, l2 = 1 - c2, p2 = [Math.round(o(e2.red() * c2 + i2.red() * l2, 0, 255)), Math.round(o(e2.green() * c2 + i2.green() * l2, 0, 255)), Math.round(o(e2.blue() * c2 + i2.blue() * l2, 0, 255))], f2 = e2.alpha() * a2 + i2.alpha() * (1 - a2);
  return new ft(p2, f2);
};
var F = Math.sqrt;
var U = Math.pow;
var $ = Math.cos;
var J = Math.abs;
var Z = Math.sin;
var B = Math.exp;
var G = Math.atan2;
var K = Math.PI;
var Q = function(t2) {
  return K * t2 / 180;
};
var T = function(t2, r2, n2) {
  void 0 === n2 && (n2 = true);
  var e2 = G(r2, t2);
  return n2 && (e2 = (e2 = (e2 = 180 * e2 / K) > 0 ? e2 : e2 + 360) > 360 ? e2 - 360 : e2), e2;
};
var V = function(t2, r2) {
  void 0 === r2 && (r2 = true);
  var n2 = t2.lab(false), e2 = n2[0], o2 = n2[1], i2 = n2[2];
  return [e2, F(U(o2, 2) + U(i2, 2)), T(o2, i2, r2), o2, i2];
};
var W = ["CMC", "CIE", "CIE2000", "CIE1994", "CIE1976"];
var X = "CMC";
var tt = "CIE2000";
var rt = "CIE1994";
var nt = "CIE1976";
var et = function(t2, r2, n2, e2) {
  void 0 === n2 && (n2 = "CIE");
  var o2 = function(t3) {
    var r3 = t3.toUpperCase();
    return W.includes(r3) && "CIE" !== r3 ? r3 : tt;
  }(n2);
  if (e2 = e2 || {}, o2 === X) {
    var i2 = Object.assign({}, { l: 1, c: 1 }, e2);
    return function(t3, r3, n3, e3) {
      void 0 === n3 && (n3 = 1), void 0 === e3 && (e3 = 1);
      var o3 = V(t3, true), i3 = o3[0], a3 = o3[1], u3 = o3[2], h3 = o3[3], c3 = o3[4], l2 = V(r3), p2 = l2[0], f2 = l2[1], s2 = l2[3], v2 = a3 - f2, b2 = i3 - p2, y2 = c3 - l2[4], d2 = F(U(h3 - s2, 2) + U(y2, 2) - U(v2, 2)), g2 = i3 < 16 ? 0.511 : 0.040975 * i3 / (1 + 0.01765 * i3), w2 = 0.0638 * a3 / (1 + 0.0131 * a3) + 0.638, m2 = 164 <= u3 && u3 <= 345 ? 0.56 + J(0.2 * $(Q(u3 + 168))) : 0.36 + J(0.4 * $(Q(u3 + 35))), M2 = F(U(a3, 4) / (U(a3, 4) + 1900)), x2 = w2 * (M2 * m2 + 1 - M2);
      return F(U(b2 / (n3 * g2), 2) + U(v2 / (e3 * w2), 2) + U(d2 / x2, 2));
    }(t2, r2, i2.l, i2.c);
  }
  if (o2 === rt) {
    var a2 = { kL: 1, kC: 1, kH: 1, cate: "graphic" }, u2 = Object.assign({}, a2, e2);
    return function(t3, r3, n3, e3, o3, i3) {
      void 0 === n3 && (n3 = 1), void 0 === e3 && (e3 = 1), void 0 === o3 && (o3 = 1), void 0 === i3 && (i3 = "graphic");
      var a3 = "textiles" === i3 ? 0.048 : 0.045, u3 = "textiles" === i3 ? 0.014 : 0.015;
      n3 = "textiles" === i3 ? 2 : n3;
      var h3 = V(t3), c3 = h3[0], l2 = h3[1], p2 = h3[3], f2 = h3[4], s2 = V(r3), v2 = s2[0], b2 = s2[1], y2 = s2[3], d2 = c3 - v2, g2 = l2 - b2, w2 = f2 - s2[4], m2 = 1 + a3 * l2, M2 = 1 + u3 * l2, x2 = F(U(p2 - y2, 2) + U(w2, 2) - U(g2, 2));
      return F(U(d2 / (1 * n3), 2) + U(g2 / (e3 * m2), 2) + U(x2 / (o3 * M2), 2));
    }(t2, r2, u2.kL, u2.kC, u2.kH, u2.cate);
  }
  if (o2 === nt)
    return function(t3, r3) {
      var n3 = t3.lab(false), e3 = n3[0], o3 = n3[1], i3 = n3[2], a3 = r3.lab(false), u3 = a3[0], h3 = a3[1], c3 = a3[2];
      return F(U(e3 - u3, 2) + U(o3 - h3, 2) + U(i3 - c3, 2));
    }(t2, r2);
  var h2 = { kL: 1, kC: 1, kH: 1 }, c2 = Object.assign({}, h2, e2);
  return function(t3, r3, n3, e3, o3) {
    void 0 === n3 && (n3 = 1), void 0 === e3 && (e3 = 1), void 0 === o3 && (o3 = 1);
    var i3 = V(t3), a3 = i3[0], u3 = i3[1], h3 = i3[3], c3 = i3[4], l2 = V(r3), p2 = l2[0], f2 = l2[1], s2 = l2[3], v2 = l2[4], b2 = (a3 + p2) / 2, y2 = (u3 + f2) / 2, d2 = (1 - F(U(y2, 7) / (U(y2, 7) + U(25, 7)))) / 2, g2 = h3 * (1 + d2), w2 = s2 * (1 + d2), m2 = F(U(g2, 2) + U(c3, 2)), M2 = F(U(w2, 2) + U(v2, 2)), x2 = T(g2, c3, true), _2 = T(w2, v2, true), C2 = (m2 + M2) / 2, I2 = J(x2 - _2) > 180 ? (x2 + _2 + 360) / 2 : (x2 + _2) / 2, k2 = 1 - 0.17 * $(Q(I2 - 30)) + 0.24 * $(Q(2 * I2)) + 0.32 * $(Q(3 * I2 + 6)) - 0.2 * $(Q(4 * I2 - 63)), E2 = J(_2 - x2) <= 180 ? _2 - x2 : J(_2 - x2) > 180 && _2 <= x2 ? _2 - x2 + 360 : _2 - x2 - 360, z2 = p2 - a3, N2 = f2 - u3, O2 = 2 * F(m2 * M2) * Z(Q(E2) / 2), P2 = 1 + 0.015 * U(b2 - 50, 2) / F(20 + U(b2 - 50, 2)), j2 = 1 + 0.045 * C2, S2 = 1 + 0.015 * C2 * k2, A2 = 30 * B(-U((I2 - 275) / 25, 2)), L2 = -2 * F(U(C2, 7) / (U(C2, 7) + U(25, 7))) * Z(2 * Q(A2));
    return F(U(z2 / (n3 * P2), 2) + U(N2 / (e3 * j2), 2) + U(O2 / (o3 * S2), 2) + L2 * (N2 / (e3 * j2)) * (O2 / (o3 * S2)));
  }(t2, r2, c2.kL, c2.kC, c2.kH);
};
var ot = function(t2, r2, n2) {
  var e2 = Math.abs, o2 = Math.max, i2 = Math.min, a2 = t2 instanceof ft ? t2 : new ft(t2), u2 = r2 instanceof ft ? r2 : new ft(r2), h2 = Object.assign({}, { b: 125, c: 500 }, n2);
  return !(e2(255 * a2.brightness() / 100 - 255 * u2.brightness() / 100) <= h2.b) && !(o2(a2.red(), u2.red()) - i2(a2.red(), u2.red()) + (o2(a2.green(), u2.green()) - i2(a2.green(), u2.green())) + (o2(a2.blue(), u2.blue()) - i2(a2.blue(), u2.blue())) <= h2.c);
};
var it = function(t2, r2, n2) {
  var e2, i2 = function(t3) {
    return o(t3, 0, 100);
  }, a2 = function(t3) {
    return o(t3, 0, 255);
  }, u2 = { h: [0, function(t3) {
    return t3 % 360;
  }], s: [1, i2], l: [2, i2], r: [0, a2], g: [1, a2], b: [2, a2] }, h2 = u2[r2][0];
  if (["h", "s", "l"].includes(r2)) {
    var c2 = t2.hsl();
    if (void 0 === n2)
      return c2[h2];
    n2 = u2[r2][1](n2), c2[h2] = n2, e2 = s.apply(void 0, c2);
  } else {
    if (e2 = t2.rgb(), void 0 === n2)
      return e2[h2];
    n2 = u2[r2][1](n2), e2[h2] = n2;
  }
  return new ft(e2, t2.alpha());
};
var at = {};
var ut = /* @__PURE__ */ new Set(["rgb", "rgba", "cmyk", "lab", "hsl", "hsla", "hsv", "hsva", "hsi", "hsia", "xyz", "lch", "hwb", "hwba"]);
var ht = /^([a-zA-Z]+)\(([\s\S]+)\)$/;
var ct = function(t2) {
  return "string" == typeof t2 ? -1 === t2.indexOf("%") ? ct(Number(t2.trim())) : (t2 = t2.split("%")[0], (t2 = Number(t2.trim())) || 0) : Math.abs(t2) < 1 ? 100 * t2 : t2;
};
var lt = function(t2, r2) {
  void 0 === r2 && (r2 = /* @__PURE__ */ new Set());
  var n2 = "string" == typeof t2 ? t2 : t2.join(",");
  if (r2.has(n2))
    throw new Error("Invalid Color");
  r2.add(n2);
  var e2 = "rgb", o2 = [0, 0, 0], i2 = 100;
  if (Array.isArray(t2)) {
    if (t2.length < 3)
      throw new Error("Invalid Color");
    for (var a2 = 0; a2 < t2.length; a2++)
      if (a2 < 3)
        o2[a2] = t2[a2];
      else {
        if (3 !== a2 || void 0 === t2[3])
          break;
        i2 = t2[3];
      }
  } else {
    var u2 = false, c2 = t2.trim().match(ht);
    if (c2 || (u2 = true), c2) {
      var l2 = c2[1].toLocaleLowerCase();
      if (e2 = l2, ut.has(l2) || (u2 = true), c2[2] && !u2) {
        var p2 = c2[2], f2 = -1 !== p2.indexOf(",") ? "," : " ", s2 = p2.split(f2);
        for (a2 = 0; a2 < 3; a2++)
          void 0 !== s2[a2] && (["lch", "lab"].includes(e2) && 0 === a2 || ["hsl", "hsla", "hsv", "hsva", "hwb", "hwba", "hsi", "hsia"].includes(e2) && a2 > 0 ? o2[a2] = ct(s2[a2]) : o2[a2] = Number(s2[a2].trim()));
        ["rgba", "hsla", "hsva", "hwba", "hsia"].includes(e2) ? (e2 = e2.slice(0, -1), void 0 !== s2[3] && (i2 = ct(s2[3]))) : "cmyk" === e2 && o2.push(void 0 !== s2[3] ? ct(s2[3]) : 0);
      }
    }
    if (u2) {
      if (!/^#(([a-fA-F\d]{3}){1,2}|[a-fA-F\d]{8})$/.test(t2))
        try {
          return t2 = function(t3, r3) {
            if (void 0 === r3 && (r3 = false), t3 = t3.toLowerCase(), void 0 === at[t3]) {
              if (r3)
                throw new Error("Unknown color name: ".concat(t3, ")"));
              return t3;
            }
            return at[t3];
          }(t2, true), lt(t2, r2);
        } catch (t3) {
          throw new Error("Invalid Color");
        }
      o2 = h(t2);
    }
  }
  return [e2, o2, i2];
};
var pt = { thowParseError: false };
var ft = function() {
  function n2(t2, r2, n3) {
    this.cache = /* @__PURE__ */ new Map(), this._rgb = [0, 0, 0], this._alpha = 100;
    var e2 = { thowParseError: pt.thowParseError }, i2 = Object.assign({}, e2, null != n3 ? n3 : {});
    try {
      var a2 = function(t3) {
        var r3, n4 = { lab2rgb: j, hsl2rgb: s, hsv2rgb: b, xyz2rgb: N, hwb2rgb: w, hsi2rgb: d }, e3 = lt(t3), i3 = e3[0], a3 = e3[1], u3 = e3[2];
        if ("rgb" === i3)
          return [a3, u3];
        "lch" === i3 && (i3 = (r3 = ["xyz", L(a3[0], a3[1], a3[2])])[0], a3 = r3[1]);
        var h3 = a3[0], c2 = a3[1], p2 = a3[2], f2 = a3[3];
        if ("cmyk" === i3)
          return [l(h3, c2, p2, f2).map(function(t4) {
            return o(t4, 0, 255);
          }), u3];
        var v2 = "".concat(i3, "2rgb");
        if ("function" == typeof n4[v2])
          return [n4[v2](h3, c2, p2).map(function(t4) {
            return o(t4, 0, 255);
          }), u3];
        throw new Error("Invalid color");
      }(t2), u2 = a2[0], h2 = a2[1];
      this._alpha = h2, this._rgb = u2;
    } catch (t3) {
      if (i2.thowParseError)
        throw t3;
    }
    void 0 !== r2 && (this._alpha = o(r2, 0, 100));
  }
  return n2.prototype.red = function(t2) {
    return it(this, "r", t2);
  }, n2.prototype.green = function(t2) {
    return it(this, "g", t2);
  }, n2.prototype.blue = function(t2) {
    return it(this, "b", t2);
  }, n2.prototype.alpha = function(t2) {
    return void 0 === t2 ? this._alpha : (t2 = o(t2, 0, 100), new n2(this.rgb(), t2));
  }, n2.prototype.fadeIn = function(t2, r2) {
    return void 0 === t2 && (t2 = 10), t2 = r2 && "relative" === r2 ? this._alpha * t2 / 100 : t2, new n2(this.rgb(), o(this._alpha + t2, 0, 100));
  }, n2.prototype.fadeOut = function(t2, r2) {
    return void 0 === t2 && (t2 = 10), t2 = r2 && "relative" === r2 ? this._alpha * t2 / 100 : t2, new n2(this.rgb(), o(this._alpha - t2, 0, 100));
  }, n2.prototype.opacify = function(t2, r2) {
    return void 0 === t2 && (t2 = 10), this.fadeIn(t2, r2);
  }, n2.prototype.transparentize = function(t2, r2) {
    return void 0 === t2 && (t2 = 10), this.fadeOut(t2, r2);
  }, n2.prototype.hue = function(t2) {
    return it(this, "h", t2);
  }, n2.prototype.saturation = function(t2) {
    return it(this, "s", t2);
  }, n2.prototype.lightness = function(t2) {
    return it(this, "l", t2);
  }, n2.prototype.rgb = function(t2) {
    return r([], this._rgb, true);
  }, n2.prototype.rgba = function(t2) {
    return r(r([], this.rgb(false), true), [this._alpha], false);
  }, n2.prototype.cmyk = function(t2) {
    return c.apply(void 0, this._rgb);
  }, n2.prototype.hsl = function(t2) {
    return f.apply(void 0, this._rgb);
  }, n2.prototype.hsla = function(t2) {
    return r(r([], this.hsl(false), true), [this._alpha], false);
  }, n2.prototype.hsv = function(t2) {
    return v.apply(void 0, this._rgb);
  }, n2.prototype.hsi = function(t2) {
    return y.apply(void 0, this._rgb);
  }, n2.prototype.hwb = function(t2) {
    return g.apply(void 0, this._rgb);
  }, n2.prototype.xyz = function(t2) {
    return z.apply(void 0, this._rgb);
  }, n2.prototype.lab = function(t2) {
    return O.apply(void 0, this.xyz(false));
  }, n2.prototype.lch = function(t2) {
    return S.apply(void 0, this.lab(false));
  }, n2.prototype.xyY = function(t2) {
    return H.apply(void 0, this.xyz(false));
  }, n2.prototype.hex = function(t2) {
    void 0 === t2 && (t2 = 2);
    var n3 = 0 === t2 ? void 0 : 1 === t2 ? this._alpha : 100 === this._alpha ? void 0 : this._alpha, e2 = "color:hex:param_".concat(t2);
    if (this.cache.has(e2))
      return this.cache.get(e2);
    var o2 = u.apply(void 0, r(r([], this._rgb, false), [n3], false));
    return this.cache.set(e2, o2), o2;
  }, n2.prototype.lighten = function(t2, r2) {
    void 0 === t2 && (t2 = 5);
    var e2 = this.hsl(false), i2 = e2[0], a2 = e2[1], u2 = e2[2];
    return u2 = o(u2 += void 0 !== r2 && "relative" === r2 ? u2 * (t2 / 100) : t2, 0, 100), new n2(s(i2, a2, u2), this._alpha);
  }, n2.prototype.darken = function(t2, r2) {
    return void 0 === t2 && (t2 = 5), this.lighten(-t2, r2);
  }, n2.prototype.saturate = function(t2, r2) {
    void 0 === t2 && (t2 = 5);
    var e2 = this.hsl(false), i2 = e2[0], a2 = e2[1], u2 = e2[2];
    return a2 = o(a2 += void 0 !== r2 && "relative" === r2 ? a2 * (t2 / 100) : t2, 0, 100), new n2(s(i2, a2, u2), this._alpha);
  }, n2.prototype.desaturate = function(t2, r2) {
    return void 0 === t2 && (t2 = 5), this.saturate(-t2, r2);
  }, n2.prototype.spin = function(t2) {
    var r2 = this.hsl(false), e2 = r2[0], o2 = r2[1], i2 = r2[2];
    return new n2(s(e2 = (e2 + t2 % 360 + 360) % 360, o2, i2), this._alpha);
  }, n2.prototype.adjustHue = function(t2) {
    return this.spin(t2);
  }, n2.prototype.complement = function() {
    return this.spin(180);
  }, n2.prototype.invert = function() {
    var t2 = this._rgb.map(function(t3) {
      return 255 - t3;
    });
    return new n2([t2[0], t2[1], t2[2]], this._alpha);
  }, n2.prototype.mix = function(t2, r2) {
    return void 0 === r2 && (r2 = 50), D(this, t2, 100 - o(r2, 0, 100));
  }, n2.prototype.luma = function() {
    var t2 = this._rgb.map(function(t3) {
      return (t3 /= 255) <= 0.03928 ? t3 / 12.92 : Math.pow((t3 + 0.055) / 1.055, 2.4);
    });
    return 0.2126 * t2[0] + 0.7152 * t2[1] + 0.0722 * t2[2];
  }, n2.prototype.brightness = function() {
    var t2 = this._rgb;
    return function(t3, r2, n3) {
      return (299 * t3 + 587 * r2 + 114 * n3) / 1e3 / 255 * 100;
    }(t2[0], t2[1], t2[2]);
  }, n2.prototype.deltaE = function(t2, r2, n3) {
    return void 0 === r2 && (r2 = "CMC"), et(this, t2, r2, n3);
  }, n2.prototype.visibility = function(t2, r2) {
    return ot(this, t2, r2);
  }, t([q(0, 1, true, 0), R("color:rgb")], n2.prototype, "rgb", null), t([q(0, 1, true, 0)], n2.prototype, "rgba", null), t([q(0, 1, true, 0), R("color:cmyk")], n2.prototype, "cmyk", null), t([q(0, 1, true, 0), R("color:hsl")], n2.prototype, "hsl", null), t([q(0, 1, true, 0)], n2.prototype, "hsla", null), t([q(0, 1, true, 0), R("color:hsv")], n2.prototype, "hsv", null), t([q(0, 1, true, 0), R("color:hsi")], n2.prototype, "hsi", null), t([q(0, 1, true, 0), R("color: hwb")], n2.prototype, "hwb", null), t([q(2, 1, true, 0), R("color:xyz")], n2.prototype, "xyz", null), t([q(2, 1, true, 0), R("color:lab")], n2.prototype, "lab", null), t([q(2, 1, true, 0), R("color:lch")], n2.prototype, "lch", null), t([q(2, 1, true, 0), R("color:xyY")], n2.prototype, "xyY", null), t([R("color:luma")], n2.prototype, "luma", null), n2;
}();
var st = function(t2, r2, n2, e2) {
  return new ft([t2, r2, n2], e2);
};
var vt = function(t2, r2, n2, e2) {
  return new ft(s(t2, r2, n2), e2);
};
var bt = function(t2, r2, n2, e2) {
  return new ft(b(t2, r2, n2), e2);
};
var yt = function(t2, r2, n2, e2) {
  return new ft(d(t2, r2, n2), e2);
};
var dt = function(t2, r2, n2, e2) {
  return new ft(w(t2, r2, n2), e2);
};
var gt = function(t2, r2, n2, e2) {
  return new ft(N(t2, r2, n2), e2);
};
var wt = function(t2, r2, n2, e2) {
  return new ft(j(t2, r2, n2), e2);
};
var mt = function(t2, r2, n2, e2) {
  return new ft(N.apply(void 0, L(t2, r2, n2)), e2);
};
function Mt(t2, r2, n2) {
  return new ft(t2, r2, n2);
}
Mt.config = function(t2) {
  Object.assign(pt, t2);
}, Mt.random = function() {
  var t2 = a(0, 255), r2 = a(0, 255), n2 = a(0, 255);
  return new ft([t2, r2, n2]);
}, Mt.convertor = Y, Mt.Color = ft, Mt.rgb = st, Mt.hsl = vt, Mt.hsv = bt, Mt.hsi = yt, Mt.hwb = dt, Mt.xyz = gt, Mt.lab = wt, Mt.lch = mt, Mt.mix = D, Mt.deltaE = et, Mt.utils = { roundDecimal: i, randomRange: a }, Mt.useNames = function(t2, r2) {
  return function(t3, r3) {
    if (void 0 !== r3 && "function" == typeof r3) {
      var n2 = {};
      for (var e2 in t3) {
        var o2 = r3(e2, t3[e2]), i2 = o2[0], a2 = o2[1];
        n2[i2] = a2;
      }
      Object.assign(at, n2);
    } else
      Object.assign(at, t3);
  }(t2, r2), Mt;
};

// src/settings.ts
var import_obsidian = require("obsidian");

// src/utils/basicUtils.ts
function getModifiedSettings(settings) {
  let newSettings = {};
  for (const [key, value] of Object.entries(settings)) {
    const defaultVal = defaultSettings[key];
    if (key in defaultSettings) {
      if (value !== defaultVal)
        newSettings = { ...newSettings, [key]: value };
    } else {
      if (value instanceof Array && value.length === 0)
        break;
      else
        newSettings = { ...newSettings, [key]: value };
    }
  }
  return Object.keys(newSettings).length !== 0 ? newSettings : void 0;
}
function parseUrl(url) {
  var _a;
  if (url.includes("-")) {
    return url.substring(url.lastIndexOf("/") + 1).split("-").map((i2) => "#" + i2);
  } else
    return ((_a = url.substring(url.lastIndexOf("/") + 1).match(/.{1,6}/g)) == null ? void 0 : _a.map((i2) => "#" + i2)) || [];
}
function pluginToPaletteSettings(pluginSettings) {
  return {
    height: pluginSettings.height,
    width: pluginSettings.width,
    direction: pluginSettings.direction,
    gradient: pluginSettings.gradient,
    hover: pluginSettings.hover,
    override: pluginSettings.override,
    aliases: []
  };
}
function createPaletteBlock(input) {
  if (typeof input === "string")
    return `\`\`\`palette
${input}
\`\`\`
`;
  else
    return input.settings ? `\`\`\`palette
${input.colors.toNString()}
${JSON.stringify(input.settings)}
\`\`\`
` : `\`\`\`palette
${input.colors.toNString()}
\`\`\`
`;
}
function getForegroundColor(color) {
  return color.rgb()[0] * 0.299 + color.rgb()[1] * 0.587 + color.rgb()[2] * 0.114 > 186 ? "#000000" : "#ffffff";
}

// src/settings.ts
var defaultSettings = {
  noticeDuration: 1e4,
  errorPulse: true,
  aliasMode: "Both" /* Both */,
  corners: true,
  hoverWhileEditing: false,
  height: 150,
  width: 700,
  direction: "column" /* Column */,
  gradient: false,
  hover: true,
  override: false
};
var SettingsTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    let { settings } = this.plugin;
    this.settings = pluginToPaletteSettings(settings);
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Palette Error Pulse").setDesc("Whether the affected palette should pulse when encountering an error").addToggle((toggle) => {
      toggle.setValue(settings.errorPulse).onChange(async (value) => {
        settings.errorPulse = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Notice Duration").setDesc("How long error messages are show for in seconds (0 for indefinite)").addText((text) => {
      text.setValue((settings.noticeDuration / 1e3).toString()).onChange(async (value) => {
        settings.noticeDuration = Number(value) * 1e3;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Alias Mode").setDesc("What will be shown when aliases option is set in local palette options. Defaults to showing both hex and alias.").addDropdown((dropdown) => {
      dropdown.addOption("Both" /* Both */, "Both" /* Both */).addOption("Prefer Alias" /* Alias */, "Prefer Alias" /* Alias */).setValue(this.plugin.settings.aliasMode).onChange(async (value) => {
        settings.aliasMode = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Palette Corners").setDesc("Minor aesthetic change which toggles whether the corners on palettes are rounded.").addToggle((toggle) => {
      toggle.setValue(settings.corners).onChange(async (value) => {
        settings.corners = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Hover while editing").setDesc("Whether hover mode is active while editing.").addToggle((toggle) => {
      toggle.setValue(settings.hoverWhileEditing).onChange(async (value) => {
        settings.hoverWhileEditing = value;
        await this.plugin.saveSettings();
      });
    });
    containerEl.createEl("h2").setText("Palette Defaults");
    new import_obsidian.Setting(containerEl).setName("Height").addText((text) => {
      text.setValue(settings.height.toString()).onChange(async (value) => {
        settings.height = Number(value);
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Width").setDesc("Caution - Might cause palettes to display incorrectly.").addText((text) => {
      text.setValue(settings.width.toString()).onChange(async (value) => {
        settings.width = Number(value);
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Direction").addDropdown((dropdown) => {
      dropdown.addOption("column" /* Column */, "column" /* Column */).addOption("row" /* Row */, "row" /* Row */).setValue(this.plugin.settings.direction).onChange(async (value) => {
        settings.direction = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Gradient").addToggle((toggle) => {
      toggle.setValue(this.plugin.settings.gradient).onChange(async (value) => {
        settings.gradient = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Hover").setDesc("Toggles whether palettes can be hovered").addToggle((toggle) => {
      toggle.setValue(settings.hover).onChange(async (value) => {
        settings.hover = value;
        await this.plugin.saveSettings();
      });
    });
    new import_obsidian.Setting(containerEl).setName("Override").setDesc("Disables color validation for full control (advanced)").addToggle((toggle) => {
      toggle.setValue(settings.override).onChange(async (value) => {
        settings.override = value;
        await this.plugin.saveSettings();
      });
    });
  }
  // Called when settings are exited
  hide() {
    var _a;
    const settingsChanged = JSON.stringify(this.settings) !== JSON.stringify(pluginToPaletteSettings(this.plugin.settings));
    if (((_a = this.plugin) == null ? void 0 : _a.palettes) && settingsChanged) {
      for (let paletteMRC of this.plugin.palettes) {
        paletteMRC.update();
      }
    }
  }
};

// src/palette.ts
var import_validate_color = __toESM(require_lib());

// src/palette/PaletteItem.ts
var import_obsidian2 = require("obsidian");
var PaletteItem = class {
  constructor(container, color, settings, onClick, onTrash, onAlias) {
    this.container = container.createEl("div");
    this.color = color.trim();
    this.settings = settings;
    this.onClick = onClick;
    this.onTrash = onTrash;
    this.onAlias = onAlias;
    this.load();
  }
  load() {
    const csColor = Mt(this.color);
    this.container.style.setProperty("--palette-background-color", this.color);
    this.container.style.setProperty("--palette-column-flex-basis", (this.settings.height / this.settings.colorCount / 2).toString() + "px");
    const incompatibleSettings = this.settings.direction === "row" /* Row */;
    if (this.settings.editMode && !incompatibleSettings) {
      new EditMode(this.container, this.color, this.settings, (e2) => this.onTrash(e2), (alias) => this.onAlias(alias));
    } else {
      if (this.settings.aliasMode === "Both" /* Both */ || this.settings.alias == null || this.settings.alias.trim() === "") {
        let childText = this.container.createEl("span", { text: this.color.toUpperCase() });
        childText.style.setProperty("--palette-color", getForegroundColor(csColor));
      }
      let childAlias = this.container.createEl("span", { text: this.settings.alias });
      childAlias.style.setProperty("--palette-color", getForegroundColor(csColor));
    }
    this.container.addEventListener("click", (e2) => this.onClick(e2));
  }
};
var EditMode = class {
  constructor(colorContainer, color, settings, onTrash, onAlias) {
    this.color = color;
    this.settings = settings;
    this.onTrash = onTrash;
    this.onAlias = onAlias;
    const csColor = Mt(color);
    const contrastColor = getForegroundColor(csColor);
    this.container = colorContainer.appendChild(createEl("div"));
    this.container.addClass("edit-container");
    this.container.style.setProperty("--edit-background-color", color);
    this.container.style.setProperty("--edit-color", contrastColor);
    this.span = this.container.createEl("span");
    this.span.setText(settings.alias || color.toUpperCase());
    this.span.style.setProperty("--edit-font-size", `${this.getAdjustedFontSize(settings.colorCount)}px`);
    this.trash = new import_obsidian2.ButtonComponent(this.container).setIcon("trash-2").setTooltip("Remove").onClick((e2) => this.onTrash(e2));
    this.trash.buttonEl.addEventListener("mouseover", (e2) => {
      this.trash.setCta();
    });
    this.trash.buttonEl.addEventListener("mouseout", (e2) => {
      this.trash.removeCta();
    });
    this.span.addEventListener("click", (e2) => {
      e2.stopPropagation();
      this.setEditable(true);
      this.span.focus();
    });
    this.span.addEventListener("keypress", (e2) => {
      if (e2.key === "Enter") {
        this.setAlias();
        this.setEditable(false);
      }
    });
    this.span.addEventListener("focusout", (e2) => {
      this.setAlias();
      this.setEditable(false);
    });
    this.storedAlias = this.span.getText();
  }
  setAlias() {
    if (this.span.getText().trim() === "")
      this.span.setText(this.storedAlias);
    else if (this.span.getText() !== this.color) {
      this.settings.alias = this.span.getText();
      this.onAlias(this.settings.alias);
    }
  }
  setEditable(editable) {
    if (editable === true) {
      this.storedAlias = this.span.getText();
      this.span.setText("");
    }
    this.span.contentEditable = `${editable}`;
    this.span.toggleClass("color-span-editable", editable);
  }
  /**
   * Calculate font size based on number of colors
   */
  getAdjustedFontSize(colorsCount) {
    const minFontSize = 10;
    const baseFontSize = 16;
    return Math.max(minFontSize, baseFontSize - colorsCount);
  }
};

// src/utils/dragDropUtils.ts
var DragDrop = class {
  constructor(dropzones, draggables, onDrop) {
    this.dropzones = dropzones;
    this.draggables = draggables;
    this.result = { beforeElement: null, insertedElement: null, afterElement: null, order: this.draggables };
    this.onDrop = onDrop;
    this.load();
  }
  dragStart(draggable, e2) {
    draggable.toggleClass("is-dragging", true);
  }
  dragOver(dropzone, e2) {
    e2.preventDefault();
    this.result.beforeElement = this.getDragBeforeElement(e2.clientX);
    this.result.insertedElement = this.getDraggingElement();
    this.result.afterElement = this.getDragAfterElement(e2.clientX);
    const insertedIndex = this.draggables.indexOf(this.result.insertedElement);
    if (this.result.afterElement === null) {
      dropzone.appendChild(this.result.insertedElement);
      this.result.order.splice(insertedIndex, 1);
      this.result.order.push(this.result.insertedElement);
    } else {
      dropzone.insertBefore(this.result.insertedElement, this.result.afterElement);
      this.result.order.splice(insertedIndex, 1);
      const afterIndex = this.draggables.indexOf(this.result.afterElement);
      this.result.order.splice(afterIndex, 0, this.result.insertedElement);
    }
  }
  dragEnd(draggable, e2) {
    draggable.toggleClass("is-dragging", false);
    this.onDrop(e2, this.result);
    this.result = { beforeElement: null, insertedElement: null, afterElement: null, order: this.draggables };
  }
  load() {
    for (let draggable of this.draggables) {
      draggable.setAttribute("draggable", "true");
      draggable.addEventListener("dragstart", (e2) => this.dragStart(draggable, e2));
      draggable.addEventListener("dragend", (e2) => this.dragEnd(draggable, e2));
    }
    for (let dropzone of this.dropzones) {
      dropzone.addEventListener("dragover", (e2) => this.dragOver(dropzone, e2));
    }
  }
  unload() {
    for (let draggable of this.draggables) {
      draggable.removeEventListener("dragstart", (e2) => this.dragStart(draggable, e2));
      draggable.removeEventListener("dragend", (e2) => this.dragEnd(draggable, e2));
    }
    for (let dropzone of this.dropzones) {
      dropzone.removeEventListener("dragover", (e2) => this.dragOver(dropzone, e2));
    }
  }
  /**
   * @returns The element which is being dragged
   */
  getDraggingElement() {
    return this.draggables.filter((draggable) => draggable.hasClass("is-dragging"))[0];
  }
  /**
   * @returns All draggable elements not being dragged
   */
  getDraggableElements() {
    return this.draggables.filter((draggable) => !draggable.hasClass("is-dragging"));
  }
  /**
   * Gets the closest element before the dragged element
   */
  getDragBeforeElement(x2) {
    return this.getDraggableElements().reduce(
      (closest, child) => {
        const rect = child.getBoundingClientRect();
        const leftPosition = x2 - rect.left;
        const halfChildWidth = rect.width / 2;
        const offset = leftPosition - halfChildWidth;
        if (offset > 0 && offset < closest.offset)
          return { offset, element: child };
        else
          return closest;
      },
      // Initial closest value
      { offset: Number.POSITIVE_INFINITY, element: null }
    ).element;
  }
  /**
   * Gets the closest element after the dragged element
   */
  getDragAfterElement(x2) {
    return this.getDraggableElements().reduce(
      (closest, child) => {
        const rect = child.getBoundingClientRect();
        const leftPosition = x2 - rect.left;
        const halfChildWidth = rect.width / 2;
        const offset = leftPosition - halfChildWidth;
        if (offset < 0 && offset > closest.offset)
          return { offset, element: child };
        else
          return closest;
      },
      // Initial closest value
      { offset: Number.NEGATIVE_INFINITY, element: null }
    ).element;
  }
};

// src/palette.ts
var Palette = class {
  constructor(colors, settings, containerEl, pluginSettings, onChange, onEditMode, editMode = false) {
    this.containerEl = containerEl;
    this.pluginSettings = pluginSettings;
    this.showNotice = true;
    this.editMode = editMode;
    this.paletteItems = [];
    this.onChange = onChange;
    this.onEditMode = onEditMode;
    this.setDefaults(colors, settings);
    this.load();
    this.resizeObserver = new ResizeObserver((palettes) => {
      for (const palette of palettes) {
        for (const child of Array.from(palette.target.children)) {
          if (child.nodeName === "CANVAS") {
            this.reload(true);
          }
        }
      }
    });
    this.resizeObserver.observe(this.containerEl);
  }
  /**
   * Sets the initial defaults
   */
  setDefaults(colors, settings) {
    this.status = "Valid" /* VALID */;
    if (typeof settings === "string") {
      this.settings = pluginToPaletteSettings(this.pluginSettings);
      this.status = "Invalid Settings" /* INVALID_SETTINGS */;
    }
    if (typeof settings === "object") {
      this.settings = { ...pluginToPaletteSettings(this.pluginSettings), ...settings };
    }
    if (typeof colors === "string") {
      this.colors = [];
      this.status = this.status === "Invalid Settings" /* INVALID_SETTINGS */ ? "Invalid Colors & Settings" /* INVALID_COLORS_AND_SETTINGS */ : "Invalid Colors" /* INVALID_COLORS */;
    }
    if (typeof colors === "object") {
      this.colors = colors;
    }
    this.containerEl.style.setProperty("--palette-corners", this.pluginSettings.corners ? "5px" : "0px");
  }
  /**
   * Loads the palette
   */
  load() {
    this.createPalette(this.colors, this.settings);
    if (this.editMode) {
      this.dropzone.toggleClass("palette-hover", this.pluginSettings.hoverWhileEditing ? this.settings.hover : false);
      this.dragDrop = new DragDrop([this.dropzone], Array.from(this.dropzone.children), (e2, res) => {
        this.paletteItems.sort((a2, b2) => {
          return res.order.indexOf(a2.container) - res.order.indexOf(b2.container);
        });
        this.colors = this.paletteItems.map((item) => item.color);
        this.settings.aliases = this.paletteItems.map((item) => item.settings.alias);
        this.onChange(this.colors, this.settings);
        this.reload();
      });
    }
  }
  /**
   * Removes palette contents
   */
  unload() {
    this.containerEl.empty();
    this.paletteItems = [];
  }
  /**
   * Reloads the palette contents
   * @param resize Whether the palette is reloading because of a resize (defaults to false)
   */
  reload(resize = false) {
    this.showNotice = !resize;
    this.unload();
    this.setDefaults(this.colors, this.settings);
    this.load();
    this.showNotice = true;
  }
  /**
   * Creates a new notice using pre-set settings
   * @param message Message to display
   */
  createNotice(message) {
    this.showNotice && new import_obsidian3.Notice(message, this.pluginSettings.noticeDuration);
  }
  setEditMode(editMode) {
    this.editMode = editMode;
    this.onEditMode(editMode);
  }
  getEditMode() {
    return this.editMode;
  }
  /**
   * Create new palette contents based on colors & settings
   * @param colors 
   * @param settings 
   */
  createPalette(colors, settings) {
    this.dropzone = this.containerEl.createEl("div");
    this.dropzone.addClass("palette");
    this.dropzone.style.setProperty("--palette-direction", settings.direction === "row" /* Row */ ? "column" /* Column */ : "row" /* Row */);
    this.dropzone.style.setProperty("--not-palette-direction", settings.direction);
    this.dropzone.style.setProperty("--palette-height", `${settings.height}px`);
    this.dropzone.toggleClass("palette-hover", settings.hover);
    try {
      if (this.status !== "Valid" /* VALID */)
        throw new PaletteError(this.status);
      this.settings.gradient ? this.createGradientPalette(this.dropzone, colors, settings, this.pluginSettings.width) : this.createColorPalette(this.dropzone, colors, settings, this.pluginSettings.aliasMode);
    } catch (err) {
      if (err instanceof PaletteError)
        this.createInvalidPalette(err.status, err.message);
      else
        this.createNotice(err);
    }
  }
  createGradientPalette(containerEl, colors, settings, defaultWidth) {
    if (colors.length <= 1)
      throw new PaletteError("Invalid Gradient" /* INVALID_GRADIENT */);
    let child = containerEl.createEl("canvas");
    const parentWidth = containerEl.offsetWidth !== 0 ? containerEl.offsetWidth : settings.width;
    let gradientWidth = settings.width === defaultWidth ? parentWidth : settings.width;
    child.width = gradientWidth;
    child.height = settings.height;
    const tooltip = containerEl.createEl("section");
    tooltip.addClasses(["tooltip", "palette-tooltip"]);
    const tooltipText = tooltip.createEl("span");
    let context = child.getContext("2d", { willReadFrequently: true });
    if (context != null) {
      let gradient = settings.direction === "column" /* Column */ ? context.createLinearGradient(0, 0, gradientWidth, 0) : context.createLinearGradient(0, 0, 0, settings.height);
      let colorStops = [];
      for (const [i2, color] of colors.entries()) {
        if ((0, import_validate_color.default)(color)) {
          gradient.addColorStop(i2 / (colors.length - 1), color);
          colorStops.push(color);
        }
      }
      if (colorStops.length <= 1)
        throw new PaletteError("Invalid Gradient" /* INVALID_GRADIENT */, "There are not enough valid color stops to create the gradient.");
      context.fillStyle = gradient || "#000";
      context.fillRect(0, 0, gradientWidth, settings.height);
    }
    if (!import_obsidian3.Platform.isMobile)
      child.addEventListener("mousemove", (e2) => setTooltipPosition(e2.clientX, e2.clientY));
    else
      child.addEventListener("touchmove", (e2) => setTooltipPosition(e2.touches[0].clientX, e2.touches[0].clientY));
    function setTooltipPosition(clientX, clientY) {
      const rect = child.getBoundingClientRect();
      let tooltipWidth = tooltip.offsetWidth;
      let tooltipHeight = tooltip.offsetHeight;
      let leftPosition = clientX - rect.left > rect.width / 2 ? clientX - rect.left - 56 : clientX - rect.left + 64;
      let halfTooltipWidth = tooltipWidth / 2;
      if (leftPosition < 0 + halfTooltipWidth)
        leftPosition = 0 + halfTooltipWidth;
      else if (leftPosition + tooltipWidth > rect.width + halfTooltipWidth)
        leftPosition = rect.width - tooltipWidth + halfTooltipWidth;
      tooltip.style.left = leftPosition + "px";
      let topPosition = clientY - rect.top - tooltipHeight / 4;
      if (topPosition < 0)
        topPosition = 0;
      else if (topPosition + tooltipHeight > rect.height)
        topPosition = rect.height - tooltipHeight;
      tooltip.style.top = topPosition + "px";
      const hex = getCanvasHex(clientX, clientY, rect);
      tooltipText.setText(hex.toUpperCase());
    }
    child.addEventListener("click", (e2) => {
      const rect = child.getBoundingClientRect();
      const hex = getCanvasHex(e2.clientX, e2.clientY, rect);
      this.createNotice(`Copied ${hex.toUpperCase()}`);
      navigator.clipboard.writeText(hex.toUpperCase());
    });
    const getCanvasHex = (clientX, clientY, canvasBounds) => {
      let context2 = child.getContext("2d", { willReadFrequently: true });
      let x2 = clientX - canvasBounds.left;
      let y2 = clientY - canvasBounds.top;
      let [r2, g2, b2, a2] = (context2 == null ? void 0 : context2.getImageData(x2, y2, 1, 1).data) || [0, 0, 0, 0];
      const aConv = Math.round(a2 / 255 * 100);
      let hex = aConv !== 255 ? Mt([r2, g2, b2, aConv]).hex() : Mt([r2, g2, b2]).hex();
      return hex;
    };
    for (const [i2, color] of Object.entries(colors).filter((e2, i3) => i3 !== colors.length - 1)) {
      child.toggleClass("gradient", settings.gradient);
      child.style.setProperty("--palette-background-color", `${color}, ${colors[Number(i2) + 1] || "transparent"}`);
      child.style.setProperty("--palette-column-flex-basis", (settings.height / colors.length / 2).toString() + "px");
    }
  }
  createColorPalette(containerEl, colors, settings, aliasMode) {
    var _a;
    for (const [i2, color] of colors.entries()) {
      const paletteColor = new PaletteItem(
        containerEl,
        color,
        {
          aliasMode,
          editMode: this.editMode,
          hoverWhileEditing: this.pluginSettings.hoverWhileEditing,
          height: settings.height,
          direction: settings.direction,
          hover: settings.hover,
          alias: (_a = settings.aliases) == null ? void 0 : _a[i2],
          colorCount: colors.length
        },
        // onClick
        (e2) => {
          this.createNotice(`Copied ${color}`);
          navigator.clipboard.writeText(color);
        },
        // onTrash
        (e2) => {
          e2.stopPropagation();
          const deletedIndex = this.colors.indexOf(color);
          let colors2 = this.colors;
          let settings2 = this.settings;
          colors2.splice(deletedIndex, 1);
          settings2.aliases.splice(deletedIndex, 1);
          this.onChange(colors2, settings2);
          this.reload();
        },
        // onAlias
        (alias) => {
          this.settings.aliases[this.colors.findIndex((val) => val === color)] = alias;
        }
      );
      this.paletteItems.push(paletteColor);
    }
  }
  /**
   * Create invalid palette based on palette status
   * @param type Palette status type
   */
  createInvalidPalette(type, message = "") {
    this.status = type;
    this.dropzone.style.setProperty("--palette-height", "150px");
    const invalidSection = this.dropzone.createEl("section");
    invalidSection.toggleClass("invalid", true);
    const invalidSpan = invalidSection.createEl("span");
    let defaultMessage = "Invalid palette";
    switch (type) {
      case "Invalid Colors" /* INVALID_COLORS */:
        invalidSpan.setText("Invalid Colors" /* INVALID_COLORS */);
        defaultMessage = "Colors are defined incorrectly";
        this.createNotice(`Palette:
${message ? message : defaultMessage}`);
        break;
      case "Invalid Settings" /* INVALID_SETTINGS */:
        invalidSpan.setText("Invalid Settings" /* INVALID_SETTINGS */);
        defaultMessage = "Issues parsing settings";
        this.createNotice(`Palette:
${message ? message : defaultMessage}`);
        break;
      case "Invalid Colors & Settings" /* INVALID_COLORS_AND_SETTINGS */:
        invalidSpan.setText("Invalid Colors & Settings" /* INVALID_COLORS_AND_SETTINGS */);
        defaultMessage = "Colors and settings are defined incorrectly";
        this.createNotice(`Palette:
${message ? message : defaultMessage}`);
        break;
      case "Invalid Gradient" /* INVALID_GRADIENT */:
        invalidSpan.setText("Invalid Gradient" /* INVALID_GRADIENT */);
        defaultMessage = "Gradients require more than 1 color to display";
        this.createNotice(`Palette:
${message ? message : defaultMessage}`);
        break;
    }
    if (this.pluginSettings.errorPulse) {
      this.containerEl.style.setProperty("--notice-duration", (this.pluginSettings.noticeDuration / 1e3 / 2).toString() + "s");
      this.containerEl.toggleClass("palette-pulse", true);
      setTimeout(() => this.containerEl.toggleClass("palette-pulse", false), this.pluginSettings.noticeDuration);
    }
  }
};
var PaletteError = class extends Error {
  constructor(status, message = "") {
    super(message);
    this.status = status;
  }
};

// src/utils/generateRandom.ts
var Combination = /* @__PURE__ */ ((Combination2) => {
  Combination2["Complimentary"] = "Complimentary";
  Combination2["Monochromatic"] = "Monochromatic";
  Combination2["Analogous"] = "Analogous";
  Combination2["Triadic"] = "Triadic";
  Combination2["Tetradic"] = "Tetradic";
  Combination2["Random"] = "Random";
  return Combination2;
})(Combination || {});
function generateColors(combination, optional = { baseColor: Mt.random() }) {
  let { baseColor, settings } = optional;
  if (!baseColor)
    baseColor = Mt.random();
  let colors = [];
  switch (combination) {
    case "Complimentary" /* Complimentary */:
      colors = [baseColor.hex(), baseColor.complement().hex()];
      if (settings)
        settings.aliases = ["Base", "Complimentary Color"];
      break;
    case "Monochromatic" /* Monochromatic */:
      const lightest = baseColor.lighten(20);
      const lighter = baseColor.lighten(10);
      const darker = baseColor.darken(10);
      const darkest = baseColor.darken(20);
      colors = [lightest.hex(), lighter.hex(), baseColor.hex(), darker.hex(), darkest.hex()];
      if (settings)
        settings.aliases = ["Lightest", "Lighter", "Base", "Darker", "Darkest"];
      break;
    case "Analogous" /* Analogous */:
      const east = baseColor.adjustHue(-25);
      const west = baseColor.adjustHue(25);
      colors = [east.hex(), baseColor.hex(), west.hex()];
      if (settings)
        settings.aliases = ["Analogous East", "Base", "Analogous West"];
      break;
    case "Triadic" /* Triadic */:
      const hex120 = baseColor.spin(120);
      const hex240 = baseColor.spin(240);
      colors = [baseColor.hex(), hex120.hex(), hex240.hex()];
      if (settings)
        settings.aliases = ["Triadic First", "Base", "Triadic Third"];
      break;
    case "Tetradic" /* Tetradic */:
      const hex90 = baseColor.spin(90);
      const hex180 = baseColor.spin(180);
      const hex270 = baseColor.spin(270);
      colors = [baseColor.hex(), hex90.hex(), hex180.hex(), hex270.hex()];
      if (settings)
        settings.aliases = ["Base", "Tetradic Second", "Tetradic Third", "Tetradic Fourth"];
      break;
    case "Random" /* Random */:
      const randomNumber = Math.max(Math.round(Math.random() * 10), 2);
      let randomColors = [];
      for (let i2 = 0; i2 < randomNumber; i2++) {
        randomColors.push(Mt.random().hex());
      }
      colors = randomColors;
      if (settings)
        settings.aliases = [];
      break;
  }
  return { colors, settings };
}

// src/utils/imageUtils.ts
var import_obsidian4 = require("obsidian");
var import_quantize = __toESM(require_quantize());
var CanvasImage = class {
  constructor(imageURL, smoothing = false) {
    /**
     * Waits for loading variable to equal true
     */
    this.waitForLoading = () => new Promise((resolve) => {
      const checkLoading = setInterval(() => {
        if (!this.loading) {
          clearInterval(checkLoading);
          resolve(true);
        }
      }, 100);
    });
    this.loading = true;
    this.image = new Image();
    this.image.crossOrigin = "anonymous";
    this.image.src = imageURL;
    this.image.addEventListener("load", (e2) => this.loading = false);
    this.canvas = document.createElement("canvas");
    this.context = this.canvas.getContext("2d");
    this.context.imageSmoothingEnabled = smoothing;
    this.load();
  }
  load() {
    this.waitForLoading().then(() => {
      this.width = this.canvas.width = this.image.naturalWidth;
      this.height = this.canvas.height = this.image.naturalHeight;
      this.context.drawImage(this.image, 0, 0, this.width, this.height);
    });
  }
  /**
   * Gets the most frequent colors in an image
   * @param numColors Number of colors to return
   * @param quality Artificially reduce number of pixels (higher = less accurate but faster)
   * @returns Most frequent colors
   */
  async getPalette(numColors = 7, quality = 10) {
    const nColors = numColors <= 7 ? numColors : numColors + 1;
    await this.waitForLoading();
    const pixels = await this.createPixelArray(quality);
    if (!pixels)
      return null;
    const colorMap = (0, import_quantize.default)(pixels, nColors);
    return colorMap ? colorMap.palette() : [];
  }
  /**
   * Creates an array of pixels from the image
   * Inspired by colorthief
   * @param quality Artificially reduce number of pixels (higher = less accurate but faster)
   * @returns 
   */
  async createPixelArray(quality) {
    var _a;
    await this.waitForLoading();
    const pixelArray = [];
    const imageData = (_a = await this.getImageData()) == null ? void 0 : _a.data;
    if (!imageData)
      return null;
    const pixelCount = this.height * this.width;
    for (let i2 = 0; i2 < pixelCount; i2 += quality) {
      const offset = i2 * 4;
      const [r2, g2, b2, a2] = [imageData[offset + 0], imageData[offset + 1], imageData[offset + 2], imageData[offset + 3]];
      if (typeof a2 === "undefined" || a2 >= 125) {
        if (!(r2 > 250 && g2 > 250 && b2 > 250)) {
          pixelArray.push([r2, g2, b2]);
        }
      }
    }
    return pixelArray;
  }
  /**
   * Gets the image data from the canvas
   */
  async getImageData() {
    try {
      await this.waitForLoading();
      return this.context.getImageData(0, 0, this.width, this.height);
    } catch (e2) {
      new import_obsidian4.Notice("Failed to get image data.");
      return null;
    }
  }
};

// src/CreatePaletteModal.ts
var CreatePaletteModal = class extends import_obsidian5.Modal {
  constructor(app, pluginSettings, onSubmit, palette) {
    super(app);
    this.onSubmit = onSubmit;
    this.pluginSettings = pluginSettings;
    this.settings = pluginToPaletteSettings(pluginSettings);
    this.colors = [];
    this.selectedInput = "Color Picker" /* Color_Picker */;
    this.combination = "Random" /* Random */;
    this.baseColor = void 0;
    this.palette = palette;
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h1", { text: "Create Palette" });
    contentEl.addClass("create-palette");
    const colorsContainer = contentEl.createEl("section");
    colorsContainer.createEl("h3").setText("Add Colors");
    let controlContainer = colorsContainer.appendChild(createDiv());
    controlContainer.addClass("control-container");
    const previewContainer = contentEl.createEl("section");
    previewContainer.createEl("h3");
    const settingsContainer = contentEl.createEl("section");
    settingsContainer.createEl("h3").setText("Settings");
    const colorPickerBtn = new import_obsidian5.ButtonComponent(controlContainer).setIcon("pipette").setTooltip("Color Picker").onClick((e2) => {
      changeSelectedInput("Color Picker" /* Color_Picker */);
    });
    const generateBtn = new import_obsidian5.ButtonComponent(controlContainer).setIcon("shuffle").setTooltip("Generate").onClick((e2) => {
      changeSelectedInput("Generate" /* Generate */);
    });
    const imageBtn = new import_obsidian5.ButtonComponent(controlContainer).setIcon("image").setTooltip("Image").onClick((e2) => {
      changeSelectedInput("Image" /* Image */);
    });
    const urlBtn = new import_obsidian5.ButtonComponent(controlContainer).setIcon("link").setTooltip("URL").onClick((e2) => {
      changeSelectedInput("URL" /* URL */);
    });
    let addColorsContainer = colorsContainer.appendChild(createEl("div"));
    addColorsContainer.addClass("add-colors-container");
    function changeSelectedInput(selectedInput) {
      resetStyle();
      switch (selectedInput) {
        case "Color Picker" /* Color_Picker */:
          colorPickerBtn.setCta();
          addColorsContainer.empty();
          createColorPicker(addColorsContainer);
          addColorsContainer.toggleClass("select-color-picker", true);
          break;
        case "Generate" /* Generate */:
          generateBtn.setCta();
          addColorsContainer.empty();
          createGenerate(addColorsContainer);
          addColorsContainer.toggleClass("select-generate", true);
          break;
        case "Image" /* Image */:
          imageBtn.setCta();
          addColorsContainer.empty();
          createImage(addColorsContainer);
          addColorsContainer.toggleClass("select-image", true);
          break;
        case "URL" /* URL */:
          urlBtn.setCta();
          addColorsContainer.empty();
          createURL(addColorsContainer);
          addColorsContainer.toggleClass("select-url", true);
          break;
      }
      function resetStyle() {
        colorPickerBtn.removeCta();
        generateBtn.removeCta();
        imageBtn.removeCta();
        urlBtn.removeCta();
        addColorsContainer.toggleClass("select-color-picker", false);
        addColorsContainer.toggleClass("select-generate", false);
        addColorsContainer.toggleClass("select-image", false);
        addColorsContainer.toggleClass("select-url", false);
      }
    }
    const createColorPicker = (addColorsContainer2) => {
      let addColors = new import_obsidian5.Setting(addColorsContainer2).setName("Color Picker").setDesc("Use handpicked colors");
      const colorPickerInput = new import_obsidian5.ColorComponent(addColors.controlEl).onChange((value) => {
        this.colors.push(value);
        this.settings.aliases.push("");
        updatePalettePreview();
      });
    };
    const createGenerate = (addColorsContainer2) => {
      let addColors = new import_obsidian5.Setting(addColorsContainer2).setName("Generate").setDesc("Generate colors based on color theory");
      const dropdownInput = new import_obsidian5.DropdownComponent(addColors.controlEl);
      Object.keys(Combination).forEach((combination) => dropdownInput.addOption(combination, combination));
      dropdownInput.setValue(this.combination).onChange((value) => {
        this.combination = value;
        colorPickerInput.setDisabled(this.combination === "Random" /* Random */ ? true : false);
      });
      const colorPickerInput = new import_obsidian5.ColorComponent(addColors.controlEl).onChange((value) => {
        this.baseColor = Mt(value);
      }).setDisabled(this.combination === "Random" /* Random */ ? true : false);
      const colorPicker = Array.from(addColors.controlEl.children)[1];
      colorPicker.addEventListener("contextmenu", (e2) => {
        colorPickerInput.setValue(Mt("#000").hex());
        this.baseColor = void 0;
      });
      const buttonInput = new import_obsidian5.ButtonComponent(addColors.controlEl).setIcon("shuffle").setTooltip("Loads the generated colors").onClick((e2) => {
        const generated = generateColors(this.combination, { baseColor: this.baseColor, settings: this.settings });
        this.colors = generated.colors;
        if (generated.settings)
          this.settings = generated.settings;
        updatePalettePreview();
      });
    };
    const createImage = (addColorsContainer2) => {
      let fileURL = "";
      let addColors = new import_obsidian5.Setting(addColorsContainer2).setClass("add-colors").setName("Image").setDesc("Convert image into palette");
      const inputContainer = addColors.controlEl.appendChild(createEl("div"));
      const selectContainer = inputContainer.appendChild(createEl("div"));
      const urlInput = new import_obsidian5.TextComponent(selectContainer).setPlaceholder("Enter URL or select file").onChange((value) => fileURL = value);
      const loadButton = new import_obsidian5.ButtonComponent(selectContainer).setIcon("arrow-up-to-line").setTooltip("Right click to clear URL").onClick(async (e2) => {
        if (urlInput.getValue() !== "")
          await updateImagePreview(urlInput.getValue());
        else
          fileInput.click();
      });
      loadButton.buttonEl.addEventListener("contextmenu", () => urlInput.setValue(""));
      const fileSelector = new import_obsidian5.TextComponent(selectContainer);
      const fileInput = fileSelector.inputEl;
      fileInput.type = "file";
      fileInput.accept = "image/*";
      fileInput.addEventListener("change", (e2) => {
        var _a;
        const reader = new FileReader();
        const file = (_a = e2.target.files) == null ? void 0 : _a[0];
        if (file)
          reader.readAsDataURL(file);
        reader.addEventListener("load", async () => {
          if (typeof reader.result === "string") {
            fileURL = reader.result;
            await updateImagePreview(fileURL);
          }
        });
        reader.addEventListener("error", () => {
          throw new Error("Error processing image.");
        });
      });
      const sliderContainer = new import_obsidian5.Setting(addColorsContainer2).setName("Count").setDesc("Set the number of colors to generate from the image.");
      const countInput = new import_obsidian5.SliderComponent(sliderContainer.controlEl).setLimits(4, 12, 1).setDynamicTooltip().setValue(8).onChange(async (value) => await updateImagePreview(fileURL));
      const imageContainer = new import_obsidian5.Setting(addColorsContainer2);
      imageContainer.setClass("image-preview");
      imageContainer.setClass("hide-image-preview");
      const imageEl = imageContainer.controlEl.appendChild(createEl("img"));
      imageEl.crossOrigin = "anonymous";
      imageEl.style.setProperty("border-radius", this.pluginSettings.corners ? "5px" : "0px");
      imageEl.addEventListener("load", () => {
        imageContainer.settingEl.toggleClass("hide-image-preview", false);
      });
      const updateImagePreview = async (url) => {
        if (!url)
          return;
        imageEl.src = url;
        const canvasImage = new CanvasImage(url);
        const colors = await canvasImage.getPalette(countInput.getValue());
        if (colors) {
          this.colors = colors.map((color) => Mt(color).hex(0));
          this.settings.aliases = [];
          updatePalettePreview();
        }
      };
    };
    const createURL = (addColorsContainer2) => {
      let addColors = new import_obsidian5.Setting(addColorsContainer2).setName("URL").setDesc("Only coolors.co & colorhunt.co are currently supported.");
      const textInput = new import_obsidian5.TextComponent(addColors.controlEl).setPlaceholder("Enter URL");
      const buttonInput = new import_obsidian5.ButtonComponent(addColors.controlEl).setIcon("link").setTooltip("Right click to clear URL").onClick((e2) => {
        try {
          const urlText = textInput.getValue();
          if (!urlText.match(urlRegex))
            throw new Error("URL provided is not valid.");
          this.colors = parseUrl(urlText);
          this.settings.aliases = [];
          updatePalettePreview();
        } catch (e3) {
          new import_obsidian5.Notice(e3);
        }
      });
      buttonInput.buttonEl.addEventListener("contextmenu", () => {
        textInput.setValue("");
      });
    };
    changeSelectedInput(this.selectedInput);
    let palettePreview = previewContainer.appendChild(createDiv());
    palettePreview.addClass("palette-preview");
    const paletteContainer = palettePreview.appendChild(createDiv());
    this.colors = this.palette ? this.palette.colors : generateColors("Random" /* Random */).colors;
    this.settings = this.palette ? this.palette.settings : this.settings;
    const palette = new Palette(
      this.colors,
      this.settings,
      paletteContainer,
      this.pluginSettings,
      (colors, settings) => {
        let moddedSettings = getModifiedSettings(settings);
        this.colors = colors;
        if (moddedSettings)
          this.settings = { ...this.settings, ...moddedSettings };
      },
      (editMode) => {
      },
      true
    );
    palettePreview.appendChild(palette.containerEl);
    const updatePalettePreview = () => {
      palette.colors = this.colors;
      palette.settings = this.settings;
      palette.reload();
    };
    new import_obsidian5.Setting(settingsContainer).setName("Height").addText((text) => {
      text.setValue(this.settings.height.toString()).onChange((value) => {
        this.settings.height = Number(value);
        updatePalettePreview();
      });
    });
    new import_obsidian5.Setting(settingsContainer).setName("Width").setDesc("Caution - Might cause palette to display incorrectly.").addText((text) => {
      text.setValue(this.settings.width.toString()).onChange((value) => {
        this.settings.width = Number(value);
        updatePalettePreview();
      });
    });
    new import_obsidian5.Setting(settingsContainer).setName("Direction").addDropdown((dropdown) => {
      dropdown.addOption("column" /* Column */, "column" /* Column */).addOption("row" /* Row */, "row" /* Row */).setValue(this.settings.direction.toString()).onChange((value) => {
        this.settings.direction = value;
        updatePalettePreview();
      });
    });
    new import_obsidian5.Setting(settingsContainer).setName("Gradient").addToggle((toggle) => {
      toggle.setValue(this.settings.gradient).onChange((value) => {
        this.settings.gradient = value;
        updatePalettePreview();
      });
    });
    new import_obsidian5.Setting(settingsContainer).setName("Hover").setDesc("Toggles whether palettes can be hovered").addToggle((toggle) => {
      toggle.setValue(this.settings.hover).onChange(async (value) => {
        this.settings.hover = value;
        updatePalettePreview();
      });
    });
    new import_obsidian5.Setting(settingsContainer).setName("Override").setDesc("Disables color validation for full control (advanced)").addToggle((toggle) => {
      toggle.setValue(this.settings.override).onChange(async (value) => {
        this.settings.override = value;
        updatePalettePreview();
      });
    });
    new import_obsidian5.Setting(settingsContainer).addButton(
      (button) => button.setButtonText("Create").setCta().onClick(() => {
        try {
          if (this.colors.length === 0)
            this.colors = generateColors("Random" /* Random */).colors;
          this.onSubmit(this.colors, getModifiedSettings(this.settings));
          this.close();
        } catch (e2) {
          new import_obsidian5.Notice(e2);
        }
      })
    );
  }
  onClose() {
    let { contentEl } = this;
    contentEl.empty();
  }
};

// src/GeneratePaletteModal.ts
var import_obsidian6 = require("obsidian");
var import_validate_color2 = __toESM(require_lib());

// src/utils/editorUtils.ts
var EditorUtils = class {
  constructor(editor) {
    this.editor = editor;
  }
  /**
   * Replaces selection or text at the cursor
   * @param content The content to be inserted
   * @param insertAfter Inserts the content after the current line
   */
  insertContent(content, insertAfter = false) {
    this.setCursorPostCallback((line) => {
      this.editor.somethingSelected() ? this.editor.replaceSelection(content) : insertAfter ? this.insertLine(content, "after") : this.replaceLine(content, line);
    });
  }
  /**
   * Sets the cursor to a position after callback editor changes
   * @param callback Changes to perform to the editor
   * @param options.line Defaults to the current cursor line
   * @param options.offset The number of lines to offset (calculates during function unless user specified)
   */
  setCursorPostCallback(callback, { line = this.editor.getCursor().line, offset } = {}) {
    const preLinesCount = this.editor.lineCount();
    callback(line);
    const postLinesCount = this.editor.lineCount() - preLinesCount;
    offset = offset || postLinesCount;
    this.editor.setCursor({ ch: 0, line: line + offset });
  }
  /**
   * 
   * @param options.line The line to retrieve the last character index from
   * @param options.offset The offset used from the line (for example, 1 could be used to get the last character index on the line below the cursor)
   * @returns The last character's index on the line
   */
  getLastCh({ line = this.editor.getCursor().line, offset = 0 } = {}) {
    return this.editor.getLine(line + offset).length;
  }
  /**
   * Replaces a single line
   * @param content The content to replace the line with
   * @param line The line to replace
   */
  replaceLine(content, line) {
    const lineContent = this.editor.getLine(line);
    this.editor.replaceRange(content, { line, ch: 0 }, { line, ch: lineContent.length });
  }
  /**
   * Inserts content into editor before or after the line
   * @param content The content to insert
   * @param location Where to insert the content, before or after the line
   * @param options.line Defaults to cursor line
   * @param options.ch Defaults to 0
   */
  insertLine(content, location = "before", { line = this.editor.getCursor().line, ch = 0 } = {}) {
    if (location === "before") {
      this.editor.replaceRange(content, { line, ch });
    }
    if (location === "after") {
      this.editor.replaceRange(
        this.editor.lastLine() === line ? "\n" + content : content + "\n",
        { line: line + 1, ch }
      );
    }
  }
};

// src/GeneratePaletteModal.ts
var GeneratePaletteModal = class extends import_obsidian6.SuggestModal {
  constructor(app, editor, pluginSettings) {
    super(app);
    this.editor = editor;
    this.settings = pluginToPaletteSettings(pluginSettings);
  }
  // Returns all available suggestions.
  getSuggestions(query) {
    return Object.keys(Combination).filter(
      (combination) => combination.toLowerCase().includes(query.toLowerCase())
    );
  }
  // Renders each suggestion item.
  renderSuggestion(combination, el) {
    el.createEl("span", { text: combination });
  }
  // Perform action on the selected suggestion.
  onChooseSuggestion(combination, evt) {
    try {
      const selTextOrLine = this.editor.somethingSelected() ? this.editor.getSelection() : this.editor.getLine(this.editor.getCursor().line);
      const isLineEmpty = this.editor.getLine(this.editor.getCursor().line).length === 0;
      const isColor = (0, import_validate_color2.default)(selTextOrLine);
      const { colors, settings } = isColor ? generateColors(combination, { baseColor: Mt(selTextOrLine), settings: this.settings }) : generateColors(combination, { settings: this.settings });
      const newBlock = createPaletteBlock({ colors, settings: settings ? getModifiedSettings(settings) : void 0 });
      const editorUtils = new EditorUtils(this.editor);
      editorUtils.insertContent(newBlock, !isColor && !isLineEmpty);
    } catch (error) {
      new import_obsidian6.Notice(error);
    }
  }
};

// src/utils/prototypeUtils.ts
Array.prototype.toNString = function() {
  let result = "";
  for (const string of this) {
    result += string + "\n";
  }
  return result.trim();
};

// src/paletteMRC.ts
var import_obsidian9 = require("obsidian");
var import_validate_color3 = __toESM(require_lib());

// src/ReorderModal.ts
var import_obsidian7 = require("obsidian");
var Reorder = /* @__PURE__ */ ((Reorder2) => {
  Reorder2["Hue"] = "Hue";
  Reorder2["Saturation"] = "Saturation";
  Reorder2["Lightness"] = "Lightness";
  Reorder2["Red"] = "Red";
  Reorder2["Green"] = "Green";
  Reorder2["Blue"] = "Blue";
  Reorder2["Alpha"] = "Alpha";
  return Reorder2;
})(Reorder || {});
var ReorderModal = class extends import_obsidian7.SuggestModal {
  constructor(app, palette, onSubmit) {
    super(app);
    this.palette = palette;
    this.onSubmit = onSubmit;
  }
  // Returns all available suggestions.
  getSuggestions(query) {
    return Object.keys(Reorder).filter(
      (combination) => combination.toLowerCase().includes(query.toLowerCase())
    );
  }
  renderSuggestion(order, el) {
    el.createEl("span", { text: order });
  }
  onChooseSuggestion(item, evt) {
    const csColors = this.palette.colors.map((color) => {
      return Mt(color);
    });
    let colors = [];
    switch (item) {
      case "Hue" /* Hue */:
        colors = csColors.sort((a2, b2) => a2.hue() - b2.hue()).map((color) => color.hex());
        break;
      case "Saturation" /* Saturation */:
        colors = csColors.sort((a2, b2) => a2.saturation() - b2.saturation()).map((color) => color.hex());
        break;
      case "Lightness" /* Lightness */:
        colors = csColors.sort((a2, b2) => a2.lightness() - b2.lightness()).map((color) => color.hex());
        break;
      case "Red" /* Red */:
        colors = csColors.sort((a2, b2) => a2.red() - b2.red()).map((color) => color.hex());
        break;
      case "Green" /* Green */:
        colors = csColors.sort((a2, b2) => a2.green() - b2.green()).map((color) => color.hex());
        break;
      case "Blue" /* Blue */:
        colors = csColors.sort((a2, b2) => a2.blue() - b2.blue()).map((color) => color.hex());
        break;
      case "Alpha" /* Alpha */:
        colors = csColors.sort((a2, b2) => a2.alpha() - b2.alpha()).map((color) => color.hex());
        break;
    }
    this.onSubmit(colors, getModifiedSettings(this.palette.settings));
  }
};

// src/PaletteMenu.ts
var import_obsidian8 = require("obsidian");
var PaletteMenu = class extends import_obsidian8.Menu {
  constructor(app, context, palette, onChange) {
    super();
    this.app = app;
    this.context = context;
    this.palette = palette;
    this.onChange = onChange;
    this.createMenu();
  }
  createMenu() {
    this.addItem((item) => {
      item.setTitle("Reorder").setIcon("arrow-left-right").onClick(() => {
        const modal = new ReorderModal(this.app, this.palette, (colors, settings) => this.onChange(colors, settings));
        modal.open();
        modal.setInstructions([
          { command: "\u2191\u2193", purpose: "to navigate" },
          { command: "\u21B5", purpose: "to use" },
          { command: "esc", purpose: "to dismiss" }
        ]);
        modal.setPlaceholder("Choose a space to reorder palette");
      });
    });
    this.addItem((item) => {
      item.setTitle("Edit Mode").setIcon("palette").onClick(async () => {
        new CreatePaletteModal(this.app, this.palette.pluginSettings, (colors, settings) => {
          try {
            const paletteSection = this.context.getSectionInfo(this.palette.containerEl);
            if (paletteSection) {
              this.onChange(colors, settings);
            }
          } catch (error) {
            new import_obsidian8.Notice(error);
          }
        }, this.palette).open();
      });
    });
    if (!this.palette.settings.gradient && this.palette.settings.direction !== "row" /* Row */) {
      this.addItem((item) => {
        item.setTitle("Quick Edit").setIcon("brush").setChecked(this.palette.getEditMode()).onClick(async () => {
          this.palette.setEditMode(!this.palette.getEditMode());
          this.palette.reload();
        });
      });
    }
    this.addSeparator();
    this.addItem((item) => {
      item.setTitle("Convert to RGB").setIcon("droplets").onClick(() => {
        const colors = this.palette.colors.map((color) => {
          const rgbColor = Mt(color).rgb();
          return `rgb(${rgbColor[0]}, ${rgbColor[1]}, ${rgbColor[2]})`;
        });
        this.onChange(colors, getModifiedSettings(this.palette.settings));
      });
    });
    this.addItem((item) => {
      item.setTitle("Convert to HSL").setIcon("droplets").onClick(() => {
        const colors = this.palette.colors.map((color) => {
          const hslColor = Mt(color).hsl();
          return `hsl(${hslColor[0]} ${hslColor[1]}% ${hslColor[2]}%)`;
        });
        this.onChange(colors, getModifiedSettings(this.palette.settings));
      });
    });
    this.addItem((item) => {
      item.setTitle("Convert to HEX").setIcon("droplets").onClick(() => {
        const colors = this.palette.colors.map((color) => {
          return Mt(color).hex(2);
        });
        this.onChange(colors, getModifiedSettings(this.palette.settings));
      });
    });
    this.addSeparator();
    const input = createPaletteBlock({ colors: this.palette.colors, settings: getModifiedSettings(this.palette.settings) });
    this.addItem((item) => {
      item.setTitle("Cut").setIcon("scissors").onClick(async () => {
        await navigator.clipboard.writeText(input);
        this.onChange(void 0, void 0);
      });
    });
    this.addItem((item) => {
      item.setTitle("Copy").setIcon("copy").onClick(async () => {
        await navigator.clipboard.writeText(input);
      });
    });
  }
};

// src/paletteMRC.ts
var PaletteMRC = class extends import_obsidian9.MarkdownRenderChild {
  constructor(plugin, containerEl, input, context) {
    super(containerEl);
    this.plugin = plugin;
    this.pluginSettings = plugin.settings;
    this.input = input;
    this.context = context;
  }
  onload() {
    var _a;
    this.update();
    (_a = this.plugin.palettes) == null ? void 0 : _a.push(this);
    this.containerEl.addEventListener("contextmenu", (e2) => {
      if (this.palette.status === "Valid" /* VALID */) {
        const paletteMenu = new PaletteMenu(this.plugin.app, this.context, this.palette, (colors, settings) => {
          if (colors == void 0)
            this.setPaletteInput("");
          else
            this.setPaletteInput(createPaletteBlock({ colors, settings }));
        });
        paletteMenu.showAtMouseEvent(e2);
      }
    });
  }
  unload() {
    var _a;
    (_a = this.plugin.palettes) == null ? void 0 : _a.remove(this);
  }
  /**
   * Updates the palette contents
   */
  update() {
    this.containerEl.empty();
    const { colors, settings } = this.calcColorsAndSettings(this.input);
    if (typeof colors !== "string" && typeof settings !== "string")
      this.editModeChanges = { colors, settings };
    this.palette = new Palette(
      colors,
      settings,
      this.containerEl,
      this.pluginSettings,
      (colors2, settings2) => {
        const modifiedSettings = getModifiedSettings(settings2);
        this.editModeChanges = { colors: colors2, settings: modifiedSettings };
      },
      (editMode) => {
        if (!editMode) {
          this.setPaletteInput(createPaletteBlock({ colors: this.editModeChanges.colors, settings: this.editModeChanges.settings }));
        }
      }
    );
  }
  /**
   * Parses input & extracts settings
   * @param input settings from codeblock
   * @returns PaletteSettings or Status if settings are not valid
   */
  parseSettings(input) {
    try {
      return JSON.parse(input);
    } catch (error) {
      return "Invalid Settings" /* INVALID_SETTINGS */;
    }
  }
  /**
   * Parses input & extracts colors based on color space or URL
   * @param input colors from codeblock
   * @returns Array of colors or Status if colors are not valid
   */
  parseColors(input, override) {
    let colors = input.flatMap((color) => {
      if (color.includes("(")) {
        return color.split(";").flatMap((postSplitColor) => postSplitColor.trim()).filter((color2) => color2 !== "");
      }
      return color.split(",").flatMap((postSplitColor) => {
        return postSplitColor.trim();
      });
    }).flatMap((color) => color.trim().replace(";", ""));
    const rawColors = colors.join("");
    if (rawColors.match(urlRegex))
      return parseUrl(rawColors);
    if (!override) {
      for (let color of colors) {
        if (!(0, import_validate_color3.default)(color))
          return "Invalid Colors" /* INVALID_COLORS */;
      }
    }
    return colors;
  }
  /**
   * Calculates colors and settings based on codeblock contents
   */
  calcColorsAndSettings(input) {
    const split = input.split("\n");
    const hasSettings = split.some((val) => val.includes("{"));
    let settings = hasSettings ? this.parseSettings(split.pop() || "") : void 0;
    let settingsObj = typeof settings === "object" ? settings : pluginToPaletteSettings(this.pluginSettings);
    return { colors: this.parseColors(split, settingsObj.override), settings: settings || pluginToPaletteSettings(this.pluginSettings) };
  }
  /**
   * Gets the palette codeblock input
   */
  getPaletteInput() {
    var _a;
    let editor = (_a = this.plugin.app.workspace.getActiveViewOfType(import_obsidian9.MarkdownView)) == null ? void 0 : _a.editor;
    const paletteSection = this.context.getSectionInfo(this.palette.containerEl);
    if (paletteSection && editor)
      return {
        lines: {
          lineStart: paletteSection.lineStart,
          lineEnd: paletteSection.lineEnd
        },
        input: editor.getRange(
          { line: paletteSection.lineStart, ch: 0 },
          { line: paletteSection.lineEnd + 1, ch: 0 }
        )
      };
    else {
      this.createNotice("The editor has not fully loaded yet.");
    }
  }
  /**
   * Sets the palette codeblock input with `replacement`
   */
  setPaletteInput(replacement) {
    var _a;
    let editor = (_a = this.plugin.app.workspace.getActiveViewOfType(import_obsidian9.MarkdownView)) == null ? void 0 : _a.editor;
    const paletteSection = this.context.getSectionInfo(this.palette.containerEl);
    if (paletteSection && editor) {
      editor.replaceRange(replacement, { line: paletteSection.lineStart, ch: 0 }, { line: paletteSection.lineEnd + 1, ch: 0 });
      return {
        lineStart: paletteSection.lineStart,
        lineEnd: paletteSection.lineEnd
      };
    } else {
      this.createNotice("The editor has not fully loaded yet.");
    }
  }
  /**
   * Creates a new notice using pre-set settings
   * @param message Message to display
   */
  createNotice(message) {
    new import_obsidian9.Notice(message, this.pluginSettings.noticeDuration);
  }
};

// src/main.ts
var urlRegex = /(?:https:\/\/www\.|http:\/\/www\.|https:\/\/|http:\/\/)?[a-zA-Z0-9]{2,}(?:\.[a-zA-Z0-9]{2,})(?:\.[a-zA-Z0-9]{2,})?\/(?:palette\/)?([a-zA-Z0-9-]{2,})/;
var ColorPalette2 = class extends import_obsidian10.Plugin {
  async onload() {
    this.palettes = [];
    await this.loadSettings();
    this.registerMarkdownCodeBlockProcessor(
      "palette",
      async (source, el, ctx) => {
        ctx.addChild(new PaletteMRC(this, el, source.trim(), ctx));
      }
    );
    this.addCommand({
      id: "create",
      name: "Create",
      editorCallback: (editor) => {
        new CreatePaletteModal(this.app, this.settings, (colors, settings) => {
          try {
            const result = createPaletteBlock({ colors, settings });
            const cursor = editor.getCursor();
            editor.transaction({
              changes: [{ from: cursor, text: result }]
            });
            editor.setCursor({
              line: cursor.line + result.split("\n").length,
              ch: 0
            });
            new import_obsidian10.Notice(`Added ${result}`);
          } catch (error) {
            new import_obsidian10.Notice(error);
          }
        }).open();
      }
    });
    this.addCommand({
      id: "convert-link",
      name: "Convert link",
      editorCallback: async (editor) => {
        try {
          let link = "";
          const editorSelection = editor.getSelection();
          const clipboardText = await navigator.clipboard.readText();
          if (editorSelection.match(`^${urlRegex.source}$`))
            link = editorSelection;
          else if (clipboardText.match(`^${urlRegex.source}$`))
            link = clipboardText;
          else
            throw new Error("Failed to convert link. Please select or copy a link, then try again.");
          const codeBlock = createPaletteBlock(link);
          const cursor = editor.getCursor();
          editor.replaceSelection(codeBlock);
          editor.setCursor({
            line: cursor.line + codeBlock.split("\n").length,
            ch: 0
          });
          new import_obsidian10.Notice(`Converted ${editorSelection || clipboardText}`);
        } catch (error) {
          new import_obsidian10.Notice(error);
        }
      }
    });
    this.addCommand({
      id: "convert-codeblock-link-to-hex",
      name: "Convert codeblock link to hex",
      editorCallback: (editor) => {
        var _a, _b, _c;
        try {
          const codeBlock = editor.getSelection();
          const multiReg = RegExp(/(?:\`{3}palette)\n(?<url>.*)(?:\n(?<settings>.+))?\n\`{3}/, "g");
          const content = (_b = (_a = [...codeBlock.matchAll(multiReg)]) == null ? void 0 : _a[0]) == null ? void 0 : _b.slice(1);
          const url = content == null ? void 0 : content[0];
          if (url == null)
            throw new Error("Selected text is not a codeblock with a link.");
          let colors = [];
          url.match(urlRegex) && url.includes("-") ? colors = url.substring(url.lastIndexOf("/") + 1).split("-").map((i2) => "#" + i2) : (
            // Check if link (colorhunt)
            url.match(urlRegex) ? colors = ((_c = url.substring(url.lastIndexOf("/") + 1).match(/.{1,6}/g)) == null ? void 0 : _c.map((i2) => "#" + i2)) || ["Invalid Palette"] : colors = ["Invalid Palette"]
          );
          if (colors[0] === "Invalid Palette")
            throw new Error("Selected codeblock can not be converted to hex.");
          const newBlock = createPaletteBlock({ colors, settings: JSON.parse(content == null ? void 0 : content[1]) });
          editor.replaceSelection(newBlock);
          new import_obsidian10.Notice(`Converted codeblock link to hex`);
        } catch (error) {
          new import_obsidian10.Notice(error);
        }
      }
    });
    this.addCommand({
      id: "generate-random-palette",
      name: "Generate random palette",
      editorCallback: (editor) => {
        new GeneratePaletteModal(this.app, editor, this.settings).open();
      }
    });
    this.addSettingTab(new SettingsTab(this.app, this));
  }
  async loadSettings() {
    this.settings = Object.assign({}, defaultSettings, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzL3ZhbGlkYXRlLWNvbG9yL2xpYi9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvcXVhbnRpemUvcXVhbnRpemUuanMiLCAic3JjL21haW4udHMiLCAic3JjL0NyZWF0ZVBhbGV0dGVNb2RhbC50cyIsICJzcmMvcGFsZXR0ZS50cyIsICJub2RlX21vZHVsZXMvY29sb3JzZWEvZGlzdC9pbmRleC5lc20uanMiLCAic3JjL3NldHRpbmdzLnRzIiwgInNyYy91dGlscy9iYXNpY1V0aWxzLnRzIiwgInNyYy9wYWxldHRlL1BhbGV0dGVJdGVtLnRzIiwgInNyYy91dGlscy9kcmFnRHJvcFV0aWxzLnRzIiwgInNyYy91dGlscy9nZW5lcmF0ZVJhbmRvbS50cyIsICJzcmMvdXRpbHMvaW1hZ2VVdGlscy50cyIsICJzcmMvR2VuZXJhdGVQYWxldHRlTW9kYWwudHMiLCAic3JjL3V0aWxzL2VkaXRvclV0aWxzLnRzIiwgInNyYy91dGlscy9wcm90b3R5cGVVdGlscy50cyIsICJzcmMvcGFsZXR0ZU1SQy50cyIsICJzcmMvUmVvcmRlck1vZGFsLnRzIiwgInNyYy9QYWxldHRlTWVudS50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsibW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7dmFyIHI9e307ZnVuY3Rpb24gdChuKXtpZihyW25dKXJldHVybiByW25dLmV4cG9ydHM7dmFyIGE9cltuXT17aTpuLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIGVbbl0uY2FsbChhLmV4cG9ydHMsYSxhLmV4cG9ydHMsdCksYS5sPSEwLGEuZXhwb3J0c31yZXR1cm4gdC5tPWUsdC5jPXIsdC5kPWZ1bmN0aW9uKGUscixuKXt0Lm8oZSxyKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7ZW51bWVyYWJsZTohMCxnZXQ6bn0pfSx0LnI9ZnVuY3Rpb24oZSl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sdC50PWZ1bmN0aW9uKGUscil7aWYoMSZyJiYoZT10KGUpKSw4JnIpcmV0dXJuIGU7aWYoNCZyJiZcIm9iamVjdFwiPT10eXBlb2YgZSYmZSYmZS5fX2VzTW9kdWxlKXJldHVybiBlO3ZhciBuPU9iamVjdC5jcmVhdGUobnVsbCk7aWYodC5yKG4pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOmV9KSwyJnImJlwic3RyaW5nXCIhPXR5cGVvZiBlKWZvcih2YXIgYSBpbiBlKXQuZChuLGEsZnVuY3Rpb24ocil7cmV0dXJuIGVbcl19LmJpbmQobnVsbCxhKSk7cmV0dXJuIG59LHQubj1mdW5jdGlvbihlKXt2YXIgcj1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gdC5kKHIsXCJhXCIscikscn0sdC5vPWZ1bmN0aW9uKGUscil7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHIpfSx0LnA9XCJcIix0KHQucz0wKX0oW2Z1bmN0aW9uKGUscix0KXtcInVzZSBzdHJpY3RcIjt0LnIociksdC5kKHIsXCJ2YWxpZGF0ZUhUTUxDb2xvck5hbWVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbH0pKSx0LmQocixcInZhbGlkYXRlSFRNTENvbG9yU3BlY2lhbE5hbWVcIiwoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKSx0LmQocixcInZhbGlkYXRlSFRNTENvbG9ySGV4XCIsKGZ1bmN0aW9uKCl7cmV0dXJuIHV9KSksdC5kKHIsXCJ2YWxpZGF0ZUhUTUxDb2xvclJnYlwiLChmdW5jdGlvbigpe3JldHVybiBnfSkpLHQuZChyLFwidmFsaWRhdGVIVE1MQ29sb3JIc2xcIiwoZnVuY3Rpb24oKXtyZXR1cm4geX0pKSx0LmQocixcInZhbGlkYXRlSFRNTENvbG9ySHdiXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEx9KSksdC5kKHIsXCJ2YWxpZGF0ZUhUTUxDb2xvckxhYlwiLChmdW5jdGlvbigpe3JldHVybiBTfSkpLHQuZChyLFwidmFsaWRhdGVIVE1MQ29sb3JMY2hcIiwoZnVuY3Rpb24oKXtyZXR1cm4gbX0pKSx0LmQocixcInZhbGlkYXRlSFRNTENvbG9yXCIsKGZ1bmN0aW9uKCl7cmV0dXJuIEd9KSk7Y29uc3Qgbj1lPT5lJiZcInN0cmluZ1wiPT10eXBlb2YgZSxhPVtcIkFsaWNlQmx1ZVwiLFwiQW50aXF1ZVdoaXRlXCIsXCJBcXVhXCIsXCJBcXVhbWFyaW5lXCIsXCJBenVyZVwiLFwiQmVpZ2VcIixcIkJpc3F1ZVwiLFwiQmxhY2tcIixcIkJsYW5jaGVkQWxtb25kXCIsXCJCbHVlXCIsXCJCbHVlVmlvbGV0XCIsXCJCcm93blwiLFwiQnVybHlXb29kXCIsXCJDYWRldEJsdWVcIixcIkNoYXJ0cmV1c2VcIixcIkNob2NvbGF0ZVwiLFwiQ29yYWxcIixcIkNvcm5mbG93ZXJCbHVlXCIsXCJDb3Juc2lsa1wiLFwiQ3JpbXNvblwiLFwiQ3lhblwiLFwiRGFya0JsdWVcIixcIkRhcmtDeWFuXCIsXCJEYXJrR29sZGVucm9kXCIsXCJEYXJrR3JheVwiLFwiRGFya0dyZXlcIixcIkRhcmtHcmVlblwiLFwiRGFya0toYWtpXCIsXCJEYXJrTWFnZW50YVwiLFwiRGFya09saXZlR3JlZW5cIixcIkRhcmtPcmFuZ2VcIixcIkRhcmtPcmNoaWRcIixcIkRhcmtSZWRcIixcIkRhcmtTYWxtb25cIixcIkRhcmtTZWFHcmVlblwiLFwiRGFya1NsYXRlQmx1ZVwiLFwiRGFya1NsYXRlR3JheVwiLFwiRGFya1NsYXRlR3JleVwiLFwiRGFya1R1cnF1b2lzZVwiLFwiRGFya1Zpb2xldFwiLFwiRGVlcFBpbmtcIixcIkRlZXBTa3lCbHVlXCIsXCJEaW1HcmF5XCIsXCJEaW1HcmV5XCIsXCJEb2RnZXJCbHVlXCIsXCJGaXJlQnJpY2tcIixcIkZsb3JhbFdoaXRlXCIsXCJGb3Jlc3RHcmVlblwiLFwiRnVjaHNpYVwiLFwiR2FpbnNib3JvXCIsXCJHaG9zdFdoaXRlXCIsXCJHb2xkXCIsXCJHb2xkZW5yb2RcIixcIkdyYXlcIixcIkdyZXlcIixcIkdyZWVuXCIsXCJHcmVlblllbGxvd1wiLFwiSG9uZXlEZXdcIixcIkhvdFBpbmtcIixcIkluZGlhblJlZFwiLFwiSW5kaWdvXCIsXCJJdm9yeVwiLFwiS2hha2lcIixcIkxhdmVuZGVyXCIsXCJMYXZlbmRlckJsdXNoXCIsXCJMYXduR3JlZW5cIixcIkxlbW9uQ2hpZmZvblwiLFwiTGlnaHRCbHVlXCIsXCJMaWdodENvcmFsXCIsXCJMaWdodEN5YW5cIixcIkxpZ2h0R29sZGVucm9kWWVsbG93XCIsXCJMaWdodEdyYXlcIixcIkxpZ2h0R3JleVwiLFwiTGlnaHRHcmVlblwiLFwiTGlnaHRQaW5rXCIsXCJMaWdodFNhbG1vblwiLFwiTGlnaHRTYWxtb25cIixcIkxpZ2h0U2VhR3JlZW5cIixcIkxpZ2h0U2t5Qmx1ZVwiLFwiTGlnaHRTbGF0ZUdyYXlcIixcIkxpZ2h0U2xhdGVHcmV5XCIsXCJMaWdodFN0ZWVsQmx1ZVwiLFwiTGlnaHRZZWxsb3dcIixcIkxpbWVcIixcIkxpbWVHcmVlblwiLFwiTGluZW5cIixcIk1hZ2VudGFcIixcIk1hcm9vblwiLFwiTWVkaXVtQXF1YW1hcmluZVwiLFwiTWVkaXVtQmx1ZVwiLFwiTWVkaXVtT3JjaGlkXCIsXCJNZWRpdW1QdXJwbGVcIixcIk1lZGl1bVNlYUdyZWVuXCIsXCJNZWRpdW1TbGF0ZUJsdWVcIixcIk1lZGl1bVNsYXRlQmx1ZVwiLFwiTWVkaXVtU3ByaW5nR3JlZW5cIixcIk1lZGl1bVR1cnF1b2lzZVwiLFwiTWVkaXVtVmlvbGV0UmVkXCIsXCJNaWRuaWdodEJsdWVcIixcIk1pbnRDcmVhbVwiLFwiTWlzdHlSb3NlXCIsXCJNb2NjYXNpblwiLFwiTmF2YWpvV2hpdGVcIixcIk5hdnlcIixcIk9sZExhY2VcIixcIk9saXZlXCIsXCJPbGl2ZURyYWJcIixcIk9yYW5nZVwiLFwiT3JhbmdlUmVkXCIsXCJPcmNoaWRcIixcIlBhbGVHb2xkZW5yb2RcIixcIlBhbGVHcmVlblwiLFwiUGFsZVR1cnF1b2lzZVwiLFwiUGFsZVZpb2xldFJlZFwiLFwiUGFwYXlhV2hpcFwiLFwiUGVhY2hQdWZmXCIsXCJQZXJ1XCIsXCJQaW5rXCIsXCJQbHVtXCIsXCJQb3dkZXJCbHVlXCIsXCJQdXJwbGVcIixcIlJlYmVjY2FQdXJwbGVcIixcIlJlZFwiLFwiUm9zeUJyb3duXCIsXCJSb3lhbEJsdWVcIixcIlNhZGRsZUJyb3duXCIsXCJTYWxtb25cIixcIlNhbmR5QnJvd25cIixcIlNlYUdyZWVuXCIsXCJTZWFTaGVsbFwiLFwiU2llbm5hXCIsXCJTaWx2ZXJcIixcIlNreUJsdWVcIixcIlNsYXRlQmx1ZVwiLFwiU2xhdGVHcmF5XCIsXCJTbGF0ZUdyZXlcIixcIlNub3dcIixcIlNwcmluZ0dyZWVuXCIsXCJTdGVlbEJsdWVcIixcIlRhblwiLFwiVGVhbFwiLFwiVGhpc3RsZVwiLFwiVG9tYXRvXCIsXCJUdXJxdW9pc2VcIixcIlZpb2xldFwiLFwiV2hlYXRcIixcIldoaXRlXCIsXCJXaGl0ZVNtb2tlXCIsXCJZZWxsb3dcIixcIlllbGxvd0dyZWVuXCJdLG89W1wiY3VycmVudENvbG9yXCIsXCJpbmhlcml0XCIsXCJ0cmFuc3BhcmVudFwiXSxsPWU9PntsZXQgcj0hMTtyZXR1cm4gbihlKSYmYS5tYXAodD0+KGUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKSYmKHI9ITApLG51bGwpKSxyfSxpPWU9PntsZXQgcj0hMTtyZXR1cm4gbihlKSYmby5tYXAodD0+KGUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKSYmKHI9ITApLG51bGwpKSxyfSx1PWU9PntpZihuKGUpKXtjb25zdCByPS9eIyhbXFxkYS1mXXszfSl7MSwyfSR8XiMoW1xcZGEtZl17NH0pezEsMn0kL2k7cmV0dXJuIGUmJnIudGVzdChlKX1yZXR1cm4hMX0sZD1cIigoW1xcXFxkXXswLDV9KSgoXFxcXC4oW1xcXFxkXXsxLDV9KSk/KSlcIixzPWAoJHtkfSUpYCxjPVwiKChbMC05XXxbMS05XVswLTldfDEwMCklKVwiLGY9YCgke2N9fCgwPygoXFxcXC4oW1xcXFxkXXsxLDV9KSk/KSl8MSlgLGg9YChbXFxcXHNdezAsNX0pXFxcXCk/KSgoW1xcXFxzXXswLDV9KShcXFxcLz8pKFtcXFxcc117MSw1fSkke2AoKCgke2N9KSl8KDA/KChcXFxcLihbXFxcXGRdezEsNX0pKT8pKXwxKSk/YH0oW1xcXFxzXXswLDV9KVxcXFwpYCwkPVwiKC0/KChbMC05XXxbMS05XVswLTldfDFbMC05XVswLTldfDJbMC05XVswLTldfDNbMC01XVswLTldKSgoXFxcXC4oW1xcXFxkXXsxLDV9KSk/KXwzNjApKGRlZyk/KVwiLGc9ZT0+e2lmKG4oZSkpe2NvbnN0IHI9XCIoW1xcXFxzXXswLDV9KShbXFxcXGRdezEsNX0pJT8oW1xcXFxzXXswLDV9KSw/XCIsdD1cIigoKFtcXFxcc117MCw1fSksPyhbXFxcXHNdezAsNX0pKXwoKFtcXFxcc117MSw1fSkpKVwiLG49bmV3IFJlZ0V4cChgXihyZ2IpYT9cXFxcKCR7YCR7cn0ke3R9YH0ke2Ake3J9JHt0fWB9JHtgJHtyfSR7dH1gfSgke1wiKFxcXFwvPyhbXFxcXHNdezAsNX0pKDA/XFxcXC4/KFtcXFxcZF17MSw1fSklPyhbXFxcXHNdezAsNX0pKT98MXwwKVwifSk/XFxcXCkkYCk7cmV0dXJuIGUmJm4udGVzdChlKX1yZXR1cm4hMX0seT1lPT57aWYobihlKSl7Y29uc3Qgcj1uZXcgUmVnRXhwKGBeKGhzbClhP1xcXFwoKChbXFxcXHNdezAsNX0pKCR7JH18JHtcIigoWzAtOV18WzEtOV1bMC05XXwxWzAtOV1bMC05XXwyWzAtOV1bMC05XXwzWzAtOV1bMC05XXw0MDApZ3JhZClcIn18JHtcIigoKFswLTVdKT9cXFxcLihbXFxcXGRdezEsNX0pfDZcXFxcLihbMC05XXwxWzAtOV18MlswLThdKXxbMC02XSlyYWQpXCJ9fCR7XCIoKDA/KChcXFxcLihbXFxcXGRdezEsNX0pKT8pfDEpdHVybilcIn0pKCgoW1xcXFxzXXswLDV9KSwoW1xcXFxzXXswLDV9KSl8KChbXFxcXHNdezEsNX0pKSkpKChbXFxcXHNdezAsNX0pKDB8JHtjfSkoKChbXFxcXHNdezAsNX0pLChbXFxcXHNdezAsNX0pKXwoKFtcXFxcc117MSw1fSkpKSkoKFtcXFxcc117MCw1fSkoMHwke2N9KShbXFxcXHNdezAsNX0pXFxcXCk/KSgoW1xcXFxzXXswLDV9KShcXFxcLz98LD8pKFtcXFxcc117MCw1fSkoKCgke2N9KSl8KDA/KChcXFxcLihbXFxcXGRdezEsNX0pKT8pKXwxKSk/XFxcXCkkYCk7cmV0dXJuIGUmJnIudGVzdChlKX1yZXR1cm4hMX0sTD1lPT57aWYobihlKSl7Y29uc3Qgcj1uZXcgUmVnRXhwKGBeKGh3YlxcXFwoKFtcXFxcc117MCw1fSkkeyR9KFtcXFxcc117MSw1fSkpKCgwfCR7Y30pKFtcXFxcc117MSw1fSkpKCgwfCR7Y30pJHtofSRgKTtyZXR1cm4gZSYmci50ZXN0KGUpfXJldHVybiExfSxTPWU9PntpZihuKGUpKXtjb25zdCByPVwiKC0/KChbMC05XXxbMS05XVswLTldfDFbMC01XVswLTldKSgoXFxcXC4oW1xcXFxkXXsxLDV9KSk/KT98MTYwKSlcIix0PW5ldyBSZWdFeHAoYF4obGFiXFxcXCgoW1xcXFxzXXswLDV9KSR7c30oW1xcXFxzXXsxLDV9KSR7cn0oW1xcXFxzXXsxLDV9KSR7cn0ke2h9JGApO3JldHVybiBlJiZ0LnRlc3QoZSl9cmV0dXJuITF9LG09ZT0+e2lmKG4oZSkpe2NvbnN0IHI9XCIoKChbMC05XXxbMS05XVswLTldKT8oKFxcXFwuKFtcXFxcZF17MSw1fSkpPyl8MTAwKSglKT8pXCIsdD1cIlwiK2Qsbj1gKCgkeyR9KXwoMHwke2Z9KXwoKFswLTldfFsxLTldWzAtOV18MVswLTldWzAtOV18MlswLTldWzAtOV18M1swLTVdWzAtOV0pKChcXFxcLihbXFxcXGRdezEsNX0pKT8pfDM2MCkpYCxhPWAoXFxcXC8oW1xcXFxzXXswLDV9KSR7Zn0pYCxvPW5ldyBSZWdFeHAoYF5sY2hcXFxcKCR7YCgoW1xcXFxzXXswLDV9KSR7cn0oW1xcXFxzXXsxLDV9KSR7dH0oW1xcXFxzXXsxLDV9KSR7bn0oW1xcXFxzXXswLDV9KSgke2F9KT8pYH1cXFxcKSRgKTtyZXR1cm4gZSYmby50ZXN0KGUpfXJldHVybiExfSxHPWU9PiEhKGUmJnUoZSl8fGcoZSl8fHkoZSl8fEwoZSl8fFMoZSl8fG0oZSkpO3IuZGVmYXVsdD1lPT4hIShlJiZ1KGUpfHxsKGUpfHxpKGUpfHxnKGUpfHx5KGUpfHxMKGUpfHxTKGUpfHxtKGUpKX1dKTsiLCAiLypcbiAqIHF1YW50aXplLmpzIENvcHlyaWdodCAyMDA4IE5pY2sgUmFiaW5vd2l0elxuICogUG9ydGVkIHRvIG5vZGUuanMgYnkgT2xpdmllciBMZXNuaWNraVxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlOiBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICovXG5cbi8vIGZpbGwgb3V0IGEgY291cGxlIHByb3RvdmlzIGRlcGVuZGVuY2llc1xuLypcbiAqIEJsb2NrIGJlbG93IGNvcGllZCBmcm9tIFByb3RvdmlzOiBodHRwOi8vbWJvc3RvY2suZ2l0aHViLmNvbS9wcm90b3Zpcy9cbiAqIENvcHlyaWdodCAyMDEwIFN0YW5mb3JkIFZpc3VhbGl6YXRpb24gR3JvdXBcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgTGljZW5zZTogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9ic2QtbGljZW5zZS5waHBcbiAqL1xuaWYgKCFwdikge1xuICAgIHZhciBwdiA9IHtcbiAgICAgICAgbWFwOiBmdW5jdGlvbihhcnJheSwgZikge1xuICAgICAgICAgICAgdmFyIG8gPSB7fTtcbiAgICAgICAgICAgIHJldHVybiBmID8gYXJyYXkubWFwKGZ1bmN0aW9uKGQsIGkpIHtcbiAgICAgICAgICAgICAgICBvLmluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZi5jYWxsKG8sIGQpO1xuICAgICAgICAgICAgfSkgOiBhcnJheS5zbGljZSgpO1xuICAgICAgICB9LFxuICAgICAgICBuYXR1cmFsT3JkZXI6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiAoYSA8IGIpID8gLTEgOiAoKGEgPiBiKSA/IDEgOiAwKTtcbiAgICAgICAgfSxcbiAgICAgICAgc3VtOiBmdW5jdGlvbihhcnJheSwgZikge1xuICAgICAgICAgICAgdmFyIG8gPSB7fTtcbiAgICAgICAgICAgIHJldHVybiBhcnJheS5yZWR1Y2UoZiA/IGZ1bmN0aW9uKHAsIGQsIGkpIHtcbiAgICAgICAgICAgICAgICBvLmluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcCArIGYuY2FsbChvLCBkKTtcbiAgICAgICAgICAgIH0gOiBmdW5jdGlvbihwLCBkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHAgKyBkO1xuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgIH0sXG4gICAgICAgIG1heDogZnVuY3Rpb24oYXJyYXksIGYpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heC5hcHBseShudWxsLCBmID8gcHYubWFwKGFycmF5LCBmKSA6IGFycmF5KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBCYXNpYyBKYXZhc2NyaXB0IHBvcnQgb2YgdGhlIE1NQ1EgKG1vZGlmaWVkIG1lZGlhbiBjdXQgcXVhbnRpemF0aW9uKVxuICogYWxnb3JpdGhtIGZyb20gdGhlIExlcHRvbmljYSBsaWJyYXJ5IChodHRwOi8vd3d3LmxlcHRvbmljYS5jb20vKS5cbiAqIFJldHVybnMgYSBjb2xvciBtYXAgeW91IGNhbiB1c2UgdG8gbWFwIG9yaWdpbmFsIHBpeGVscyB0byB0aGUgcmVkdWNlZFxuICogcGFsZXR0ZS4gU3RpbGwgYSB3b3JrIGluIHByb2dyZXNzLlxuICogXG4gKiBAYXV0aG9yIE5pY2sgUmFiaW5vd2l0elxuICogQGV4YW1wbGVcbiBcbi8vIGFycmF5IG9mIHBpeGVscyBhcyBbUixHLEJdIGFycmF5c1xudmFyIG15UGl4ZWxzID0gW1sxOTAsMTk3LDE5MF0sIFsyMDIsMjA0LDIwMF0sIFsyMDcsMjE0LDIxMF0sIFsyMTEsMjE0LDIxMV0sIFsyMDUsMjA3LDIwN11cbiAgICAgICAgICAgICAgICAvLyBldGNcbiAgICAgICAgICAgICAgICBdO1xudmFyIG1heENvbG9ycyA9IDQ7XG4gXG52YXIgY21hcCA9IE1NQ1EucXVhbnRpemUobXlQaXhlbHMsIG1heENvbG9ycyk7XG52YXIgbmV3UGFsZXR0ZSA9IGNtYXAucGFsZXR0ZSgpO1xudmFyIG5ld1BpeGVscyA9IG15UGl4ZWxzLm1hcChmdW5jdGlvbihwKSB7IFxuICAgIHJldHVybiBjbWFwLm1hcChwKTsgXG59KTtcbiBcbiAqL1xudmFyIE1NQ1EgPSAoZnVuY3Rpb24oKSB7XG4gICAgLy8gcHJpdmF0ZSBjb25zdGFudHNcbiAgICB2YXIgc2lnYml0cyA9IDUsXG4gICAgICAgIHJzaGlmdCA9IDggLSBzaWdiaXRzLFxuICAgICAgICBtYXhJdGVyYXRpb25zID0gMTAwMCxcbiAgICAgICAgZnJhY3RCeVBvcHVsYXRpb25zID0gMC43NTtcblxuICAgIC8vIGdldCByZWR1Y2VkLXNwYWNlIGNvbG9yIGluZGV4IGZvciBhIHBpeGVsXG5cbiAgICBmdW5jdGlvbiBnZXRDb2xvckluZGV4KHIsIGcsIGIpIHtcbiAgICAgICAgcmV0dXJuIChyIDw8ICgyICogc2lnYml0cykpICsgKGcgPDwgc2lnYml0cykgKyBiO1xuICAgIH1cblxuICAgIC8vIFNpbXBsZSBwcmlvcml0eSBxdWV1ZVxuXG4gICAgZnVuY3Rpb24gUFF1ZXVlKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgdmFyIGNvbnRlbnRzID0gW10sXG4gICAgICAgICAgICBzb3J0ZWQgPSBmYWxzZTtcblxuICAgICAgICBmdW5jdGlvbiBzb3J0KCkge1xuICAgICAgICAgICAgY29udGVudHMuc29ydChjb21wYXJhdG9yKTtcbiAgICAgICAgICAgIHNvcnRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHVzaDogZnVuY3Rpb24obykge1xuICAgICAgICAgICAgICAgIGNvbnRlbnRzLnB1c2gobyk7XG4gICAgICAgICAgICAgICAgc29ydGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGVlazogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNvcnRlZCkgc29ydCgpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSBpbmRleCA9IGNvbnRlbnRzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRzW2luZGV4XTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwb3A6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICghc29ydGVkKSBzb3J0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRzLnBvcCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50cy5sZW5ndGg7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWFwOiBmdW5jdGlvbihmKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRzLm1hcChmKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWJ1ZzogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzb3J0ZWQpIHNvcnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gM2QgY29sb3Igc3BhY2UgYm94XG5cbiAgICBmdW5jdGlvbiBWQm94KHIxLCByMiwgZzEsIGcyLCBiMSwgYjIsIGhpc3RvKSB7XG4gICAgICAgIHZhciB2Ym94ID0gdGhpcztcbiAgICAgICAgdmJveC5yMSA9IHIxO1xuICAgICAgICB2Ym94LnIyID0gcjI7XG4gICAgICAgIHZib3guZzEgPSBnMTtcbiAgICAgICAgdmJveC5nMiA9IGcyO1xuICAgICAgICB2Ym94LmIxID0gYjE7XG4gICAgICAgIHZib3guYjIgPSBiMjtcbiAgICAgICAgdmJveC5oaXN0byA9IGhpc3RvO1xuICAgIH1cbiAgICBWQm94LnByb3RvdHlwZSA9IHtcbiAgICAgICAgdm9sdW1lOiBmdW5jdGlvbihmb3JjZSkge1xuICAgICAgICAgICAgdmFyIHZib3ggPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCF2Ym94Ll92b2x1bWUgfHwgZm9yY2UpIHtcbiAgICAgICAgICAgICAgICB2Ym94Ll92b2x1bWUgPSAoKHZib3gucjIgLSB2Ym94LnIxICsgMSkgKiAodmJveC5nMiAtIHZib3guZzEgKyAxKSAqICh2Ym94LmIyIC0gdmJveC5iMSArIDEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2Ym94Ll92b2x1bWU7XG4gICAgICAgIH0sXG4gICAgICAgIGNvdW50OiBmdW5jdGlvbihmb3JjZSkge1xuICAgICAgICAgICAgdmFyIHZib3ggPSB0aGlzLFxuICAgICAgICAgICAgICAgIGhpc3RvID0gdmJveC5oaXN0bztcbiAgICAgICAgICAgIGlmICghdmJveC5fY291bnRfc2V0IHx8IGZvcmNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5waXggPSAwLFxuICAgICAgICAgICAgICAgICAgICBpLCBqLCBrLCBpbmRleDtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSB2Ym94LnIxOyBpIDw9IHZib3gucjI7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSB2Ym94LmcxOyBqIDw9IHZib3guZzI7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gdmJveC5iMTsgayA8PSB2Ym94LmIyOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGdldENvbG9ySW5kZXgoaSwgaiwgayk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbnBpeCArPSAoaGlzdG9baW5kZXhdIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZib3guX2NvdW50ID0gbnBpeDtcbiAgICAgICAgICAgICAgICB2Ym94Ll9jb3VudF9zZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZib3guX2NvdW50O1xuICAgICAgICB9LFxuICAgICAgICBjb3B5OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciB2Ym94ID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBuZXcgVkJveCh2Ym94LnIxLCB2Ym94LnIyLCB2Ym94LmcxLCB2Ym94LmcyLCB2Ym94LmIxLCB2Ym94LmIyLCB2Ym94Lmhpc3RvKTtcbiAgICAgICAgfSxcbiAgICAgICAgYXZnOiBmdW5jdGlvbihmb3JjZSkge1xuICAgICAgICAgICAgdmFyIHZib3ggPSB0aGlzLFxuICAgICAgICAgICAgICAgIGhpc3RvID0gdmJveC5oaXN0bztcbiAgICAgICAgICAgIGlmICghdmJveC5fYXZnIHx8IGZvcmNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG50b3QgPSAwLFxuICAgICAgICAgICAgICAgICAgICBtdWx0ID0gMSA8PCAoOCAtIHNpZ2JpdHMpLFxuICAgICAgICAgICAgICAgICAgICByc3VtID0gMCxcbiAgICAgICAgICAgICAgICAgICAgZ3N1bSA9IDAsXG4gICAgICAgICAgICAgICAgICAgIGJzdW0gPSAwLFxuICAgICAgICAgICAgICAgICAgICBodmFsLFxuICAgICAgICAgICAgICAgICAgICBpLCBqLCBrLCBoaXN0b2luZGV4O1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IHZib3gucjE7IGkgPD0gdmJveC5yMjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IHZib3guZzE7IGogPD0gdmJveC5nMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGsgPSB2Ym94LmIxOyBrIDw9IHZib3guYjI7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvaW5kZXggPSBnZXRDb2xvckluZGV4KGksIGosIGspO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh2YWwgPSBoaXN0b1toaXN0b2luZGV4XSB8fCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG50b3QgKz0gaHZhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByc3VtICs9IChodmFsICogKGkgKyAwLjUpICogbXVsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3N1bSArPSAoaHZhbCAqIChqICsgMC41KSAqIG11bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJzdW0gKz0gKGh2YWwgKiAoayArIDAuNSkgKiBtdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobnRvdCkge1xuICAgICAgICAgICAgICAgICAgICB2Ym94Ll9hdmcgPSBbfn4ocnN1bSAvIG50b3QpLCB+fiAoZ3N1bSAvIG50b3QpLCB+fiAoYnN1bSAvIG50b3QpXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdlbXB0eSBib3gnKTtcbiAgICAgICAgICAgICAgICAgICAgdmJveC5fYXZnID0gW35+KG11bHQgKiAodmJveC5yMSArIHZib3gucjIgKyAxKSAvIDIpLCB+fiAobXVsdCAqICh2Ym94LmcxICsgdmJveC5nMiArIDEpIC8gMiksIH5+IChtdWx0ICogKHZib3guYjEgKyB2Ym94LmIyICsgMSkgLyAyKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZib3guX2F2ZztcbiAgICAgICAgfSxcbiAgICAgICAgY29udGFpbnM6IGZ1bmN0aW9uKHBpeGVsKSB7XG4gICAgICAgICAgICB2YXIgdmJveCA9IHRoaXMsXG4gICAgICAgICAgICAgICAgcnZhbCA9IHBpeGVsWzBdID4+IHJzaGlmdDtcbiAgICAgICAgICAgIGd2YWwgPSBwaXhlbFsxXSA+PiByc2hpZnQ7XG4gICAgICAgICAgICBidmFsID0gcGl4ZWxbMl0gPj4gcnNoaWZ0O1xuICAgICAgICAgICAgcmV0dXJuIChydmFsID49IHZib3gucjEgJiYgcnZhbCA8PSB2Ym94LnIyICYmXG4gICAgICAgICAgICAgICAgZ3ZhbCA+PSB2Ym94LmcxICYmIGd2YWwgPD0gdmJveC5nMiAmJlxuICAgICAgICAgICAgICAgIGJ2YWwgPj0gdmJveC5iMSAmJiBidmFsIDw9IHZib3guYjIpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIENvbG9yIG1hcFxuXG4gICAgZnVuY3Rpb24gQ01hcCgpIHtcbiAgICAgICAgdGhpcy52Ym94ZXMgPSBuZXcgUFF1ZXVlKGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBwdi5uYXR1cmFsT3JkZXIoXG4gICAgICAgICAgICAgICAgYS52Ym94LmNvdW50KCkgKiBhLnZib3gudm9sdW1lKCksXG4gICAgICAgICAgICAgICAgYi52Ym94LmNvdW50KCkgKiBiLnZib3gudm9sdW1lKClcbiAgICAgICAgICAgIClcbiAgICAgICAgfSk7O1xuICAgIH1cbiAgICBDTWFwLnByb3RvdHlwZSA9IHtcbiAgICAgICAgcHVzaDogZnVuY3Rpb24odmJveCkge1xuICAgICAgICAgICAgdGhpcy52Ym94ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgdmJveDogdmJveCxcbiAgICAgICAgICAgICAgICBjb2xvcjogdmJveC5hdmcoKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHBhbGV0dGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmJveGVzLm1hcChmdW5jdGlvbih2Yikge1xuICAgICAgICAgICAgICAgIHJldHVybiB2Yi5jb2xvclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmJveGVzLnNpemUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgbWFwOiBmdW5jdGlvbihjb2xvcikge1xuICAgICAgICAgICAgdmFyIHZib3hlcyA9IHRoaXMudmJveGVzO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2Ym94ZXMuc2l6ZSgpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAodmJveGVzLnBlZWsoaSkudmJveC5jb250YWlucyhjb2xvcikpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZib3hlcy5wZWVrKGkpLmNvbG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5lYXJlc3QoY29sb3IpO1xuICAgICAgICB9LFxuICAgICAgICBuZWFyZXN0OiBmdW5jdGlvbihjb2xvcikge1xuICAgICAgICAgICAgdmFyIHZib3hlcyA9IHRoaXMudmJveGVzLFxuICAgICAgICAgICAgICAgIGQxLCBkMiwgcENvbG9yO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2Ym94ZXMuc2l6ZSgpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBkMiA9IE1hdGguc3FydChcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5wb3coY29sb3JbMF0gLSB2Ym94ZXMucGVlayhpKS5jb2xvclswXSwgMikgK1xuICAgICAgICAgICAgICAgICAgICBNYXRoLnBvdyhjb2xvclsxXSAtIHZib3hlcy5wZWVrKGkpLmNvbG9yWzFdLCAyKSArXG4gICAgICAgICAgICAgICAgICAgIE1hdGgucG93KGNvbG9yWzJdIC0gdmJveGVzLnBlZWsoaSkuY29sb3JbMl0sIDIpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAoZDIgPCBkMSB8fCBkMSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGQxID0gZDI7XG4gICAgICAgICAgICAgICAgICAgIHBDb2xvciA9IHZib3hlcy5wZWVrKGkpLmNvbG9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwQ29sb3I7XG4gICAgICAgIH0sXG4gICAgICAgIGZvcmNlYnc6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gWFhYOiB3b24ndCAgd29yayB5ZXRcbiAgICAgICAgICAgIHZhciB2Ym94ZXMgPSB0aGlzLnZib3hlcztcbiAgICAgICAgICAgIHZib3hlcy5zb3J0KGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHYubmF0dXJhbE9yZGVyKHB2LnN1bShhLmNvbG9yKSwgcHYuc3VtKGIuY29sb3IpKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGZvcmNlIGRhcmtlc3QgY29sb3IgdG8gYmxhY2sgaWYgZXZlcnl0aGluZyA8IDVcbiAgICAgICAgICAgIHZhciBsb3dlc3QgPSB2Ym94ZXNbMF0uY29sb3I7XG4gICAgICAgICAgICBpZiAobG93ZXN0WzBdIDwgNSAmJiBsb3dlc3RbMV0gPCA1ICYmIGxvd2VzdFsyXSA8IDUpXG4gICAgICAgICAgICAgICAgdmJveGVzWzBdLmNvbG9yID0gWzAsIDAsIDBdO1xuXG4gICAgICAgICAgICAvLyBmb3JjZSBsaWdodGVzdCBjb2xvciB0byB3aGl0ZSBpZiBldmVyeXRoaW5nID4gMjUxXG4gICAgICAgICAgICB2YXIgaWR4ID0gdmJveGVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgaGlnaGVzdCA9IHZib3hlc1tpZHhdLmNvbG9yO1xuICAgICAgICAgICAgaWYgKGhpZ2hlc3RbMF0gPiAyNTEgJiYgaGlnaGVzdFsxXSA+IDI1MSAmJiBoaWdoZXN0WzJdID4gMjUxKVxuICAgICAgICAgICAgICAgIHZib3hlc1tpZHhdLmNvbG9yID0gWzI1NSwgMjU1LCAyNTVdO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIGhpc3RvICgxLWQgYXJyYXksIGdpdmluZyB0aGUgbnVtYmVyIG9mIHBpeGVscyBpblxuICAgIC8vIGVhY2ggcXVhbnRpemVkIHJlZ2lvbiBvZiBjb2xvciBzcGFjZSksIG9yIG51bGwgb24gZXJyb3JcblxuICAgIGZ1bmN0aW9uIGdldEhpc3RvKHBpeGVscykge1xuICAgICAgICB2YXIgaGlzdG9zaXplID0gMSA8PCAoMyAqIHNpZ2JpdHMpLFxuICAgICAgICAgICAgaGlzdG8gPSBuZXcgQXJyYXkoaGlzdG9zaXplKSxcbiAgICAgICAgICAgIGluZGV4LCBydmFsLCBndmFsLCBidmFsO1xuICAgICAgICBwaXhlbHMuZm9yRWFjaChmdW5jdGlvbihwaXhlbCkge1xuICAgICAgICAgICAgcnZhbCA9IHBpeGVsWzBdID4+IHJzaGlmdDtcbiAgICAgICAgICAgIGd2YWwgPSBwaXhlbFsxXSA+PiByc2hpZnQ7XG4gICAgICAgICAgICBidmFsID0gcGl4ZWxbMl0gPj4gcnNoaWZ0O1xuICAgICAgICAgICAgaW5kZXggPSBnZXRDb2xvckluZGV4KHJ2YWwsIGd2YWwsIGJ2YWwpO1xuICAgICAgICAgICAgaGlzdG9baW5kZXhdID0gKGhpc3RvW2luZGV4XSB8fCAwKSArIDE7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaGlzdG87XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmJveEZyb21QaXhlbHMocGl4ZWxzLCBoaXN0bykge1xuICAgICAgICB2YXIgcm1pbiA9IDEwMDAwMDAsXG4gICAgICAgICAgICBybWF4ID0gMCxcbiAgICAgICAgICAgIGdtaW4gPSAxMDAwMDAwLFxuICAgICAgICAgICAgZ21heCA9IDAsXG4gICAgICAgICAgICBibWluID0gMTAwMDAwMCxcbiAgICAgICAgICAgIGJtYXggPSAwLFxuICAgICAgICAgICAgcnZhbCwgZ3ZhbCwgYnZhbDtcbiAgICAgICAgLy8gZmluZCBtaW4vbWF4XG4gICAgICAgIHBpeGVscy5mb3JFYWNoKGZ1bmN0aW9uKHBpeGVsKSB7XG4gICAgICAgICAgICBydmFsID0gcGl4ZWxbMF0gPj4gcnNoaWZ0O1xuICAgICAgICAgICAgZ3ZhbCA9IHBpeGVsWzFdID4+IHJzaGlmdDtcbiAgICAgICAgICAgIGJ2YWwgPSBwaXhlbFsyXSA+PiByc2hpZnQ7XG4gICAgICAgICAgICBpZiAocnZhbCA8IHJtaW4pIHJtaW4gPSBydmFsO1xuICAgICAgICAgICAgZWxzZSBpZiAocnZhbCA+IHJtYXgpIHJtYXggPSBydmFsO1xuICAgICAgICAgICAgaWYgKGd2YWwgPCBnbWluKSBnbWluID0gZ3ZhbDtcbiAgICAgICAgICAgIGVsc2UgaWYgKGd2YWwgPiBnbWF4KSBnbWF4ID0gZ3ZhbDtcbiAgICAgICAgICAgIGlmIChidmFsIDwgYm1pbikgYm1pbiA9IGJ2YWw7XG4gICAgICAgICAgICBlbHNlIGlmIChidmFsID4gYm1heCkgYm1heCA9IGJ2YWw7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IFZCb3gocm1pbiwgcm1heCwgZ21pbiwgZ21heCwgYm1pbiwgYm1heCwgaGlzdG8pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1lZGlhbkN1dEFwcGx5KGhpc3RvLCB2Ym94KSB7XG4gICAgICAgIGlmICghdmJveC5jb3VudCgpKSByZXR1cm47XG5cbiAgICAgICAgdmFyIHJ3ID0gdmJveC5yMiAtIHZib3gucjEgKyAxLFxuICAgICAgICAgICAgZ3cgPSB2Ym94LmcyIC0gdmJveC5nMSArIDEsXG4gICAgICAgICAgICBidyA9IHZib3guYjIgLSB2Ym94LmIxICsgMSxcbiAgICAgICAgICAgIG1heHcgPSBwdi5tYXgoW3J3LCBndywgYnddKTtcbiAgICAgICAgLy8gb25seSBvbmUgcGl4ZWwsIG5vIHNwbGl0XG4gICAgICAgIGlmICh2Ym94LmNvdW50KCkgPT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIFt2Ym94LmNvcHkoKV1cbiAgICAgICAgfVxuICAgICAgICAvKiBGaW5kIHRoZSBwYXJ0aWFsIHN1bSBhcnJheXMgYWxvbmcgdGhlIHNlbGVjdGVkIGF4aXMuICovXG4gICAgICAgIHZhciB0b3RhbCA9IDAsXG4gICAgICAgICAgICBwYXJ0aWFsc3VtID0gW10sXG4gICAgICAgICAgICBsb29rYWhlYWRzdW0gPSBbXSxcbiAgICAgICAgICAgIGksIGosIGssIHN1bSwgaW5kZXg7XG4gICAgICAgIGlmIChtYXh3ID09IHJ3KSB7XG4gICAgICAgICAgICBmb3IgKGkgPSB2Ym94LnIxOyBpIDw9IHZib3gucjI7IGkrKykge1xuICAgICAgICAgICAgICAgIHN1bSA9IDA7XG4gICAgICAgICAgICAgICAgZm9yIChqID0gdmJveC5nMTsgaiA8PSB2Ym94LmcyOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gdmJveC5iMTsgayA8PSB2Ym94LmIyOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gZ2V0Q29sb3JJbmRleChpLCBqLCBrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSAoaGlzdG9baW5kZXhdIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRvdGFsICs9IHN1bTtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsc3VtW2ldID0gdG90YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobWF4dyA9PSBndykge1xuICAgICAgICAgICAgZm9yIChpID0gdmJveC5nMTsgaSA8PSB2Ym94LmcyOyBpKyspIHtcbiAgICAgICAgICAgICAgICBzdW0gPSAwO1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IHZib3gucjE7IGogPD0gdmJveC5yMjsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoayA9IHZib3guYjE7IGsgPD0gdmJveC5iMjsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGdldENvbG9ySW5kZXgoaiwgaSwgayk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdW0gKz0gKGhpc3RvW2luZGV4XSB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0b3RhbCArPSBzdW07XG4gICAgICAgICAgICAgICAgcGFydGlhbHN1bVtpXSA9IHRvdGFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgeyAvKiBtYXh3ID09IGJ3ICovXG4gICAgICAgICAgICBmb3IgKGkgPSB2Ym94LmIxOyBpIDw9IHZib3guYjI7IGkrKykge1xuICAgICAgICAgICAgICAgIHN1bSA9IDA7XG4gICAgICAgICAgICAgICAgZm9yIChqID0gdmJveC5yMTsgaiA8PSB2Ym94LnIyOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gdmJveC5nMTsgayA8PSB2Ym94LmcyOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gZ2V0Q29sb3JJbmRleChqLCBrLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSAoaGlzdG9baW5kZXhdIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRvdGFsICs9IHN1bTtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsc3VtW2ldID0gdG90YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcGFydGlhbHN1bS5mb3JFYWNoKGZ1bmN0aW9uKGQsIGkpIHtcbiAgICAgICAgICAgIGxvb2thaGVhZHN1bVtpXSA9IHRvdGFsIC0gZFxuICAgICAgICB9KTtcblxuICAgICAgICBmdW5jdGlvbiBkb0N1dChjb2xvcikge1xuICAgICAgICAgICAgdmFyIGRpbTEgPSBjb2xvciArICcxJyxcbiAgICAgICAgICAgICAgICBkaW0yID0gY29sb3IgKyAnMicsXG4gICAgICAgICAgICAgICAgbGVmdCwgcmlnaHQsIHZib3gxLCB2Ym94MiwgZDIsIGNvdW50MiA9IDA7XG4gICAgICAgICAgICBmb3IgKGkgPSB2Ym94W2RpbTFdOyBpIDw9IHZib3hbZGltMl07IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0aWFsc3VtW2ldID4gdG90YWwgLyAyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZib3gxID0gdmJveC5jb3B5KCk7XG4gICAgICAgICAgICAgICAgICAgIHZib3gyID0gdmJveC5jb3B5KCk7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSBpIC0gdmJveFtkaW0xXTtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQgPSB2Ym94W2RpbTJdIC0gaTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxlZnQgPD0gcmlnaHQpXG4gICAgICAgICAgICAgICAgICAgICAgICBkMiA9IE1hdGgubWluKHZib3hbZGltMl0gLSAxLCB+fiAoaSArIHJpZ2h0IC8gMikpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGQyID0gTWF0aC5tYXgodmJveFtkaW0xXSwgfn4gKGkgLSAxIC0gbGVmdCAvIDIpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYXZvaWQgMC1jb3VudCBib3hlc1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIXBhcnRpYWxzdW1bZDJdKSBkMisrO1xuICAgICAgICAgICAgICAgICAgICBjb3VudDIgPSBsb29rYWhlYWRzdW1bZDJdO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIWNvdW50MiAmJiBwYXJ0aWFsc3VtW2QyIC0gMV0pIGNvdW50MiA9IGxvb2thaGVhZHN1bVstLWQyXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2V0IGRpbWVuc2lvbnNcbiAgICAgICAgICAgICAgICAgICAgdmJveDFbZGltMl0gPSBkMjtcbiAgICAgICAgICAgICAgICAgICAgdmJveDJbZGltMV0gPSB2Ym94MVtkaW0yXSArIDE7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd2Ym94IGNvdW50czonLCB2Ym94LmNvdW50KCksIHZib3gxLmNvdW50KCksIHZib3gyLmNvdW50KCkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3Zib3gxLCB2Ym94Ml07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSBjdXQgcGxhbmVzXG4gICAgICAgIHJldHVybiBtYXh3ID09IHJ3ID8gZG9DdXQoJ3InKSA6XG4gICAgICAgICAgICBtYXh3ID09IGd3ID8gZG9DdXQoJ2cnKSA6XG4gICAgICAgICAgICBkb0N1dCgnYicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHF1YW50aXplKHBpeGVscywgbWF4Y29sb3JzKSB7XG4gICAgICAgIC8vIHNob3J0LWNpcmN1aXRcbiAgICAgICAgaWYgKCFwaXhlbHMubGVuZ3RoIHx8IG1heGNvbG9ycyA8IDIgfHwgbWF4Y29sb3JzID4gMjU2KSB7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnd3JvbmcgbnVtYmVyIG9mIG1heGNvbG9ycycpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gWFhYOiBjaGVjayBjb2xvciBjb250ZW50IGFuZCBjb252ZXJ0IHRvIGdyYXlzY2FsZSBpZiBpbnN1ZmZpY2llbnRcblxuICAgICAgICB2YXIgaGlzdG8gPSBnZXRIaXN0byhwaXhlbHMpLFxuICAgICAgICAgICAgaGlzdG9zaXplID0gMSA8PCAoMyAqIHNpZ2JpdHMpO1xuXG4gICAgICAgIC8vIGNoZWNrIHRoYXQgd2UgYXJlbid0IGJlbG93IG1heGNvbG9ycyBhbHJlYWR5XG4gICAgICAgIHZhciBuQ29sb3JzID0gMDtcbiAgICAgICAgaGlzdG8uZm9yRWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG5Db2xvcnMrK1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKG5Db2xvcnMgPD0gbWF4Y29sb3JzKSB7XG4gICAgICAgICAgICAvLyBYWFg6IGdlbmVyYXRlIHRoZSBuZXcgY29sb3JzIGZyb20gdGhlIGhpc3RvIGFuZCByZXR1cm5cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGdldCB0aGUgYmVnaW5uaW5nIHZib3ggZnJvbSB0aGUgY29sb3JzXG4gICAgICAgIHZhciB2Ym94ID0gdmJveEZyb21QaXhlbHMocGl4ZWxzLCBoaXN0byksXG4gICAgICAgICAgICBwcSA9IG5ldyBQUXVldWUoZnVuY3Rpb24oYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBwdi5uYXR1cmFsT3JkZXIoYS5jb3VudCgpLCBiLmNvdW50KCkpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcHEucHVzaCh2Ym94KTtcblxuICAgICAgICAvLyBpbm5lciBmdW5jdGlvbiB0byBkbyB0aGUgaXRlcmF0aW9uXG5cbiAgICAgICAgZnVuY3Rpb24gaXRlcihsaCwgdGFyZ2V0KSB7XG4gICAgICAgICAgICB2YXIgbmNvbG9ycyA9IDEsXG4gICAgICAgICAgICAgICAgbml0ZXJzID0gMCxcbiAgICAgICAgICAgICAgICB2Ym94O1xuICAgICAgICAgICAgd2hpbGUgKG5pdGVycyA8IG1heEl0ZXJhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB2Ym94ID0gbGgucG9wKCk7XG4gICAgICAgICAgICAgICAgaWYgKCF2Ym94LmNvdW50KCkpIHsgLyoganVzdCBwdXQgaXQgYmFjayAqL1xuICAgICAgICAgICAgICAgICAgICBsaC5wdXNoKHZib3gpO1xuICAgICAgICAgICAgICAgICAgICBuaXRlcnMrKztcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGRvIHRoZSBjdXRcbiAgICAgICAgICAgICAgICB2YXIgdmJveGVzID0gbWVkaWFuQ3V0QXBwbHkoaGlzdG8sIHZib3gpLFxuICAgICAgICAgICAgICAgICAgICB2Ym94MSA9IHZib3hlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgdmJveDIgPSB2Ym94ZXNbMV07XG5cbiAgICAgICAgICAgICAgICBpZiAoIXZib3gxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwidmJveDEgbm90IGRlZmluZWQ7IHNob3VsZG4ndCBoYXBwZW4hXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxoLnB1c2godmJveDEpO1xuICAgICAgICAgICAgICAgIGlmICh2Ym94MikgeyAvKiB2Ym94MiBjYW4gYmUgbnVsbCAqL1xuICAgICAgICAgICAgICAgICAgICBsaC5wdXNoKHZib3gyKTtcbiAgICAgICAgICAgICAgICAgICAgbmNvbG9ycysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmNvbG9ycyA+PSB0YXJnZXQpIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAobml0ZXJzKysgPiBtYXhJdGVyYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiaW5maW5pdGUgbG9vcDsgcGVyaGFwcyB0b28gZmV3IHBpeGVscyFcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaXJzdCBzZXQgb2YgY29sb3JzLCBzb3J0ZWQgYnkgcG9wdWxhdGlvblxuICAgICAgICBpdGVyKHBxLCBmcmFjdEJ5UG9wdWxhdGlvbnMgKiBtYXhjb2xvcnMpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhwcS5zaXplKCksIHBxLmRlYnVnKCkubGVuZ3RoLCBwcS5kZWJ1ZygpLnNsaWNlKCkpO1xuXG4gICAgICAgIC8vIFJlLXNvcnQgYnkgdGhlIHByb2R1Y3Qgb2YgcGl4ZWwgb2NjdXBhbmN5IHRpbWVzIHRoZSBzaXplIGluIGNvbG9yIHNwYWNlLlxuICAgICAgICB2YXIgcHEyID0gbmV3IFBRdWV1ZShmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gcHYubmF0dXJhbE9yZGVyKGEuY291bnQoKSAqIGEudm9sdW1lKCksIGIuY291bnQoKSAqIGIudm9sdW1lKCkpXG4gICAgICAgIH0pO1xuICAgICAgICB3aGlsZSAocHEuc2l6ZSgpKSB7XG4gICAgICAgICAgICBwcTIucHVzaChwcS5wb3AoKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBuZXh0IHNldCAtIGdlbmVyYXRlIHRoZSBtZWRpYW4gY3V0cyB1c2luZyB0aGUgKG5waXggKiB2b2wpIHNvcnRpbmcuXG4gICAgICAgIGl0ZXIocHEyLCBtYXhjb2xvcnMgLSBwcTIuc2l6ZSgpKTtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIGFjdHVhbCBjb2xvcnNcbiAgICAgICAgdmFyIGNtYXAgPSBuZXcgQ01hcCgpO1xuICAgICAgICB3aGlsZSAocHEyLnNpemUoKSkge1xuICAgICAgICAgICAgY21hcC5wdXNoKHBxMi5wb3AoKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY21hcDtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBxdWFudGl6ZTogcXVhbnRpemVcbiAgICB9XG59KSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1NQ1EucXVhbnRpemVcbiIsICJpbXBvcnQgeyBFZGl0b3IsIE1hcmtkb3duUG9zdFByb2Nlc3NvckNvbnRleHQsIE5vdGljZSwgUGx1Z2luIH0gZnJvbSAnb2JzaWRpYW4nXG5pbXBvcnQgeyBDcmVhdGVQYWxldHRlTW9kYWwgfSBmcm9tICdDcmVhdGVQYWxldHRlTW9kYWwnO1xuaW1wb3J0IHsgR2VuZXJhdGVQYWxldHRlTW9kYWwgfSBmcm9tICdHZW5lcmF0ZVBhbGV0dGVNb2RhbCc7XG5pbXBvcnQgeyBDb2xvclBhbGV0dGVTZXR0aW5ncywgZGVmYXVsdFNldHRpbmdzLCBTZXR0aW5nc1RhYiB9IGZyb20gJ3NldHRpbmdzJztcbmltcG9ydCAndXRpbHMvcHJvdG90eXBlVXRpbHMnXG5pbXBvcnQgeyBQYWxldHRlTVJDIH0gZnJvbSAncGFsZXR0ZU1SQyc7XG5pbXBvcnQgeyBjcmVhdGVQYWxldHRlQmxvY2sgfSBmcm9tICd1dGlscy9iYXNpY1V0aWxzJztcblxuZXhwb3J0IGNvbnN0IHVybFJlZ2V4ID0gLyg/Omh0dHBzOlxcL1xcL3d3d1xcLnxodHRwOlxcL1xcL3d3d1xcLnxodHRwczpcXC9cXC98aHR0cDpcXC9cXC8pP1thLXpBLVowLTldezIsfSg/OlxcLlthLXpBLVowLTldezIsfSkoPzpcXC5bYS16QS1aMC05XXsyLH0pP1xcLyg/OnBhbGV0dGVcXC8pPyhbYS16QS1aMC05LV17Mix9KS9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29sb3JQYWxldHRlIGV4dGVuZHMgUGx1Z2luIHtcblx0c2V0dGluZ3M6IENvbG9yUGFsZXR0ZVNldHRpbmdzO1xuXHRwYWxldHRlcz86IFBhbGV0dGVNUkNbXTtcblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0dGhpcy5wYWxldHRlcyA9IFtdO1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHQvKipcblx0XHQgKiBDaGFuZ2VzIHdoZW4gdGV4dCBsZW5ndGggaXMgZXh0ZW5kZWQgb3Igc2hvcnRlbmVkLlxuXHRcdCAqIERPRVMgTk9UIGNoYW5nZSB3aGVuIHRleHQgbGVuZ3RoIHJlbWFpbnMgdGhlIHNhbWUuXG5cdFx0ICogVGhpcyBtZWFucyBzaW1wbHkgc3dhcHBpbmcgY2hhcmFjdGVycywgYnV0IGhhdmluZyB0aGUgc2FtZSBsZW5ndGggd29uJ3QgdXBkYXRlIHRoaXMgZnVuY3Rpb24uXG5cdFx0ICovXG5cdFx0dGhpcy5yZWdpc3Rlck1hcmtkb3duQ29kZUJsb2NrUHJvY2Vzc29yKFxuXHRcdFx0J3BhbGV0dGUnLFxuXHRcdFx0YXN5bmMgKHNvdXJjZTogc3RyaW5nLCBlbDogSFRNTEVsZW1lbnQsIGN0eDogTWFya2Rvd25Qb3N0UHJvY2Vzc29yQ29udGV4dCkgPT4ge1xuXHRcdFx0XHRjdHguYWRkQ2hpbGQobmV3IFBhbGV0dGVNUkModGhpcywgZWwsIHNvdXJjZS50cmltKCksIGN0eCkpO1xuXHRcdFx0fVxuXHRcdClcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ2NyZWF0ZScsXG5cdFx0XHRuYW1lOiAnQ3JlYXRlJyxcblx0XHRcdGVkaXRvckNhbGxiYWNrOiAoZWRpdG9yOiBFZGl0b3IpID0+IHtcblx0XHRcdFx0bmV3IENyZWF0ZVBhbGV0dGVNb2RhbCh0aGlzLmFwcCwgdGhpcy5zZXR0aW5ncywgKGNvbG9ycywgc2V0dGluZ3MpID0+IHtcblx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gY3JlYXRlUGFsZXR0ZUJsb2NrKHtjb2xvcnMsIHNldHRpbmdzfSk7XG5cdFx0XHRcdFx0XHRjb25zdCBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yKCk7XG5cdFx0XHRcdFx0XHRlZGl0b3IudHJhbnNhY3Rpb24oe1xuXHRcdFx0XHRcdFx0XHRjaGFuZ2VzOiBbeyBmcm9tOiBjdXJzb3IsIHRleHQ6IHJlc3VsdCB9XVxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdGVkaXRvci5zZXRDdXJzb3Ioe1xuXHRcdFx0XHRcdFx0XHRsaW5lOiBjdXJzb3IubGluZSArIHJlc3VsdC5zcGxpdCgnXFxuJykubGVuZ3RoLFxuXHRcdFx0XHRcdFx0XHRjaDogMFxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdG5ldyBOb3RpY2UoYEFkZGVkICR7cmVzdWx0fWApO1xuXHRcdFx0XHRcdH0gXG5cdFx0XHRcdFx0Y2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdFx0XHRuZXcgTm90aWNlKGVycm9yKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5vcGVuKCk7XG5cdFx0XHR9XG5cdFx0fSlcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ2NvbnZlcnQtbGluaycsXG5cdFx0XHRuYW1lOiAnQ29udmVydCBsaW5rJyxcblx0XHRcdGVkaXRvckNhbGxiYWNrOiBhc3luYyAoZWRpdG9yOiBFZGl0b3IpID0+IHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRsZXQgbGluayA9ICcnO1xuXHRcdFx0XHRcdGNvbnN0IGVkaXRvclNlbGVjdGlvbiA9IGVkaXRvci5nZXRTZWxlY3Rpb24oKTtcblx0XHRcdFx0XHRjb25zdCBjbGlwYm9hcmRUZXh0ID0gYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC5yZWFkVGV4dCgpO1xuXG5cdFx0XHRcdFx0Ly8gQ2hlY2sgaWYgc2VsZWN0aW9uIHRleHQgbWF0Y2hlcyByZWdleFxuXHRcdFx0XHRcdGlmKGVkaXRvclNlbGVjdGlvbi5tYXRjaChgXiR7dXJsUmVnZXguc291cmNlfSRgKSkgbGluayA9IGVkaXRvclNlbGVjdGlvbjtcblx0XHRcdFx0XHQvLyBDaGVjayBpZiBjbGlwYm9hcmQgdGV4dCBtYXRjaGVzIHJlZ2V4XG5cdFx0XHRcdFx0ZWxzZSBpZihjbGlwYm9hcmRUZXh0Lm1hdGNoKGBeJHt1cmxSZWdleC5zb3VyY2V9JGApKSBsaW5rID0gY2xpcGJvYXJkVGV4dDtcblx0XHRcdFx0XHQvLyBUaHJvdyBlcnJvciBpZiBzZWxlY3Rpb24gJiBjbGlwYm9hcmQgZG9uJ3QgbWF0Y2ggVVJMIHJlZ2V4XG5cdFx0XHRcdFx0ZWxzZSB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjb252ZXJ0IGxpbmsuIFBsZWFzZSBzZWxlY3Qgb3IgY29weSBhIGxpbmssIHRoZW4gdHJ5IGFnYWluLicpO1xuXG5cdFx0XHRcdFx0Y29uc3QgY29kZUJsb2NrID0gY3JlYXRlUGFsZXR0ZUJsb2NrKGxpbmspO1xuXHRcdFx0XHRcdGNvbnN0IGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3IoKTtcblx0XHRcdFx0XHRlZGl0b3IucmVwbGFjZVNlbGVjdGlvbihjb2RlQmxvY2spO1xuXHRcdFx0XHRcdGVkaXRvci5zZXRDdXJzb3Ioe1xuXHRcdFx0XHRcdFx0bGluZTogY3Vyc29yLmxpbmUgKyBjb2RlQmxvY2suc3BsaXQoJ1xcbicpLmxlbmd0aCxcblx0XHRcdFx0XHRcdGNoOiAwXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0bmV3IE5vdGljZShgQ29udmVydGVkICR7ZWRpdG9yU2VsZWN0aW9uIHx8IGNsaXBib2FyZFRleHR9YCk7XG5cdFx0XHRcdH0gXG5cdFx0XHRcdGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdG5ldyBOb3RpY2UoZXJyb3IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSlcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ2NvbnZlcnQtY29kZWJsb2NrLWxpbmstdG8taGV4Jyxcblx0XHRcdG5hbWU6ICdDb252ZXJ0IGNvZGVibG9jayBsaW5rIHRvIGhleCcsXG5cdFx0XHRlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yKSA9PiB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Y29uc3QgY29kZUJsb2NrID0gZWRpdG9yLmdldFNlbGVjdGlvbigpO1xuXHRcdFx0XHRcdGNvbnN0IG11bHRpUmVnID0gUmVnRXhwKC8oPzpcXGB7M31wYWxldHRlKVxcbig/PHVybD4uKikoPzpcXG4oPzxzZXR0aW5ncz4uKykpP1xcblxcYHszfS8sICdnJyk7XG5cdFx0XHRcdFx0Y29uc3QgY29udGVudCA9IFsuLi5jb2RlQmxvY2subWF0Y2hBbGwobXVsdGlSZWcpXT8uWzBdPy5zbGljZSgxKTtcblx0XHRcdFx0XHRjb25zdCB1cmwgPSBjb250ZW50Py5bMF07XG5cdFx0XHRcdFx0aWYodXJsID09IG51bGwpIHRocm93IG5ldyBFcnJvcignU2VsZWN0ZWQgdGV4dCBpcyBub3QgYSBjb2RlYmxvY2sgd2l0aCBhIGxpbmsuJyk7XG5cdFx0XHRcdFx0bGV0IGNvbG9yczogc3RyaW5nW10gPSBbXTtcblx0XHRcdFx0XHQvLyBDaGVjayBpZiBsaW5rICYgY29udGFpbnMgZGFzaGVzIChjb29sb3IgdXJsKVxuXHRcdFx0XHRcdHVybC5tYXRjaCh1cmxSZWdleCkgJiYgdXJsLmluY2x1ZGVzKCctJykgPyBcblx0XHRcdFx0XHRjb2xvcnMgPSB1cmwuc3Vic3RyaW5nKHVybC5sYXN0SW5kZXhPZignLycpICsgMSkuc3BsaXQoJy0nKS5tYXAoaSA9PiAnIycgKyBpKVxuXHRcdFx0XHRcdDpcblx0XHRcdFx0XHQvLyBDaGVjayBpZiBsaW5rIChjb2xvcmh1bnQpXG5cdFx0XHRcdFx0dXJsLm1hdGNoKHVybFJlZ2V4KSA/XG5cdFx0XHRcdFx0Y29sb3JzID0gdXJsLnN1YnN0cmluZyh1cmwubGFzdEluZGV4T2YoJy8nKSArIDEpLm1hdGNoKC8uezEsNn0vZyk/Lm1hcChpID0+ICcjJyArIGkpIHx8IFsnSW52YWxpZCBQYWxldHRlJ11cblx0XHRcdFx0XHQ6IFxuXHRcdFx0XHRcdGNvbG9ycyA9IFsnSW52YWxpZCBQYWxldHRlJ11cblx0XG5cdFx0XHRcdFx0aWYoY29sb3JzWzBdID09PSAnSW52YWxpZCBQYWxldHRlJykgdGhyb3cgbmV3IEVycm9yKCdTZWxlY3RlZCBjb2RlYmxvY2sgY2FuIG5vdCBiZSBjb252ZXJ0ZWQgdG8gaGV4LicpO1xuXHRcblx0XHRcdFx0XHRjb25zdCBuZXdCbG9jayA9IGNyZWF0ZVBhbGV0dGVCbG9jayh7IGNvbG9yczogY29sb3JzLCBzZXR0aW5nczogSlNPTi5wYXJzZShjb250ZW50Py5bMV0pfSk7XG5cdFx0XHRcdFx0ZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24obmV3QmxvY2spXG5cdFx0XHRcdFx0bmV3IE5vdGljZShgQ29udmVydGVkIGNvZGVibG9jayBsaW5rIHRvIGhleGApXG5cdFx0XHRcdH0gXG5cdFx0XHRcdGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRcdG5ldyBOb3RpY2UoZXJyb3IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSlcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ2dlbmVyYXRlLXJhbmRvbS1wYWxldHRlJyxcblx0XHRcdG5hbWU6ICdHZW5lcmF0ZSByYW5kb20gcGFsZXR0ZScsXG5cdFx0XHRlZGl0b3JDYWxsYmFjazogKGVkaXRvcjogRWRpdG9yKSA9PiB7XG5cdFx0XHRcdG5ldyBHZW5lcmF0ZVBhbGV0dGVNb2RhbCh0aGlzLmFwcCwgZWRpdG9yLCB0aGlzLnNldHRpbmdzKS5vcGVuKCk7XG5cdFx0XHR9XG5cdFx0fSlcblxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgU2V0dGluZ3NUYWIodGhpcy5hcHAsIHRoaXMpKTtcblx0fVxuXHRcblx0YXN5bmMgbG9hZFNldHRpbmdzKCkge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0U2V0dGluZ3MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxufSIsICJpbXBvcnQgeyBBcHAsIEJ1dHRvbkNvbXBvbmVudCwgQ29sb3JDb21wb25lbnQsIERyb3Bkb3duQ29tcG9uZW50LCBNb2RhbCwgTm90aWNlLCBTZXR0aW5nLCBTbGlkZXJDb21wb25lbnQsIFRleHRDb21wb25lbnQgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IFBhbGV0dGUsIFBhbGV0dGVTZXR0aW5ncyB9IGZyb20gXCJwYWxldHRlXCI7XG5pbXBvcnQgeyB1cmxSZWdleCB9IGZyb20gXCJtYWluXCI7XG5pbXBvcnQgY29sb3JzZWEgZnJvbSBcImNvbG9yc2VhXCI7XG5pbXBvcnQgeyBEaXJlY3Rpb24sIENvbG9yUGFsZXR0ZVNldHRpbmdzIH0gZnJvbSBcInNldHRpbmdzXCI7XG5pbXBvcnQgeyBDb21iaW5hdGlvbiwgZ2VuZXJhdGVDb2xvcnMgfSBmcm9tIFwidXRpbHMvZ2VuZXJhdGVSYW5kb21cIjtcbmltcG9ydCB7IGdldE1vZGlmaWVkU2V0dGluZ3MsIHBhcnNlVXJsLCBwbHVnaW5Ub1BhbGV0dGVTZXR0aW5ncyB9IGZyb20gXCJ1dGlscy9iYXNpY1V0aWxzXCI7XG5pbXBvcnQgQ2FudmFzSW1hZ2UgZnJvbSBcInV0aWxzL2ltYWdlVXRpbHNcIjtcblxuZW51bSBTZWxlY3RlZElucHV0IHtcbiAgICBDb2xvcl9QaWNrZXIgPSBcIkNvbG9yIFBpY2tlclwiLFxuICAgIEdlbmVyYXRlID0gXCJHZW5lcmF0ZVwiLFxuICAgIEltYWdlID0gXCJJbWFnZVwiLFxuICAgIFVSTCA9IFwiVVJMXCIsXG59XG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVQYWxldHRlTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gICAgcGx1Z2luU2V0dGluZ3M6IENvbG9yUGFsZXR0ZVNldHRpbmdzXG4gICAgc2V0dGluZ3M6IFBhbGV0dGVTZXR0aW5nc1xuICAgIGNvbG9yczogc3RyaW5nW11cbiAgICBzZWxlY3RlZElucHV0OiBTZWxlY3RlZElucHV0XG4gICAgY29tYmluYXRpb246IENvbWJpbmF0aW9uXG4gICAgb25TdWJtaXQ6IChjb2xvcnM6IHN0cmluZ1tdLCBzZXR0aW5nczogUGFydGlhbDxQYWxldHRlU2V0dGluZ3M+IHwgdW5kZWZpbmVkKSA9PiB2b2lkXG4gICAgYmFzZUNvbG9yPzogUmV0dXJuVHlwZTx0eXBlb2YgY29sb3JzZWE+XG4gICAgcGFsZXR0ZT86IFBhbGV0dGU7XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luU2V0dGluZ3M6IENvbG9yUGFsZXR0ZVNldHRpbmdzLCBvblN1Ym1pdDogKGNvbG9yczogc3RyaW5nW10sIHNldHRpbmdzOiBQYXJ0aWFsPFBhbGV0dGVTZXR0aW5ncz4gfCB1bmRlZmluZWQpID0+IHZvaWQsIHBhbGV0dGU/OiBQYWxldHRlKSB7XG4gICAgICAgIHN1cGVyKGFwcCk7XG4gICAgICAgIHRoaXMub25TdWJtaXQgPSBvblN1Ym1pdDtcbiAgICAgICAgdGhpcy5wbHVnaW5TZXR0aW5ncyA9IHBsdWdpblNldHRpbmdzO1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gcGx1Z2luVG9QYWxldHRlU2V0dGluZ3MocGx1Z2luU2V0dGluZ3MpO1xuICAgICAgICB0aGlzLmNvbG9ycyA9IFtdXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJbnB1dCA9IFNlbGVjdGVkSW5wdXQuQ29sb3JfUGlja2VyO1xuICAgICAgICB0aGlzLmNvbWJpbmF0aW9uID0gQ29tYmluYXRpb24uUmFuZG9tO1xuICAgICAgICB0aGlzLmJhc2VDb2xvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5wYWxldHRlID0gcGFsZXR0ZTtcbiAgICB9XG5cbiAgICBvbk9wZW4oKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgICAgICBcbiAgICAgICAgLy8gSGVhZGVyXG4gICAgICAgIGNvbnRlbnRFbC5jcmVhdGVFbCgnaDEnLCB7IHRleHQ6ICdDcmVhdGUgUGFsZXR0ZScgfSlcbiAgICAgICAgY29udGVudEVsLmFkZENsYXNzKCdjcmVhdGUtcGFsZXR0ZScpO1xuXG4gICAgICAgIC8vIEFkZCBDb2xvcnNcbiAgICAgICAgY29uc3QgY29sb3JzQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZUVsKCdzZWN0aW9uJyk7XG4gICAgICAgIC8vIENyZWF0ZSBoZWFkZXIgZm9yIGNvbG9ycyBzZWN0aW9uXG4gICAgICAgIGNvbG9yc0NvbnRhaW5lci5jcmVhdGVFbCgnaDMnKS5zZXRUZXh0KCdBZGQgQ29sb3JzJyk7XG5cbiAgICAgICAgLy8gVGFic1xuICAgICAgICBsZXQgY29udHJvbENvbnRhaW5lciA9IGNvbG9yc0NvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVEaXYoKSk7XG4gICAgICAgIGNvbnRyb2xDb250YWluZXIuYWRkQ2xhc3MoJ2NvbnRyb2wtY29udGFpbmVyJyk7XG5cbiAgICAgICAgLy8gUHJldmlld1xuICAgICAgICBjb25zdCBwcmV2aWV3Q29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZUVsKCdzZWN0aW9uJyk7XG4gICAgICAgIHByZXZpZXdDb250YWluZXIuY3JlYXRlRWwoJ2gzJyk7XG5cbiAgICAgICAgLy8gU2V0dGluZ3NcbiAgICAgICAgY29uc3Qgc2V0dGluZ3NDb250YWluZXIgPSBjb250ZW50RWwuY3JlYXRlRWwoJ3NlY3Rpb24nKTtcbiAgICAgICAgLy8gQ3JlYXRlIGhlYWRlciBmb3Igc2V0dGluZ3Mgc2VjdGlvblxuICAgICAgICBzZXR0aW5nc0NvbnRhaW5lci5jcmVhdGVFbCgnaDMnKS5zZXRUZXh0KCdTZXR0aW5ncycpO1xuXG4gICAgICAgIGNvbnN0IGNvbG9yUGlja2VyQnRuID0gbmV3IEJ1dHRvbkNvbXBvbmVudChjb250cm9sQ29udGFpbmVyKVxuICAgICAgICAgICAgLnNldEljb24oJ3BpcGV0dGUnKVxuICAgICAgICAgICAgLnNldFRvb2x0aXAoJ0NvbG9yIFBpY2tlcicpXG4gICAgICAgICAgICAub25DbGljaygoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNoYW5nZVNlbGVjdGVkSW5wdXQoU2VsZWN0ZWRJbnB1dC5Db2xvcl9QaWNrZXIpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgY29uc3QgZ2VuZXJhdGVCdG4gPSBuZXcgQnV0dG9uQ29tcG9uZW50KGNvbnRyb2xDb250YWluZXIpXG4gICAgICAgICAgICAuc2V0SWNvbignc2h1ZmZsZScpXG4gICAgICAgICAgICAuc2V0VG9vbHRpcCgnR2VuZXJhdGUnKVxuICAgICAgICAgICAgLm9uQ2xpY2soKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VTZWxlY3RlZElucHV0KFNlbGVjdGVkSW5wdXQuR2VuZXJhdGUpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgY29uc3QgaW1hZ2VCdG4gPSBuZXcgQnV0dG9uQ29tcG9uZW50KGNvbnRyb2xDb250YWluZXIpXG4gICAgICAgICAgICAuc2V0SWNvbignaW1hZ2UnKVxuICAgICAgICAgICAgLnNldFRvb2x0aXAoJ0ltYWdlJylcbiAgICAgICAgICAgIC5vbkNsaWNrKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY2hhbmdlU2VsZWN0ZWRJbnB1dChTZWxlY3RlZElucHV0LkltYWdlKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgY29uc3QgdXJsQnRuID0gbmV3IEJ1dHRvbkNvbXBvbmVudChjb250cm9sQ29udGFpbmVyKVxuICAgICAgICAgICAgLnNldEljb24oJ2xpbmsnKVxuICAgICAgICAgICAgLnNldFRvb2x0aXAoJ1VSTCcpXG4gICAgICAgICAgICAub25DbGljaygoZSkgPT4ge1xuICAgICAgICAgICAgICAgIGNoYW5nZVNlbGVjdGVkSW5wdXQoU2VsZWN0ZWRJbnB1dC5VUkwpO1xuICAgICAgICAgICAgfSlcblxuICAgICAgICBsZXQgYWRkQ29sb3JzQ29udGFpbmVyID0gY29sb3JzQ29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZUVsKCdkaXYnKSk7XG4gICAgICAgIGFkZENvbG9yc0NvbnRhaW5lci5hZGRDbGFzcygnYWRkLWNvbG9ycy1jb250YWluZXInKTtcblxuICAgICAgICBmdW5jdGlvbiBjaGFuZ2VTZWxlY3RlZElucHV0KHNlbGVjdGVkSW5wdXQ6IFNlbGVjdGVkSW5wdXQpIHtcbiAgICAgICAgICAgIHJlc2V0U3R5bGUoKTtcbiAgICAgICAgICAgIHN3aXRjaChzZWxlY3RlZElucHV0KSB7XG4gICAgICAgICAgICAgICAgY2FzZSBTZWxlY3RlZElucHV0LkNvbG9yX1BpY2tlcjpcbiAgICAgICAgICAgICAgICAgICAgY29sb3JQaWNrZXJCdG4uc2V0Q3RhKCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZENvbG9yc0NvbnRhaW5lci5lbXB0eSgpO1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVDb2xvclBpY2tlcihhZGRDb2xvcnNDb250YWluZXIpO1xuICAgICAgICAgICAgICAgICAgICBhZGRDb2xvcnNDb250YWluZXIudG9nZ2xlQ2xhc3MoJ3NlbGVjdC1jb2xvci1waWNrZXInLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBTZWxlY3RlZElucHV0LkdlbmVyYXRlOlxuICAgICAgICAgICAgICAgICAgICBnZW5lcmF0ZUJ0bi5zZXRDdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkQ29sb3JzQ29udGFpbmVyLmVtcHR5KCk7XG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUdlbmVyYXRlKGFkZENvbG9yc0NvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgIGFkZENvbG9yc0NvbnRhaW5lci50b2dnbGVDbGFzcygnc2VsZWN0LWdlbmVyYXRlJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgU2VsZWN0ZWRJbnB1dC5JbWFnZTpcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VCdG4uc2V0Q3RhKCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZENvbG9yc0NvbnRhaW5lci5lbXB0eSgpO1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVJbWFnZShhZGRDb2xvcnNDb250YWluZXIpO1xuICAgICAgICAgICAgICAgICAgICBhZGRDb2xvcnNDb250YWluZXIudG9nZ2xlQ2xhc3MoJ3NlbGVjdC1pbWFnZScsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFNlbGVjdGVkSW5wdXQuVVJMOlxuICAgICAgICAgICAgICAgICAgICB1cmxCdG4uc2V0Q3RhKCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZENvbG9yc0NvbnRhaW5lci5lbXB0eSgpO1xuICAgICAgICAgICAgICAgICAgICBjcmVhdGVVUkwoYWRkQ29sb3JzQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkQ29sb3JzQ29udGFpbmVyLnRvZ2dsZUNsYXNzKCdzZWxlY3QtdXJsJywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiByZXNldFN0eWxlKCkge1xuICAgICAgICAgICAgICAgIGNvbG9yUGlja2VyQnRuLnJlbW92ZUN0YSgpO1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlQnRuLnJlbW92ZUN0YSgpO1xuICAgICAgICAgICAgICAgIGltYWdlQnRuLnJlbW92ZUN0YSgpO1xuICAgICAgICAgICAgICAgIHVybEJ0bi5yZW1vdmVDdGEoKTtcbiAgICAgICAgICAgICAgICBhZGRDb2xvcnNDb250YWluZXIudG9nZ2xlQ2xhc3MoJ3NlbGVjdC1jb2xvci1waWNrZXInLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYWRkQ29sb3JzQ29udGFpbmVyLnRvZ2dsZUNsYXNzKCdzZWxlY3QtZ2VuZXJhdGUnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYWRkQ29sb3JzQ29udGFpbmVyLnRvZ2dsZUNsYXNzKCdzZWxlY3QtaW1hZ2UnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYWRkQ29sb3JzQ29udGFpbmVyLnRvZ2dsZUNsYXNzKCdzZWxlY3QtdXJsJywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY3JlYXRlQ29sb3JQaWNrZXIgPSAoYWRkQ29sb3JzQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgbGV0IGFkZENvbG9ycyA9IG5ldyBTZXR0aW5nKGFkZENvbG9yc0NvbnRhaW5lcilcbiAgICAgICAgICAgIC5zZXROYW1lKFwiQ29sb3IgUGlja2VyXCIpXG4gICAgICAgICAgICAuc2V0RGVzYygnVXNlIGhhbmRwaWNrZWQgY29sb3JzJylcblxuICAgICAgICAgICAgY29uc3QgY29sb3JQaWNrZXJJbnB1dCA9IG5ldyBDb2xvckNvbXBvbmVudChhZGRDb2xvcnMuY29udHJvbEVsKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xvcnMucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuYWxpYXNlcy5wdXNoKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUGFsZXR0ZVByZXZpZXcoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY3JlYXRlR2VuZXJhdGUgPSAoYWRkQ29sb3JzQ29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgbGV0IGFkZENvbG9ycyA9IG5ldyBTZXR0aW5nKGFkZENvbG9yc0NvbnRhaW5lcilcbiAgICAgICAgICAgIC5zZXROYW1lKFwiR2VuZXJhdGVcIilcbiAgICAgICAgICAgIC5zZXREZXNjKCdHZW5lcmF0ZSBjb2xvcnMgYmFzZWQgb24gY29sb3IgdGhlb3J5JylcblxuICAgICAgICAgICAgY29uc3QgZHJvcGRvd25JbnB1dCA9IG5ldyBEcm9wZG93bkNvbXBvbmVudChhZGRDb2xvcnMuY29udHJvbEVsKVxuICAgICAgICAgICAgLy8gQWRkIGRyb3Bkb3duIG9wdGlvbnNcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKENvbWJpbmF0aW9uKS5mb3JFYWNoKChjb21iaW5hdGlvbikgPT4gZHJvcGRvd25JbnB1dC5hZGRPcHRpb24oY29tYmluYXRpb24sIGNvbWJpbmF0aW9uKSlcbiAgICAgICAgICAgIGRyb3Bkb3duSW5wdXRcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5jb21iaW5hdGlvbilcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tYmluYXRpb24gPSB2YWx1ZSBhcyBDb21iaW5hdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgLy8gRGlzYWJsZSBjb2xvciBwaWNrZXIgaWYgc2VsZWN0ZWQgY29tYmluYXRpb24gaXMgcmFuZG9tXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yUGlja2VySW5wdXQuc2V0RGlzYWJsZWQodGhpcy5jb21iaW5hdGlvbiA9PT0gQ29tYmluYXRpb24uUmFuZG9tID8gdHJ1ZSA6IGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjb25zdCBjb2xvclBpY2tlcklucHV0ID0gbmV3IENvbG9yQ29tcG9uZW50KGFkZENvbG9ycy5jb250cm9sRWwpXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhc2VDb2xvciA9IGNvbG9yc2VhKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5zZXREaXNhYmxlZCh0aGlzLmNvbWJpbmF0aW9uID09PSBDb21iaW5hdGlvbi5SYW5kb20gPyB0cnVlIDogZmFsc2UpO1xuICAgICAgICAgICAgY29uc3QgY29sb3JQaWNrZXIgPSBBcnJheS5mcm9tKGFkZENvbG9ycy5jb250cm9sRWwuY2hpbGRyZW4pWzFdIGFzIEhUTUxJbnB1dEVsZW1lbnRcbiAgICAgICAgICAgIGNvbG9yUGlja2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb2xvclBpY2tlcklucHV0LnNldFZhbHVlKGNvbG9yc2VhKCcjMDAwJykuaGV4KCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuYmFzZUNvbG9yID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbklucHV0ID0gbmV3IEJ1dHRvbkNvbXBvbmVudChhZGRDb2xvcnMuY29udHJvbEVsKVxuICAgICAgICAgICAgICAgIC5zZXRJY29uKCdzaHVmZmxlJylcbiAgICAgICAgICAgICAgICAuc2V0VG9vbHRpcCgnTG9hZHMgdGhlIGdlbmVyYXRlZCBjb2xvcnMnKVxuICAgICAgICAgICAgICAgIC5vbkNsaWNrKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIGNvbG9ycyAmIHNldHRpbmdzXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdlbmVyYXRlZCA9IGdlbmVyYXRlQ29sb3JzKHRoaXMuY29tYmluYXRpb24sIHsgYmFzZUNvbG9yOiB0aGlzLmJhc2VDb2xvciwgc2V0dGluZ3M6IHRoaXMuc2V0dGluZ3MgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sb3JzID0gZ2VuZXJhdGVkLmNvbG9ycztcbiAgICAgICAgICAgICAgICAgICAgaWYoZ2VuZXJhdGVkLnNldHRpbmdzKSB0aGlzLnNldHRpbmdzID0gZ2VuZXJhdGVkLnNldHRpbmdzO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVQYWxldHRlUHJldmlldygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjcmVhdGVJbWFnZSA9IChhZGRDb2xvcnNDb250YWluZXI6IEhUTUxEaXZFbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAvLyBSZXByZXNlbnRzIGJvdGggZXh0ZXJuYWwgJiBpbnRlcm5hbCBpbWFnZSBVUkxzXG4gICAgICAgICAgICBsZXQgZmlsZVVSTCA9ICcnO1xuXG4gICAgICAgICAgICBsZXQgYWRkQ29sb3JzID0gbmV3IFNldHRpbmcoYWRkQ29sb3JzQ29udGFpbmVyKVxuICAgICAgICAgICAgLnNldENsYXNzKCdhZGQtY29sb3JzJylcbiAgICAgICAgICAgIC5zZXROYW1lKFwiSW1hZ2VcIilcbiAgICAgICAgICAgIC5zZXREZXNjKCdDb252ZXJ0IGltYWdlIGludG8gcGFsZXR0ZScpXG5cbiAgICAgICAgICAgIGNvbnN0IGlucHV0Q29udGFpbmVyID0gYWRkQ29sb3JzLmNvbnRyb2xFbC5hcHBlbmRDaGlsZChjcmVhdGVFbCgnZGl2JykpO1xuXG4gICAgICAgICAgICAvLyBDb250YWlucyB1cmxJbnB1dCwgbG9hZEJ1dHRvbiwgJiBmaWxlSW5wdXRcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdENvbnRhaW5lciA9IGlucHV0Q29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZUVsKCdkaXYnKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHVybElucHV0ID0gbmV3IFRleHRDb21wb25lbnQoc2VsZWN0Q29udGFpbmVyKVxuICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignRW50ZXIgVVJMIG9yIHNlbGVjdCBmaWxlJylcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoKHZhbHVlKSA9PiBmaWxlVVJMID0gdmFsdWUpXG5cbiAgICAgICAgICAgIGNvbnN0IGxvYWRCdXR0b24gPSBuZXcgQnV0dG9uQ29tcG9uZW50KHNlbGVjdENvbnRhaW5lcilcbiAgICAgICAgICAgICAgICAuc2V0SWNvbignYXJyb3ctdXAtdG8tbGluZScpXG4gICAgICAgICAgICAgICAgLnNldFRvb2x0aXAoJ1JpZ2h0IGNsaWNrIHRvIGNsZWFyIFVSTCcpXG4gICAgICAgICAgICAgICAgLm9uQ2xpY2soYXN5bmMgKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYW55IHRleHQgaXMgcHJlc2VudCwgb3RoZXJ3aXNlIHByb21wdCB1c2VyIHRvIHNlbGVjdCBpbWFnZVxuICAgICAgICAgICAgICAgICAgICBpZih1cmxJbnB1dC5nZXRWYWx1ZSgpICE9PSAnJykgYXdhaXQgdXBkYXRlSW1hZ2VQcmV2aWV3KHVybElucHV0LmdldFZhbHVlKCkpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGZpbGVJbnB1dC5jbGljaygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBsb2FkQnV0dG9uLmJ1dHRvbkVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgKCkgPT4gdXJsSW5wdXQuc2V0VmFsdWUoJycpKTtcblxuICAgICAgICAgICAgY29uc3QgZmlsZVNlbGVjdG9yID0gbmV3IFRleHRDb21wb25lbnQoc2VsZWN0Q29udGFpbmVyKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVJbnB1dCA9IGZpbGVTZWxlY3Rvci5pbnB1dEVsO1xuICAgICAgICAgICAgZmlsZUlucHV0LnR5cGUgPSAnZmlsZSc7XG4gICAgICAgICAgICBmaWxlSW5wdXQuYWNjZXB0ID0gJ2ltYWdlLyonO1xuICAgICAgICAgICAgZmlsZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLmZpbGVzPy5bMF07XG4gICAgICAgICAgICAgICAgaWYoZmlsZSkgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgcmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiByZWFkZXIucmVzdWx0ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVVSTCA9IHJlYWRlci5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGVJbWFnZVByZXZpZXcoZmlsZVVSTCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIHJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBwcm9jZXNzaW5nIGltYWdlLicpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBjb25zdCBzbGlkZXJDb250YWluZXIgPSBuZXcgU2V0dGluZyhhZGRDb2xvcnNDb250YWluZXIpXG4gICAgICAgICAgICAuc2V0TmFtZSgnQ291bnQnKVxuICAgICAgICAgICAgLnNldERlc2MoJ1NldCB0aGUgbnVtYmVyIG9mIGNvbG9ycyB0byBnZW5lcmF0ZSBmcm9tIHRoZSBpbWFnZS4nKVxuXG4gICAgICAgICAgICBjb25zdCBjb3VudElucHV0ID0gbmV3IFNsaWRlckNvbXBvbmVudChzbGlkZXJDb250YWluZXIuY29udHJvbEVsKVxuICAgICAgICAgICAgICAgIC5zZXRMaW1pdHMoNCwgMTIsIDEpXG4gICAgICAgICAgICAgICAgLnNldER5bmFtaWNUb29sdGlwKClcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUoOClcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiBhd2FpdCB1cGRhdGVJbWFnZVByZXZpZXcoZmlsZVVSTCkpXG5cbiAgICAgICAgICAgIGNvbnN0IGltYWdlQ29udGFpbmVyID0gbmV3IFNldHRpbmcoYWRkQ29sb3JzQ29udGFpbmVyKTtcbiAgICAgICAgICAgIGltYWdlQ29udGFpbmVyLnNldENsYXNzKCdpbWFnZS1wcmV2aWV3Jyk7XG4gICAgICAgICAgICBpbWFnZUNvbnRhaW5lci5zZXRDbGFzcygnaGlkZS1pbWFnZS1wcmV2aWV3Jyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGltYWdlRWwgPSBpbWFnZUNvbnRhaW5lci5jb250cm9sRWwuYXBwZW5kQ2hpbGQoY3JlYXRlRWwoJ2ltZycpKTtcbiAgICAgICAgICAgIGltYWdlRWwuY3Jvc3NPcmlnaW4gPSAnYW5vbnltb3VzJztcbiAgICAgICAgICAgIGltYWdlRWwuc3R5bGUuc2V0UHJvcGVydHkoJ2JvcmRlci1yYWRpdXMnLCB0aGlzLnBsdWdpblNldHRpbmdzLmNvcm5lcnMgPyAnNXB4JyA6ICcwcHgnKTtcbiAgICAgICAgICAgIGltYWdlRWwuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpbWFnZUNvbnRhaW5lci5zZXR0aW5nRWwudG9nZ2xlQ2xhc3MoJ2hpZGUtaW1hZ2UtcHJldmlldycsIGZhbHNlKTtcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVXBkYXRlcyB0aGUgaW1hZ2UgbW9kZSBwcmV2aWV3XG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZUltYWdlUHJldmlldyA9IGFzeW5jICh1cmw6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIGlmKCF1cmwpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGltYWdlRWwuc3JjID0gdXJsO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbnZhc0ltYWdlID0gbmV3IENhbnZhc0ltYWdlKHVybCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sb3JzID0gYXdhaXQgY2FudmFzSW1hZ2UuZ2V0UGFsZXR0ZShjb3VudElucHV0LmdldFZhbHVlKCkpO1xuICAgICAgICAgICAgICAgIGlmKGNvbG9ycykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9ycyA9IGNvbG9ycy5tYXAoKGNvbG9yKSA9PiBjb2xvcnNlYShjb2xvcikuaGV4KDApKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5hbGlhc2VzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVBhbGV0dGVQcmV2aWV3KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY3JlYXRlVVJMID0gKGFkZENvbG9yc0NvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIGxldCBhZGRDb2xvcnMgPSBuZXcgU2V0dGluZyhhZGRDb2xvcnNDb250YWluZXIpXG4gICAgICAgICAgICAuc2V0TmFtZShcIlVSTFwiKVxuICAgICAgICAgICAgLnNldERlc2MoJ09ubHkgY29vbG9ycy5jbyAmIGNvbG9yaHVudC5jbyBhcmUgY3VycmVudGx5IHN1cHBvcnRlZC4nKVxuXG4gICAgICAgICAgICBjb25zdCB0ZXh0SW5wdXQgPSBuZXcgVGV4dENvbXBvbmVudChhZGRDb2xvcnMuY29udHJvbEVsKVxuICAgICAgICAgICAgICAgIC5zZXRQbGFjZWhvbGRlcignRW50ZXIgVVJMJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbklucHV0ID0gbmV3IEJ1dHRvbkNvbXBvbmVudChhZGRDb2xvcnMuY29udHJvbEVsKVxuICAgICAgICAgICAgICAgIC5zZXRJY29uKCdsaW5rJylcbiAgICAgICAgICAgICAgICAuc2V0VG9vbHRpcCgnUmlnaHQgY2xpY2sgdG8gY2xlYXIgVVJMJylcbiAgICAgICAgICAgICAgICAub25DbGljaygoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXJsVGV4dCA9IHRleHRJbnB1dC5nZXRWYWx1ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXVybFRleHQubWF0Y2godXJsUmVnZXgpKSB0aHJvdyBuZXcgRXJyb3IoJ1VSTCBwcm92aWRlZCBpcyBub3QgdmFsaWQuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9ycyA9IHBhcnNlVXJsKHVybFRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5hbGlhc2VzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVQYWxldHRlUHJldmlldygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgYnV0dG9uSW5wdXQuYnV0dG9uRWwuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGV4dElucHV0LnNldFZhbHVlKCcnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZXQgaW50aWlhbCBzZWxlY3RlZElucHV0XG4gICAgICAgIGNoYW5nZVNlbGVjdGVkSW5wdXQodGhpcy5zZWxlY3RlZElucHV0KTtcblxuICAgICAgICBsZXQgcGFsZXR0ZVByZXZpZXcgPSBwcmV2aWV3Q29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZURpdigpKTtcbiAgICAgICAgcGFsZXR0ZVByZXZpZXcuYWRkQ2xhc3MoJ3BhbGV0dGUtcHJldmlldycpO1xuXG4gICAgICAgIGNvbnN0IHBhbGV0dGVDb250YWluZXIgPSBwYWxldHRlUHJldmlldy5hcHBlbmRDaGlsZChjcmVhdGVEaXYoKSk7XG4gICAgICAgIC8vIEZpbGwgcGFsZXR0ZSBpbml0aWFsbHkgd2l0aCByYW5kb20gY29sb3JzXG4gICAgICAgIHRoaXMuY29sb3JzID0gdGhpcy5wYWxldHRlID8gdGhpcy5wYWxldHRlLmNvbG9ycyA6IGdlbmVyYXRlQ29sb3JzKENvbWJpbmF0aW9uLlJhbmRvbSkuY29sb3JzO1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gdGhpcy5wYWxldHRlID8gdGhpcy5wYWxldHRlLnNldHRpbmdzIDogdGhpcy5zZXR0aW5ncztcbiAgICAgICAgY29uc3QgcGFsZXR0ZSA9IG5ldyBQYWxldHRlKHRoaXMuY29sb3JzLCB0aGlzLnNldHRpbmdzLCBwYWxldHRlQ29udGFpbmVyLCB0aGlzLnBsdWdpblNldHRpbmdzLCAoY29sb3JzLCBzZXR0aW5ncykgPT4ge1xuICAgICAgICAgICAgbGV0IG1vZGRlZFNldHRpbmdzID0gZ2V0TW9kaWZpZWRTZXR0aW5ncyhzZXR0aW5ncyk7XG4gICAgICAgICAgICB0aGlzLmNvbG9ycyA9IGNvbG9ycztcbiAgICAgICAgICAgIGlmKG1vZGRlZFNldHRpbmdzKSB0aGlzLnNldHRpbmdzID0gey4uLnRoaXMuc2V0dGluZ3MsIC4uLm1vZGRlZFNldHRpbmdzfTtcbiAgICAgICAgfSxcbiAgICAgICAgKGVkaXRNb2RlKSA9PiB7XG4gICAgICAgICAgICAvLyBTaG91bGQgbmV2ZXIgYmUgY2FsbGVkXG4gICAgICAgIH0sXG4gICAgICAgIHRydWUpO1xuICAgICAgICBwYWxldHRlUHJldmlldy5hcHBlbmRDaGlsZChwYWxldHRlLmNvbnRhaW5lckVsKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogVXBkYXRlcyB0aGUgcGFsZXR0ZSBwcmV2aWV3XG4gICAgICAgICAqL1xuICAgICAgICBjb25zdCB1cGRhdGVQYWxldHRlUHJldmlldyA9ICgpID0+IHtcbiAgICAgICAgICAgIHBhbGV0dGUuY29sb3JzID0gdGhpcy5jb2xvcnM7XG4gICAgICAgICAgICBwYWxldHRlLnNldHRpbmdzID0gdGhpcy5zZXR0aW5ncztcbiAgICAgICAgICAgIHBhbGV0dGUucmVsb2FkKClcbiAgICAgICAgfVxuXG4gICAgICAgIG5ldyBTZXR0aW5nKHNldHRpbmdzQ29udGFpbmVyKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJIZWlnaHRcIilcbiAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnNldHRpbmdzLmhlaWdodC50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5oZWlnaHQgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVQYWxldHRlUHJldmlldygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIG5ldyBTZXR0aW5nKHNldHRpbmdzQ29udGFpbmVyKVxuICAgICAgICAgICAgLnNldE5hbWUoXCJXaWR0aFwiKVxuICAgICAgICAgICAgLnNldERlc2MoJ0NhdXRpb24gLSBNaWdodCBjYXVzZSBwYWxldHRlIHRvIGRpc3BsYXkgaW5jb3JyZWN0bHkuJylcbiAgICAgICAgICAgIC5hZGRUZXh0KCh0ZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgdGV4dFxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnNldHRpbmdzLndpZHRoLnRvU3RyaW5nKCkpXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLndpZHRoID0gTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUGFsZXR0ZVByZXZpZXcoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcblxuICAgICAgICBuZXcgU2V0dGluZyhzZXR0aW5nc0NvbnRhaW5lcilcbiAgICAgICAgICAgIC5zZXROYW1lKFwiRGlyZWN0aW9uXCIpXG4gICAgICAgICAgICAuYWRkRHJvcGRvd24oKGRyb3Bkb3duKSA9PiB7XG4gICAgICAgICAgICAgICAgZHJvcGRvd25cbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKERpcmVjdGlvbi5Db2x1bW4sIERpcmVjdGlvbi5Db2x1bW4pXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbihEaXJlY3Rpb24uUm93LCBEaXJlY3Rpb24uUm93KVxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnNldHRpbmdzLmRpcmVjdGlvbi50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5kaXJlY3Rpb24gPSB2YWx1ZSBhcyBEaXJlY3Rpb247XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVBhbGV0dGVQcmV2aWV3KCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgbmV3IFNldHRpbmcoc2V0dGluZ3NDb250YWluZXIpXG4gICAgICAgICAgICAuc2V0TmFtZShcIkdyYWRpZW50XCIpXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcbiAgICAgICAgICAgICAgICB0b2dnbGVcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5zZXR0aW5ncy5ncmFkaWVudClcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuZ3JhZGllbnQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUGFsZXR0ZVByZXZpZXcoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcblxuICAgICAgICBuZXcgU2V0dGluZyhzZXR0aW5nc0NvbnRhaW5lcilcbiAgICAgICAgICAgIC5zZXROYW1lKFwiSG92ZXJcIilcbiAgICAgICAgICAgIC5zZXREZXNjKFwiVG9nZ2xlcyB3aGV0aGVyIHBhbGV0dGVzIGNhbiBiZSBob3ZlcmVkXCIpXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcbiAgICAgICAgICAgICAgICB0b2dnbGVcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5zZXR0aW5ncy5ob3ZlcilcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuaG92ZXIgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUGFsZXR0ZVByZXZpZXcoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcblxuICAgICAgICBuZXcgU2V0dGluZyhzZXR0aW5nc0NvbnRhaW5lcilcbiAgICAgICAgICAgIC5zZXROYW1lKFwiT3ZlcnJpZGVcIilcbiAgICAgICAgICAgIC5zZXREZXNjKFwiRGlzYWJsZXMgY29sb3IgdmFsaWRhdGlvbiBmb3IgZnVsbCBjb250cm9sIChhZHZhbmNlZClcIilcbiAgICAgICAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRvZ2dsZVxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnNldHRpbmdzLm92ZXJyaWRlKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5vdmVycmlkZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB1cGRhdGVQYWxldHRlUHJldmlldygpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIG5ldyBTZXR0aW5nKHNldHRpbmdzQ29udGFpbmVyKVxuICAgICAgICAuYWRkQnV0dG9uKChidXR0b24pID0+IFxuICAgICAgICAgICAgYnV0dG9uXG4gICAgICAgICAgICAuc2V0QnV0dG9uVGV4dChcIkNyZWF0ZVwiKVxuICAgICAgICAgICAgLnNldEN0YSgpXG4gICAgICAgICAgICAub25DbGljaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5e1xuICAgICAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSByYW5kb20gY29sb3JzIGlmIG5vbmUgYXJlIHByb3ZpZGVkXG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuY29sb3JzLmxlbmd0aCA9PT0gMCkgdGhpcy5jb2xvcnMgPSBnZW5lcmF0ZUNvbG9ycyhDb21iaW5hdGlvbi5SYW5kb20pLmNvbG9ycztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblN1Ym1pdCh0aGlzLmNvbG9ycywgZ2V0TW9kaWZpZWRTZXR0aW5ncyh0aGlzLnNldHRpbmdzKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2goZSl7XG4gICAgICAgICAgICAgICAgICAgIG5ldyBOb3RpY2UoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgIH1cblxuICAgIG9uQ2xvc2UoKTogdm9pZCB7XG4gICAgICAgIGxldCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcbiAgICAgICAgY29udGVudEVsLmVtcHR5KCk7XG4gICAgfVxufSIsICJpbXBvcnQgeyBOb3RpY2UsIFBsYXRmb3JtIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgY29sb3JzZWEgZnJvbSAnY29sb3JzZWEnO1xuaW1wb3J0IHsgRGlyZWN0aW9uLCBBbGlhc01vZGUsIENvbG9yUGFsZXR0ZVNldHRpbmdzIH0gZnJvbSBcInNldHRpbmdzXCI7XG5pbXBvcnQgeyBwbHVnaW5Ub1BhbGV0dGVTZXR0aW5ncyB9IGZyb20gXCJ1dGlscy9iYXNpY1V0aWxzXCI7XG5pbXBvcnQgdmFsaWRhdGVDb2xvciBmcm9tIFwidmFsaWRhdGUtY29sb3JcIjtcbmltcG9ydCB7IFBhbGV0dGVJdGVtIH0gZnJvbSBcInBhbGV0dGUvUGFsZXR0ZUl0ZW1cIjtcbmltcG9ydCB7IERyYWdEcm9wIH0gZnJvbSBcInV0aWxzL2RyYWdEcm9wVXRpbHNcIjtcblxuZXhwb3J0IHR5cGUgUGFsZXR0ZVNldHRpbmdzID0ge1xuICAgIGhlaWdodDogbnVtYmVyXG4gICAgd2lkdGg6IG51bWJlclxuICAgIGRpcmVjdGlvbjogRGlyZWN0aW9uXG4gICAgZ3JhZGllbnQ6IGJvb2xlYW5cbiAgICBob3ZlcjogYm9vbGVhblxuICAgIG92ZXJyaWRlOiBib29sZWFuXG4gICAgYWxpYXNlczogc3RyaW5nW11cbn1cblxuZXhwb3J0IGVudW0gU3RhdHVzIHtcbiAgICBWQUxJRCA9ICdWYWxpZCcsXG4gICAgSU5WQUxJRF9DT0xPUlMgPSAnSW52YWxpZCBDb2xvcnMnLFxuICAgIElOVkFMSURfU0VUVElOR1MgPSAnSW52YWxpZCBTZXR0aW5ncycsXG4gICAgSU5WQUxJRF9DT0xPUlNfQU5EX1NFVFRJTkdTID0gJ0ludmFsaWQgQ29sb3JzICYgU2V0dGluZ3MnLFxuICAgIElOVkFMSURfR1JBRElFTlQgPSAnSW52YWxpZCBHcmFkaWVudCdcbn1cblxuZXhwb3J0IGNsYXNzIFBhbGV0dGUge1xuICAgIGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudDtcbiAgICBwbHVnaW5TZXR0aW5nczogQ29sb3JQYWxldHRlU2V0dGluZ3M7XG5cdGNvbG9yczogc3RyaW5nW107XG4gICAgc2V0dGluZ3M6IFBhbGV0dGVTZXR0aW5ncztcbiAgICBzdGF0dXM6IFN0YXR1c1xuICAgIHJlc2l6ZU9ic2VydmVyOiBSZXNpemVPYnNlcnZlclxuICAgIHNob3dOb3RpY2U6IGJvb2xlYW5cbiAgICBwcml2YXRlIGVkaXRNb2RlOiBib29sZWFuO1xuICAgIGRyYWdEcm9wOiBEcmFnRHJvcCB8IG51bGw7XG4gICAgZHJvcHpvbmU6IEhUTUxEaXZFbGVtZW50O1xuICAgIHBhbGV0dGVJdGVtczogUGFsZXR0ZUl0ZW1bXTtcbiAgICBvbkNoYW5nZTogKGNvbG9yczogc3RyaW5nW10sIHNldHRpbmdzOiBQYWxldHRlU2V0dGluZ3MpID0+IHZvaWQ7XG4gICAgb25FZGl0TW9kZTogKGVkaXRNb2RlOiBib29sZWFuKSA9PiB2b2lkO1xuXG5cdGNvbnN0cnVjdG9yKGNvbG9yczogc3RyaW5nW10gfCBTdGF0dXMsIHNldHRpbmdzOiBQYWxldHRlU2V0dGluZ3MgfCBTdGF0dXMsIGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwgcGx1Z2luU2V0dGluZ3M6IENvbG9yUGFsZXR0ZVNldHRpbmdzLCBvbkNoYW5nZTogKGNvbG9yczogc3RyaW5nW10sIHNldHRpbmdzOiBQYWxldHRlU2V0dGluZ3MpID0+IHZvaWQsIG9uRWRpdE1vZGU6IChlZGl0TW9kZTogYm9vbGVhbikgPT4gdm9pZCwgZWRpdE1vZGUgPSBmYWxzZSkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lckVsID0gY29udGFpbmVyRWw7XG4gICAgICAgIHRoaXMucGx1Z2luU2V0dGluZ3MgPSBwbHVnaW5TZXR0aW5ncztcbiAgICAgICAgdGhpcy5zaG93Tm90aWNlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5lZGl0TW9kZSA9IGVkaXRNb2RlO1xuICAgICAgICB0aGlzLnBhbGV0dGVJdGVtcyA9IFtdO1xuICAgICAgICB0aGlzLm9uQ2hhbmdlID0gb25DaGFuZ2U7XG4gICAgICAgIHRoaXMub25FZGl0TW9kZSA9IG9uRWRpdE1vZGU7XG5cbiAgICAgICAgdGhpcy5zZXREZWZhdWx0cyhjb2xvcnMsIHNldHRpbmdzKTtcbiAgICAgICAgdGhpcy5sb2FkKCk7XG5cbiAgICAgICAgLy8gUmVmcmVzaCBncmFkaWVudCBwYWxldHRlcyB3aGVuIE9ic2lkaWFuIHJlc2l6ZXNcbiAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigocGFsZXR0ZXMpID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFsZXR0ZSBvZiBwYWxldHRlcykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgQXJyYXkuZnJvbShwYWxldHRlLnRhcmdldC5jaGlsZHJlbikpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgY2hpbGQgaXMgYSBjYW52YXMgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBpZiAoIGNoaWxkLm5vZGVOYW1lID09PSAnQ0FOVkFTJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxvYWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKHRoaXMuY29udGFpbmVyRWwpO1xuXHR9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBpbml0aWFsIGRlZmF1bHRzXG4gICAgICovXG4gICAgcHVibGljIHNldERlZmF1bHRzKGNvbG9yczogc3RyaW5nW10gfCBTdGF0dXMsIHNldHRpbmdzOiBQYWxldHRlU2V0dGluZ3MgfCBTdGF0dXMpIHtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBTdGF0dXMuVkFMSUQ7XG4gICAgICAgIC8vIFNldHRpbmdzIGFyZSBpbnZhbGlkXG4gICAgICAgIGlmKHR5cGVvZiBzZXR0aW5ncyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MgPSBwbHVnaW5Ub1BhbGV0dGVTZXR0aW5ncyh0aGlzLnBsdWdpblNldHRpbmdzKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gU3RhdHVzLklOVkFMSURfU0VUVElOR1M7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0dGluZ3MgYXJlIHZhbGlkXG4gICAgICAgIGlmKHR5cGVvZiBzZXR0aW5ncyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MgPSB7Li4ucGx1Z2luVG9QYWxldHRlU2V0dGluZ3ModGhpcy5wbHVnaW5TZXR0aW5ncyksIC4uLnNldHRpbmdzfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDb2xvcnMgYXJlIGludmFsaWRcbiAgICAgICAgaWYodHlwZW9mIGNvbG9ycyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMuY29sb3JzID0gW107XG4gICAgICAgICAgICAvLyBTZXQgc3RhdHVzIHRvIEludmFsaWQgQ29sb3JzICYgU2V0dGluZ3MgaWYgY29sb3JzIHdlcmUgYWxzbyBpbnZhbGlkXG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9IHRoaXMuc3RhdHVzID09PSBTdGF0dXMuSU5WQUxJRF9TRVRUSU5HUyA/IFN0YXR1cy5JTlZBTElEX0NPTE9SU19BTkRfU0VUVElOR1MgOiBTdGF0dXMuSU5WQUxJRF9DT0xPUlM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29sb3JzIGFyZSB2YWxpZFxuICAgICAgICBpZih0eXBlb2YgY29sb3JzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdGhpcy5jb2xvcnMgPSBjb2xvcnM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2V0IGRlZmF1bHQgY29ybmVyIHN0eWxlXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuc3R5bGUuc2V0UHJvcGVydHkoJy0tcGFsZXR0ZS1jb3JuZXJzJywgdGhpcy5wbHVnaW5TZXR0aW5ncy5jb3JuZXJzID8gJzVweCcgOiAnMHB4Jyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhlIHBhbGV0dGVcbiAgICAgKi9cbiAgICBwdWJsaWMgbG9hZCgpIHtcbiAgICAgICAgLy8gQ3JlYXRlIG5ldyBwYWxldHRlXG4gICAgICAgIHRoaXMuY3JlYXRlUGFsZXR0ZSh0aGlzLmNvbG9ycywgdGhpcy5zZXR0aW5ncyk7XG5cbiAgICAgICAgaWYodGhpcy5lZGl0TW9kZSl7XG4gICAgICAgICAgICB0aGlzLmRyb3B6b25lLnRvZ2dsZUNsYXNzKCdwYWxldHRlLWhvdmVyJywgdGhpcy5wbHVnaW5TZXR0aW5ncy5ob3ZlcldoaWxlRWRpdGluZyA/IHRoaXMuc2V0dGluZ3MuaG92ZXIgOiBmYWxzZSk7XG5cbiAgICAgICAgICAgIHRoaXMuZHJhZ0Ryb3AgPSBuZXcgRHJhZ0Ryb3AoW3RoaXMuZHJvcHpvbmVdLCBBcnJheS5mcm9tKHRoaXMuZHJvcHpvbmUuY2hpbGRyZW4pLCAoZSwgcmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gU29ydCBwYWxldHRlIGl0ZW1zIGFjY29yZGluZyB0byBkcm9wIG9yZGVyXG4gICAgICAgICAgICAgICAgdGhpcy5wYWxldHRlSXRlbXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLm9yZGVyLmluZGV4T2YoYS5jb250YWluZXIpIC0gcmVzLm9yZGVyLmluZGV4T2YoYi5jb250YWluZXIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY29sb3JzID0gdGhpcy5wYWxldHRlSXRlbXMubWFwKChpdGVtKSA9PiBpdGVtLmNvbG9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmFsaWFzZXMgPSB0aGlzLnBhbGV0dGVJdGVtcy5tYXAoKGl0ZW0pID0+IGl0ZW0uc2V0dGluZ3MuYWxpYXMpO1xuICAgICAgICAgICAgICAgIHRoaXMub25DaGFuZ2UodGhpcy5jb2xvcnMsIHRoaXMuc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVsb2FkKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXHR9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHBhbGV0dGUgY29udGVudHNcbiAgICAgKi9cbiAgICBwdWJsaWMgdW5sb2FkKCl7ICAgICAgICBcbiAgICAgICAgLy8gUmVtb3ZlIHBhbGV0dGUgY29udGVudHNcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5lbXB0eSgpO1xuICAgICAgICB0aGlzLnBhbGV0dGVJdGVtcyA9IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbG9hZHMgdGhlIHBhbGV0dGUgY29udGVudHNcbiAgICAgKiBAcGFyYW0gcmVzaXplIFdoZXRoZXIgdGhlIHBhbGV0dGUgaXMgcmVsb2FkaW5nIGJlY2F1c2Ugb2YgYSByZXNpemUgKGRlZmF1bHRzIHRvIGZhbHNlKVxuICAgICAqL1xuICAgIHB1YmxpYyByZWxvYWQocmVzaXplID0gZmFsc2Upe1xuICAgICAgICAvLyBPbmx5IHNob3cgbm90aWNlIG9uIG5vbi1yZXNpemUgcmVsb2Fkc1xuICAgICAgICB0aGlzLnNob3dOb3RpY2UgPSAhcmVzaXplO1xuICAgICAgICB0aGlzLnVubG9hZCgpO1xuICAgICAgICB0aGlzLnNldERlZmF1bHRzKHRoaXMuY29sb3JzLCB0aGlzLnNldHRpbmdzKTtcbiAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICAgIHRoaXMuc2hvd05vdGljZSA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBub3RpY2UgdXNpbmcgcHJlLXNldCBzZXR0aW5nc1xuICAgICAqIEBwYXJhbSBtZXNzYWdlIE1lc3NhZ2UgdG8gZGlzcGxheVxuICAgICAqL1xuICAgIHB1YmxpYyBjcmVhdGVOb3RpY2UobWVzc2FnZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc2hvd05vdGljZSAmJiBuZXcgTm90aWNlKG1lc3NhZ2UsIHRoaXMucGx1Z2luU2V0dGluZ3Mubm90aWNlRHVyYXRpb24pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRFZGl0TW9kZShlZGl0TW9kZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmVkaXRNb2RlID0gZWRpdE1vZGU7XG4gICAgICAgIHRoaXMub25FZGl0TW9kZShlZGl0TW9kZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVkaXRNb2RlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5lZGl0TW9kZTtcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIG5ldyBwYWxldHRlIGNvbnRlbnRzIGJhc2VkIG9uIGNvbG9ycyAmIHNldHRpbmdzXG4gICAgICogQHBhcmFtIGNvbG9ycyBcbiAgICAgKiBAcGFyYW0gc2V0dGluZ3MgXG4gICAgICovXG4gICAgcHJpdmF0ZSBjcmVhdGVQYWxldHRlKGNvbG9yczogc3RyaW5nW10sIHNldHRpbmdzOiBQYWxldHRlU2V0dGluZ3Mpe1xuICAgICAgICB0aGlzLmRyb3B6b25lID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVFbCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuZHJvcHpvbmUuYWRkQ2xhc3MoJ3BhbGV0dGUnKVxuICAgICAgICB0aGlzLmRyb3B6b25lLnN0eWxlLnNldFByb3BlcnR5KCctLXBhbGV0dGUtZGlyZWN0aW9uJywgc2V0dGluZ3MuZGlyZWN0aW9uID09PSBEaXJlY3Rpb24uUm93ID8gRGlyZWN0aW9uLkNvbHVtbiA6IERpcmVjdGlvbi5Sb3cpO1xuICAgICAgICB0aGlzLmRyb3B6b25lLnN0eWxlLnNldFByb3BlcnR5KCctLW5vdC1wYWxldHRlLWRpcmVjdGlvbicsIHNldHRpbmdzLmRpcmVjdGlvbik7XG4gICAgICAgIHRoaXMuZHJvcHpvbmUuc3R5bGUuc2V0UHJvcGVydHkoJy0tcGFsZXR0ZS1oZWlnaHQnLCBgJHtzZXR0aW5ncy5oZWlnaHR9cHhgKTtcbiAgICAgICAgdGhpcy5kcm9wem9uZS50b2dnbGVDbGFzcygncGFsZXR0ZS1ob3ZlcicsIHNldHRpbmdzLmhvdmVyKTtcblxuICAgICAgICB0cnl7XG4gICAgICAgICAgICAvLyBUaHJvdyBlcnJvciAmIGNyZWF0ZSBJbnZhbGlkIFBhbGV0dGVcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdHVzICE9PSBTdGF0dXMuVkFMSUQpIHRocm93IG5ldyBQYWxldHRlRXJyb3IodGhpcy5zdGF0dXMpO1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5ncmFkaWVudCA/XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUdyYWRpZW50UGFsZXR0ZSh0aGlzLmRyb3B6b25lLCBjb2xvcnMsIHNldHRpbmdzLCB0aGlzLnBsdWdpblNldHRpbmdzLndpZHRoKVxuICAgICAgICAgICAgOlxuICAgICAgICAgICAgdGhpcy5jcmVhdGVDb2xvclBhbGV0dGUodGhpcy5kcm9wem9uZSwgY29sb3JzLCBzZXR0aW5ncywgdGhpcy5wbHVnaW5TZXR0aW5ncy5hbGlhc01vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoKGVycil7XG4gICAgICAgICAgICBpZihlcnIgaW5zdGFuY2VvZiBQYWxldHRlRXJyb3IpIHRoaXMuY3JlYXRlSW52YWxpZFBhbGV0dGUoZXJyLnN0YXR1cywgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgZWxzZSB0aGlzLmNyZWF0ZU5vdGljZShlcnIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVHcmFkaWVudFBhbGV0dGUoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50LCBjb2xvcnM6IHN0cmluZ1tdLCBzZXR0aW5nczogUGFsZXR0ZVNldHRpbmdzLCBkZWZhdWx0V2lkdGg6IG51bWJlcil7XG4gICAgICAgIGlmKGNvbG9ycy5sZW5ndGggPD0gMSkgdGhyb3cgbmV3IFBhbGV0dGVFcnJvcihTdGF0dXMuSU5WQUxJRF9HUkFESUVOVCk7XG4gICAgICAgIGxldCBjaGlsZCA9IGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdjYW52YXMnKTtcblxuICAgICAgICAvLyBFbnN1cmUgcGFyZW50IHdpZHRoIGlzIG5ldmVyIDBcbiAgICAgICAgY29uc3QgcGFyZW50V2lkdGggPSBjb250YWluZXJFbC5vZmZzZXRXaWR0aCAhPT0gMCA/IGNvbnRhaW5lckVsLm9mZnNldFdpZHRoIDogc2V0dGluZ3Mud2lkdGg7XG4gICAgICAgIC8vIFNldCBDYW52YXMgd2lkdGggdG8gcGFyZW50IHdpZHRoLCB1bmxlc3Mgd2lkdGggaXMgc2V0IGJ5IHVzZXJcbiAgICAgICAgbGV0IGdyYWRpZW50V2lkdGggPSBzZXR0aW5ncy53aWR0aCA9PT0gZGVmYXVsdFdpZHRoID8gcGFyZW50V2lkdGggOiBzZXR0aW5ncy53aWR0aDtcblxuICAgICAgICBjaGlsZC53aWR0aCA9IGdyYWRpZW50V2lkdGg7XG4gICAgICAgIGNoaWxkLmhlaWdodCA9IHNldHRpbmdzLmhlaWdodDtcblxuICAgICAgICBjb25zdCB0b29sdGlwID0gY29udGFpbmVyRWwuY3JlYXRlRWwoJ3NlY3Rpb24nKTtcbiAgICAgICAgdG9vbHRpcC5hZGRDbGFzc2VzKFsndG9vbHRpcCcsICdwYWxldHRlLXRvb2x0aXAnXSk7XG4gICAgICAgIGNvbnN0IHRvb2x0aXBUZXh0ID0gdG9vbHRpcC5jcmVhdGVFbCgnc3BhbicpO1xuXG4gICAgICAgIGxldCBjb250ZXh0ID0gY2hpbGQuZ2V0Q29udGV4dCgnMmQnLCB7d2lsbFJlYWRGcmVxdWVudGx5OiB0cnVlfSk7XG4gICAgICAgIGlmKGNvbnRleHQgIT0gbnVsbCl7XG4gICAgICAgICAgICBsZXQgZ3JhZGllbnQgPSBzZXR0aW5ncy5kaXJlY3Rpb24gPT09IERpcmVjdGlvbi5Db2x1bW4gPyBjb250ZXh0LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIDAsIGdyYWRpZW50V2lkdGgsIDApIDogY29udGV4dC5jcmVhdGVMaW5lYXJHcmFkaWVudCgwLCAwLCAwLCBzZXR0aW5ncy5oZWlnaHQpO1xuXG4gICAgICAgICAgICBsZXQgY29sb3JTdG9wczogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgIGZvcihjb25zdFtpLCBjb2xvcl0gb2YgY29sb3JzLmVudHJpZXMoKSl7XG4gICAgICAgICAgICAgICAgLy8gU2tpcCBub24tY29sb3JzLCBldmVuIHdpdGggb3ZlcnJpZGUgZW5hYmxlZC4gVGhpcyBwcmV2ZW50cyBlcnJvcnMsIGVzcGVjaWFsbHkgZGVhbGluZyB3aXRoIGNzcy12YXJpYWJsZXMgd2hpY2ggY2Fubm90IGJlIHBhcnNlZCBhdCBydW4tdGltZS5cbiAgICAgICAgICAgICAgICBpZih2YWxpZGF0ZUNvbG9yKGNvbG9yKSkge1xuICAgICAgICAgICAgICAgICAgICBncmFkaWVudC5hZGRDb2xvclN0b3AoaSAvIChjb2xvcnMubGVuZ3RoIC0gMSksIGNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgY29sb3JTdG9wcy5wdXNoKGNvbG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKGNvbG9yU3RvcHMubGVuZ3RoIDw9IDEpIHRocm93IG5ldyBQYWxldHRlRXJyb3IoU3RhdHVzLklOVkFMSURfR1JBRElFTlQsICdUaGVyZSBhcmUgbm90IGVub3VnaCB2YWxpZCBjb2xvciBzdG9wcyB0byBjcmVhdGUgdGhlIGdyYWRpZW50LicpO1xuXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGdyYWRpZW50IHx8ICcjMDAwJztcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgZ3JhZGllbnRXaWR0aCwgc2V0dGluZ3MuaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ2hlY2sgaWYgbW9iaWxlICYgYWRkIHRoZSBldmVudCBsaXN0ZW5lciB0byB0aGUgZWxlbWVudCB0byB0cmFjayBwb3NpdGlvbiBmb3IgdGhlIHRvb2x0aXBcbiAgICAgICAgaWYoIVBsYXRmb3JtLmlzTW9iaWxlKSBjaGlsZC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIChlKSA9PiBzZXRUb29sdGlwUG9zaXRpb24oZS5jbGllbnRYLCBlLmNsaWVudFkpKTtcbiAgICAgICAgZWxzZSBjaGlsZC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIChlKSA9PiBzZXRUb29sdGlwUG9zaXRpb24oZS50b3VjaGVzWzBdLmNsaWVudFgsIGUudG91Y2hlc1swXS5jbGllbnRZKSk7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHRvb2x0aXAgcG9zaXRpb24gYmFzZWQgb24gY3VycmVudCBjdXJzb3Igb3IgdG91Y2ggcG9zaXRpb25cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHNldFRvb2x0aXBQb3NpdGlvbihjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlcikge1xuICAgICAgICAgICAgLy8gQ2FudmFzIGJvdW5kc1xuICAgICAgICAgICAgY29uc3QgcmVjdCA9IGNoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICAvLyBHZXQgdG9vbHRpcCBib3VuZHNcbiAgICAgICAgICAgIGxldCB0b29sdGlwV2lkdGggPSB0b29sdGlwLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgbGV0IHRvb2x0aXBIZWlnaHQgPSB0b29sdGlwLm9mZnNldEhlaWdodDtcblxuICAgICAgICAgICAgLy8gU2V0IHRvb2x0aXAgcG9zaXRpb24gbGVmdCBvciByaWdodCBzaWRlIG9mIG1vdXNlIGJhc2VkIG9uIHdoZXRoZXIgY3Vyc29yIGlzIGhhbGZ3YXlcbiAgICAgICAgICAgIGxldCBsZWZ0UG9zaXRpb24gPSBjbGllbnRYIC0gcmVjdC5sZWZ0ID4gcmVjdC53aWR0aCAvIDIgPyAoY2xpZW50WCAtIHJlY3QubGVmdCAtIDU2KSA6IChjbGllbnRYIC0gcmVjdC5sZWZ0ICsgNjQpO1xuICAgICAgICAgICAgbGV0IGhhbGZUb29sdGlwV2lkdGggPSB0b29sdGlwV2lkdGggLyAyO1xuICAgICAgICAgICAgLy8gQ2xhbXAgdG8gbGVmdCBlZGdlXG4gICAgICAgICAgICBpZiAobGVmdFBvc2l0aW9uIDwgMCArIGhhbGZUb29sdGlwV2lkdGgpIGxlZnRQb3NpdGlvbiA9IDAgKyBoYWxmVG9vbHRpcFdpZHRoO1xuICAgICAgICAgICAgZWxzZSBpZiAobGVmdFBvc2l0aW9uICsgdG9vbHRpcFdpZHRoID4gcmVjdC53aWR0aCArIGhhbGZUb29sdGlwV2lkdGgpIGxlZnRQb3NpdGlvbiA9IHJlY3Qud2lkdGggLSB0b29sdGlwV2lkdGggKyBoYWxmVG9vbHRpcFdpZHRoO1xuICAgICAgICAgICAgdG9vbHRpcC5zdHlsZS5sZWZ0ID0gbGVmdFBvc2l0aW9uICsgXCJweFwiO1xuXG4gICAgICAgICAgICAvLyBHZXQgY3Vyc29yIHBvc2l0aW9uICYgYWxpZ24gdG9vbHRpcCBjZW50ZXJlZCB0byBjdXJzb3IgKDEvNCB0b29sdGlwIGhlaWdodClcbiAgICAgICAgICAgIGxldCB0b3BQb3NpdGlvbiA9IGNsaWVudFkgLSByZWN0LnRvcCAtICh0b29sdGlwSGVpZ2h0IC8gNCk7XG4gICAgICAgICAgICAvLyBDbGFtcCB0byB0b3AgZWRnZVxuICAgICAgICAgICAgaWYgKHRvcFBvc2l0aW9uIDwgMCkgdG9wUG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgLy8gQ2xhbXAgdG8gYm90dG9tIGVkZ2VcbiAgICAgICAgICAgIGVsc2UgaWYgKHRvcFBvc2l0aW9uICsgdG9vbHRpcEhlaWdodCA+IHJlY3QuaGVpZ2h0KSB0b3BQb3NpdGlvbiA9IHJlY3QuaGVpZ2h0IC0gdG9vbHRpcEhlaWdodDtcbiAgICAgICAgICAgIHRvb2x0aXAuc3R5bGUudG9wID0gdG9wUG9zaXRpb24gKyBcInB4XCI7XG5cbiAgICAgICAgICAgIGNvbnN0IGhleCA9IGdldENhbnZhc0hleChjbGllbnRYLCBjbGllbnRZLCByZWN0KTtcbiAgICAgICAgICAgIHRvb2x0aXBUZXh0LnNldFRleHQoaGV4LnRvVXBwZXJDYXNlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2hpbGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICAgICAgLy8gQ2FudmFzIGJvdW5kc1xuICAgICAgICAgICAgY29uc3QgcmVjdCA9IGNoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgY29uc3QgaGV4ID0gZ2V0Q2FudmFzSGV4KGUuY2xpZW50WCwgZS5jbGllbnRZLCByZWN0KTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTm90aWNlKGBDb3BpZWQgJHtoZXgudG9VcHBlckNhc2UoKX1gKTtcbiAgICAgICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGhleC50b1VwcGVyQ2FzZSgpKVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJldHJpZXZlcyB0aGUgaGV4IGZyb20gdGhlIG1vdXNlIHBvc2l0aW9uXG4gICAgICAgIGNvbnN0IGdldENhbnZhc0hleCA9IChjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlciwgY2FudmFzQm91bmRzOiBET01SZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgY29udGV4dCA9IGNoaWxkLmdldENvbnRleHQoJzJkJywge3dpbGxSZWFkRnJlcXVlbnRseTogdHJ1ZX0pO1xuICAgICAgICAgICAgbGV0IHggPSBjbGllbnRYIC0gY2FudmFzQm91bmRzLmxlZnQ7XG4gICAgICAgICAgICBsZXQgeSA9IGNsaWVudFkgLSBjYW52YXNCb3VuZHMudG9wO1xuICAgICAgICAgICAgbGV0IFtyLCBnLCBiLCBhXSA9IGNvbnRleHQ/LmdldEltYWdlRGF0YSh4LCB5LCAxLCAxKS5kYXRhIHx8IFswLCAwLCAwLCAwXTtcbiAgICAgICAgICAgIC8vIENvbnZlcnQgYWxwaGEgZnJvbSAwLTI1NSB0byAwLTFcbiAgICAgICAgICAgIGNvbnN0IGFDb252ID0gTWF0aC5yb3VuZCgoYS8yNTUpICogMTAwKTtcbiAgICAgICAgICAgIC8vIEhpZGUgYWxwaGEgdmFsdWUgaWYgbm90IGFuIGFscGhhIGNvbG9yXG4gICAgICAgICAgICBsZXQgaGV4ID0gYUNvbnYgIT09IDI1NSA/IGNvbG9yc2VhKFtyLCBnLCBiLCBhQ29udl0pLmhleCgpIDogY29sb3JzZWEoW3IsIGcsIGJdKS5oZXgoKTtcbiAgICAgICAgICAgIHJldHVybiBoZXg7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMb29wIHRocm91Z2ggY29sb3JzIGJ1dCBza2lwIGxhc3Qgb25lXG4gICAgICAgIGZvcihjb25zdCBbaSwgY29sb3JdIG9mIE9iamVjdC5lbnRyaWVzKGNvbG9ycykuZmlsdGVyKChlLCBpKSA9PiBpICE9PSBjb2xvcnMubGVuZ3RoIC0gMSkpe1xuICAgICAgICAgICAgLy8gdG9nZ2xlIGdyYWRpZW50IGNzcyBjbGFzc1xuICAgICAgICAgICAgY2hpbGQudG9nZ2xlQ2xhc3MoJ2dyYWRpZW50Jywgc2V0dGluZ3MuZ3JhZGllbnQpO1xuICAgICAgICAgICAgLy8gc2V0IC0tcGFsZXR0ZS1iYWNrZ3JvdW5kLWNvbG9yIGNzcyB2YXJpYWJsZVxuICAgICAgICAgICAgY2hpbGQuc3R5bGUuc2V0UHJvcGVydHkoJy0tcGFsZXR0ZS1iYWNrZ3JvdW5kLWNvbG9yJywgYCR7Y29sb3J9LCAke2NvbG9yc1tOdW1iZXIoaSkgKyAxXSB8fCAndHJhbnNwYXJlbnQnfWApO1xuICAgICAgICAgICAgLy8gc2V0IC0tcGFsZXR0ZS1jb2x1bW4tZmxleC1iYXNpcyBjc3MgdmFyaWFibGVcbiAgICAgICAgICAgIGNoaWxkLnN0eWxlLnNldFByb3BlcnR5KCctLXBhbGV0dGUtY29sdW1uLWZsZXgtYmFzaXMnLCAoc2V0dGluZ3MuaGVpZ2h0IC8gY29sb3JzLmxlbmd0aCAvIDIpLnRvU3RyaW5nKCkgKyAncHgnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlQ29sb3JQYWxldHRlKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCwgY29sb3JzOiBzdHJpbmdbXSwgc2V0dGluZ3M6IFBhbGV0dGVTZXR0aW5ncywgYWxpYXNNb2RlOiBBbGlhc01vZGUpe1xuICAgICAgICBmb3IoY29uc3QgW2ksIGNvbG9yXSBvZiBjb2xvcnMuZW50cmllcygpKXtcbiAgICAgICAgICAgIGNvbnN0IHBhbGV0dGVDb2xvciA9IG5ldyBQYWxldHRlSXRlbShjb250YWluZXJFbCwgY29sb3IsIFxuICAgICAgICAgICAgICAgIHsgXG4gICAgICAgICAgICAgICAgICAgIGFsaWFzTW9kZTogYWxpYXNNb2RlLCBcbiAgICAgICAgICAgICAgICAgICAgZWRpdE1vZGU6IHRoaXMuZWRpdE1vZGUsIFxuICAgICAgICAgICAgICAgICAgICBob3ZlcldoaWxlRWRpdGluZzogdGhpcy5wbHVnaW5TZXR0aW5ncy5ob3ZlcldoaWxlRWRpdGluZywgXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogc2V0dGluZ3MuaGVpZ2h0LCBcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBzZXR0aW5ncy5kaXJlY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgIGhvdmVyOiBzZXR0aW5ncy5ob3ZlciwgXG4gICAgICAgICAgICAgICAgICAgIGFsaWFzOiBzZXR0aW5ncy5hbGlhc2VzPy5baV0sXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yQ291bnQ6IGNvbG9ycy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBvbkNsaWNrXG4gICAgICAgICAgICAgICAgKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVOb3RpY2UoYENvcGllZCAke2NvbG9yfWApO1xuICAgICAgICAgICAgICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChjb2xvcik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBvblRyYXNoXG4gICAgICAgICAgICAgICAgKGU6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVsZXRlZEluZGV4ID0gdGhpcy5jb2xvcnMuaW5kZXhPZihjb2xvcik7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjb2xvcnMgPSB0aGlzLmNvbG9ycztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNldHRpbmdzID0gdGhpcy5zZXR0aW5ncztcbiAgICAgICAgICAgICAgICAgICAgY29sb3JzLnNwbGljZShkZWxldGVkSW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5hbGlhc2VzLnNwbGljZShkZWxldGVkSW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ2hhbmdlKGNvbG9ycywgc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbG9hZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gb25BbGlhc1xuICAgICAgICAgICAgICAgIChhbGlhcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmFsaWFzZXNbdGhpcy5jb2xvcnMuZmluZEluZGV4KHZhbCA9PiB2YWwgPT09IGNvbG9yKV0gPSBhbGlhcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5wYWxldHRlSXRlbXMucHVzaChwYWxldHRlQ29sb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGludmFsaWQgcGFsZXR0ZSBiYXNlZCBvbiBwYWxldHRlIHN0YXR1c1xuICAgICAqIEBwYXJhbSB0eXBlIFBhbGV0dGUgc3RhdHVzIHR5cGVcbiAgICAgKi9cbiAgICBwcml2YXRlIGNyZWF0ZUludmFsaWRQYWxldHRlKHR5cGU6IFN0YXR1cywgbWVzc2FnZSA9ICcnKXtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSB0eXBlO1xuICAgICAgICB0aGlzLmRyb3B6b25lLnN0eWxlLnNldFByb3BlcnR5KCctLXBhbGV0dGUtaGVpZ2h0JywgJzE1MHB4Jyk7XG4gICAgICAgIGNvbnN0IGludmFsaWRTZWN0aW9uID0gdGhpcy5kcm9wem9uZS5jcmVhdGVFbCgnc2VjdGlvbicpO1xuICAgICAgICBpbnZhbGlkU2VjdGlvbi50b2dnbGVDbGFzcygnaW52YWxpZCcsIHRydWUpO1xuICAgICAgICBjb25zdCBpbnZhbGlkU3BhbiA9IGludmFsaWRTZWN0aW9uLmNyZWF0ZUVsKCdzcGFuJyk7XG5cbiAgICAgICAgbGV0IGRlZmF1bHRNZXNzYWdlID0gJ0ludmFsaWQgcGFsZXR0ZSc7XG4gICAgICAgIHN3aXRjaCh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFN0YXR1cy5JTlZBTElEX0NPTE9SUzpcbiAgICAgICAgICAgICAgICBpbnZhbGlkU3Bhbi5zZXRUZXh0KFN0YXR1cy5JTlZBTElEX0NPTE9SUyk7XG4gICAgICAgICAgICAgICAgZGVmYXVsdE1lc3NhZ2UgPSAnQ29sb3JzIGFyZSBkZWZpbmVkIGluY29ycmVjdGx5JztcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZU5vdGljZShgUGFsZXR0ZTpcXG4ke21lc3NhZ2UgPyBtZXNzYWdlIDogZGVmYXVsdE1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFN0YXR1cy5JTlZBTElEX1NFVFRJTkdTOlxuICAgICAgICAgICAgICAgIGludmFsaWRTcGFuLnNldFRleHQoU3RhdHVzLklOVkFMSURfU0VUVElOR1MpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlID0gJ0lzc3VlcyBwYXJzaW5nIHNldHRpbmdzJztcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZU5vdGljZShgUGFsZXR0ZTpcXG4ke21lc3NhZ2UgPyBtZXNzYWdlIDogZGVmYXVsdE1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFN0YXR1cy5JTlZBTElEX0NPTE9SU19BTkRfU0VUVElOR1M6XG4gICAgICAgICAgICAgICAgaW52YWxpZFNwYW4uc2V0VGV4dChTdGF0dXMuSU5WQUxJRF9DT0xPUlNfQU5EX1NFVFRJTkdTKTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0TWVzc2FnZSA9ICdDb2xvcnMgYW5kIHNldHRpbmdzIGFyZSBkZWZpbmVkIGluY29ycmVjdGx5JztcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZU5vdGljZShgUGFsZXR0ZTpcXG4ke21lc3NhZ2UgPyBtZXNzYWdlIDogZGVmYXVsdE1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFN0YXR1cy5JTlZBTElEX0dSQURJRU5UOlxuICAgICAgICAgICAgICAgIGludmFsaWRTcGFuLnNldFRleHQoU3RhdHVzLklOVkFMSURfR1JBRElFTlQpO1xuICAgICAgICAgICAgICAgIGRlZmF1bHRNZXNzYWdlID0gJ0dyYWRpZW50cyByZXF1aXJlIG1vcmUgdGhhbiAxIGNvbG9yIHRvIGRpc3BsYXknO1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlTm90aWNlKGBQYWxldHRlOlxcbiR7bWVzc2FnZSA/IG1lc3NhZ2UgOiBkZWZhdWx0TWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUHVsc2UgdGhlIEludmFsaWQgUGFsZXR0ZSB0byBzaG93IGl0cyBsb2NhdGlvblxuICAgICAgICBpZih0aGlzLnBsdWdpblNldHRpbmdzLmVycm9yUHVsc2Upe1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1ub3RpY2UtZHVyYXRpb24nLCAoKHRoaXMucGx1Z2luU2V0dGluZ3Mubm90aWNlRHVyYXRpb24gLyAxMDAwKSAvIDIpLnRvU3RyaW5nKCkgKyAncycpXG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lckVsLnRvZ2dsZUNsYXNzKCdwYWxldHRlLXB1bHNlJywgdHJ1ZSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuY29udGFpbmVyRWwudG9nZ2xlQ2xhc3MoJ3BhbGV0dGUtcHVsc2UnLCBmYWxzZSksIHRoaXMucGx1Z2luU2V0dGluZ3Mubm90aWNlRHVyYXRpb24pO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBQYWxldHRlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgc3RhdHVzOiBTdGF0dXM7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIFxuICAgIGNvbnN0cnVjdG9yKHN0YXR1czogU3RhdHVzLCBtZXNzYWdlID0gJycpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIH1cbn0iLCAiZnVuY3Rpb24gdCh0LHIsbixlKXt2YXIgbyxpPWFyZ3VtZW50cy5sZW5ndGgsYT1pPDM/cjpudWxsPT09ZT9lPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocixuKTplO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSZWZsZWN0LmRlY29yYXRlKWE9UmVmbGVjdC5kZWNvcmF0ZSh0LHIsbixlKTtlbHNlIGZvcih2YXIgdT10Lmxlbmd0aC0xO3U+PTA7dS0tKShvPXRbdV0pJiYoYT0oaTwzP28oYSk6aT4zP28ocixuLGEpOm8ocixuKSl8fGEpO3JldHVybiBpPjMmJmEmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLG4sYSksYX1mdW5jdGlvbiByKHQscixuKXtpZihufHwyPT09YXJndW1lbnRzLmxlbmd0aClmb3IodmFyIGUsbz0wLGk9ci5sZW5ndGg7bzxpO28rKykhZSYmbyBpbiByfHwoZXx8KGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwociwwLG8pKSxlW29dPXJbb10pO3JldHVybiB0LmNvbmNhdChlfHxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChyKSl9dmFyIG49ZnVuY3Rpb24odCxyLG4pe3JldHVyblt0LHIsbl0ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4odC89MjU1KT4uMDQwNDU/TWF0aC5wb3coKHQrLjA1NSkvMS4wNTUsMi40KTp0LzEyLjkyfSkpfSxlPWZ1bmN0aW9uKHQscixuKXtyZXR1cm5bdCxyLG5dLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIDI1NSoodDw9LjAwMzA0PzEyLjkyKnQ6MS4wNTUqTWF0aC5wb3codCwxLzIuNCktLjA1NSl9KSl9LG89ZnVuY3Rpb24odCxyLG4pe3JldHVybiBNYXRoLm1pbihNYXRoLm1heCh0LHIpLG4pfSxpPWZ1bmN0aW9uKHQscil7cmV0dXJuIE1hdGgucm91bmQoKHQrTnVtYmVyLkVQU0lMT04pKk1hdGgucG93KDEwLHIpKS9NYXRoLnBvdygxMCxyKX0sYT1mdW5jdGlvbih0LHIpe3JldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKHItdCsxKS10KX0sdT1mdW5jdGlvbih0LHIsbixlKXtmb3IodmFyIGksYT1bdCxyLG5dLHU9XCIjXCIsaD0wO2g8YS5sZW5ndGg7aCsrKXUrPShpPWFbaF0sTWF0aC5yb3VuZChvKGksMCwyNTUpKS50b1N0cmluZygxNikucGFkU3RhcnQoMixcIjBcIikpO3JldHVybiBudWxsIT1lJiYodSs9TWF0aC5yb3VuZChvKGUsMCwxMDApLzEwMCoyNTUpLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLFwiMFwiKSksdX0saD1mdW5jdGlvbih0KXt2YXIgbj10Lmxlbmd0aCxlPSh0PWZ1bmN0aW9uKHQpe3ZhciByPSh0PS9eIy8udGVzdCh0KT90LnNsaWNlKDEpOnQpLmxlbmd0aDtpZighWzMsNCw2LDhdLmluY2x1ZGVzKHIpKXJldHVyblwiMDAwMDAwXCI7aWYoNj09PXJ8fDg9PT1yKXJldHVybiB0O2lmKDM9PT1yfHw0PT09cil7Zm9yKHZhciBuPVwiXCIsZT0wO2U8cjtlKyspe3ZhciBvPXRbZV07bis9XCJcIitvK299cmV0dXJuIG59cmV0dXJuXCIwMDAwMDBcIn0odCkucGFkRW5kKDgsXCJmZlwiKSkubWF0Y2goLy57Mn0vZyk7aWYoIWUpcmV0dXJuWzAsMCwwLDFdO3ZhciBvPVswLDAsMF0saT0hMTtyZXR1cm4gZS5mb3JFYWNoKChmdW5jdGlvbih0LHIpe3I8Mz9vW3JdPXBhcnNlSW50KHQsMTYpOmk9MTAwKnBhcnNlSW50KHQsMTYpLzI1NX0pKSwhMT09PWl8fG48OD9vOnIocihbXSxvLCEwKSxbaV0sITEpfSxjPWZ1bmN0aW9uKHQscixuKXt2YXIgZTtlPVt0LHIsbl0ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gdC8yNTV9KSksdD1lWzBdLHI9ZVsxXSxuPWVbMl07dmFyIG89MS1NYXRoLm1heCh0LHIsbiksaT1vPDE/MS8oMS1vKTowO3JldHVyblsoMS10LW8pKmkqMTAwLCgxLXItbykqaSoxMDAsKDEtbi1vKSppKjEwMCwxMDAqb119LGw9ZnVuY3Rpb24odCxyLG4sZSl7cmV0dXJuIDEwMD09PWU/WzAsMCwwXTooZS89MTAwLFt0LHIsbl0ubWFwKChmdW5jdGlvbih0KXtyZXR1cm4odC89MTAwKT49MT8wOjI1NSooMS10KSooMS1lKX0pKSl9O2Z1bmN0aW9uIHAodCxyLG4sZSl7dmFyIG87dm9pZCAwPT09ZSYmKGU9XCJsXCIpLG89W3QscixuXS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0LzI1NX0pKSx0PW9bMF0scj1vWzFdLG49b1syXTt2YXIgaT1NYXRoLm1heCh0LHIsbiksYT1NYXRoLm1pbih0LHIsbiksdT1mdW5jdGlvbih0LHIsbixlKXt2YXIgbzt2b2lkIDA9PT1lJiYoZT0hMSksbz1bdCxyLG5dLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQvMjU1fSkpLHQ9b1swXSxyPW9bMV0sbj1vWzJdO3ZhciBpPU1hdGgubWF4KHQscixuKSxhPU1hdGgubWluKHQscixuKSx1PTA7aWYoaSE9PWEpaWYoZSl1PSh0LXIrKHQtbikpLzIsdS89TWF0aC5zcXJ0KCh0LXIpKih0LXIpKyh0LW4pKihyLW4pKSx1PU1hdGguYWNvcyh1KSxuPnImJih1PTIqTWF0aC5QSS11KSx1Lz0yKk1hdGguUEk7ZWxzZXt2YXIgaD1pLWE7dT1pPT09dD8oci1uKS9oKyhyPG4/NjowKTppPT09cj8obi10KS9oKzI6KHQtcikvaCs0LHUvPTZ9ZWxzZSB1PU5hTjtyZXR1cm4gMzYwKnV9KHQscixuLFwiaVwiPT09ZSksaD0wLGM9KGkrYSkvMixsPWktYSxwPWksZj0odCtyK24pLzM7cmV0dXJuXCJ2XCI9PT1lJiYoaD0wPT09aT8wOmwvaSksaSE9PWEmJlwibFwiPT09ZSYmKGg9Yz4uNT9sLygyLWktYSk6bC8oaSthKSksXCJpXCI9PT1lJiYoaD1mPjA/MS1hL2Y6MCksaCo9MTAwLGMqPTEwMCxmKj0xMDAsXCJsXCI9PT1lP1t1LGgsY106XCJ2XCI9PT1lP1t1LGgscCo9MTAwXTpbdSxoLGZdfXZhciBmPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gcCh0LHIsbixcImxcIil9LHM9ZnVuY3Rpb24odCxyLG4pe3ZhciBlLGksYT1mdW5jdGlvbih0KXtyZXR1cm4gNioodD10PDA/dCsxOnQ+MT90LTE6dCk8MT9lKyhpLWUpKnQqNjoyKnQ8MT9pOjMqdDwyP2UrKGktZSkqKDIvMy10KSo2OmV9O3JldHVybiB0PXQlMzYwLzM2MCxyPW8oci8xMDAsMCwxKSxuPW8obi8xMDAsMCwxKSxlPTIqbi0oaT1uPD0uNT9uKihyKzEpOm4rci1uKnIpLFsyNTUqYSh0KzEvMyksMjU1KmEodCksMjU1KmEodC0xLzMpXX0sdj1mdW5jdGlvbih0LHIsbil7cmV0dXJuIHAodCxyLG4sXCJ2XCIpfSxiPWZ1bmN0aW9uKHQscixuKXt2YXIgZSxvLGk9W24vPTEwMCxuKigxLShyLz0xMDApKSxuKigxLShvPSh0PXQlMzYwLzM2MCozNjApLzYwLShlPU1hdGguZmxvb3IodC82MCU2KSkpKnIpLG4qKDEtKDEtbykqcildLGE9W1swLDMsMV0sWzIsMCwxXSxbMSwwLDNdLFsxLDIsMF0sWzMsMSwwXSxbMCwxLDJdXTtyZXR1cm5bMjU1KmlbYVtlXVswXV0sMjU1KmlbYVtlXVsxXV0sMjU1KmlbYVtlXVsyXV1dfSx5PWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gcCh0LHIsbixcImlcIil9LGQ9ZnVuY3Rpb24odCxyLG4pe3ZhciBlLGksYSx1O3IvPTEwMCxuLz0xMDAsaXNOYU4odCkmJih0PTApLGlzTmFOKHIpJiYocj0wKTt2YXIgaD1mdW5jdGlvbih0KXtyZXR1cm4oMStyKk1hdGguY29zKDIqTWF0aC5QSSp0KS9NYXRoLmNvcyhNYXRoLlBJLzMtMipNYXRoLlBJKnQpKS8zfTtyZXR1cm4odD0oMzYwK3QpJTM2MC8zNjApPDEvMz9hPTEtKCh1PSgxLXIpLzMpKyhpPWgodCkpKTp0PDIvMz91PTEtKChpPSgxLXIpLzMpKyhhPWgodC09MS8zKSkpOmk9MS0oKGE9KDEtcikvMykrKHU9aCh0LT0yLzMpKSksZT1baSxhLHVdLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIDI1NSpvKG4qdCozLDAsMSl9KSksW2k9ZVswXSxhPWVbMV0sdT1lWzJdXX0sZz1mdW5jdGlvbih0LHIsbil7cmV0dXJuW2YodCxyLG4pWzBdLDEwMCooTWF0aC5taW4odCxyLG4pLzI1NSksMTAwKigxLU1hdGgubWF4KHQscixuKS8yNTUpXX07ZnVuY3Rpb24gdyh0LHIsbil7cmV0dXJuIHIvPTEwMCxuLz0xMDAscyh0LDEwMCw1MCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gMjU1Kih0LzI1NSooMS1yLW4pK3IpfSkpfXZhciBtPXt4OlsuNDEyNDU2NCwuMzU3NTc2MSwuMTgwNDM3NV0seTpbLjIxMjY3MjksLjcxNTE1MjIsLjA3MjE3NV0sejpbLjAxOTMzMzksLjExOTE5MiwuOTUwMzA0MV19LE09e3I6WzMuMjQwNDU0MiwtMS41MzcxMzg1LC0uNDk4NTMxNF0sZzpbLS45NjkyNjYsMS44NzYwMTA4LC4wNDE1NTZdLGI6Wy4wNTU2NDM0LC0uMjA0MDI1OSwxLjA1NzIyNTJdfSx4PS45NTA0NyxfPTEsQz0xLjA4ODgzLEk9LjIwNjg5NjU1MixrPS4wMDg4NTY0NTIsRT0yNDM4OS8yNyx6PWZ1bmN0aW9uKHQscixlKXt2YXIgbz1uKHQscixlKTtyZXR1cm5bMTAwKm0ueC5yZWR1Y2UoKGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gdCtyKm9bbl19KSwwKSwxMDAqbS55LnJlZHVjZSgoZnVuY3Rpb24odCxyLG4pe3JldHVybiB0K3Iqb1tuXX0pLDApLDEwMCptLnoucmVkdWNlKChmdW5jdGlvbih0LHIsbil7cmV0dXJuIHQrcipvW25dfSksMCldfSxOPWZ1bmN0aW9uKHQscixuKXt2YXIgbz1bdCxyLG5dLGk9TS5yLnJlZHVjZSgoZnVuY3Rpb24odCxyLG4pe3JldHVybiB0K3Iqb1tuXX0pLDApLzEwMCxhPU0uZy5yZWR1Y2UoKGZ1bmN0aW9uKHQscixuKXtyZXR1cm4gdCtyKm9bbl19KSwwKS8xMDAsdT1NLmIucmVkdWNlKChmdW5jdGlvbih0LHIsbil7cmV0dXJuIHQrcipvW25dfSksMCkvMTAwO3JldHVybiBlKGksYSx1KX0sTz1mdW5jdGlvbih0LHIsbil7dmFyIGU7cmV0dXJuIGU9W3Q9dC94LzEwMCxyPXIvXy8xMDAsbj1uL0MvMTAwXS5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybiB0Pms/TWF0aC5wb3codCwxLzMpOihFKnQrMTYpLzExNn0pKSx0PWVbMF0scj1lWzFdLG49ZVsyXSxbTWF0aC5tYXgoMCwxMTYqci0xNiksNTAwKih0LXIpLDIwMCooci1uKV19LFA9ZnVuY3Rpb24odCxyLG4pe3ZhciBlLG89KHQrMTYpLzExNixpPWlzTmFOKHIpP286bytyLzUwMCxhPWlzTmFOKG4pP286by1uLzIwMDtyZXR1cm4gZT1baSxvLGFdLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIHQ+ST9NYXRoLnBvdyh0LDMpOigxMTYqdC0xNikvRX0pKSxpPWVbMF0sbz1lWzFdLGE9ZVsyXSxbaSp4KjEwMCxvKl8qMTAwLGEqQyoxMDBdfSxqPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gTi5hcHBseSh2b2lkIDAsUCh0LHIsbikpfSxTPWZ1bmN0aW9uKHQscixuKXtyPW8ociwtMTAwLDEwMCksbj1vKG4sLTEwMCwxMDApO3ZhciBlPU1hdGguc3FydChyKnIrbipuKSxpPSgxODAqTWF0aC5hdGFuMihuLHIpL01hdGguUEkrMzYwKSUzNjA7cmV0dXJuIDA9PT1NYXRoLnJvdW5kKDFlNCplKSYmKGk9TnVtYmVyLk5hTiksW3QsZSxpXX0sQT1mdW5jdGlvbih0LHIsbil7cmV0dXJuIGlzTmFOKG4pJiYobj0wKSxuKj1NYXRoLlBJLzE4MCxbdCxNYXRoLmNvcyhuKSpyLE1hdGguc2luKG4pKnJdfSxMPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gUC5hcHBseSh2b2lkIDAsQSh0LHIsbikpfSxIPWZ1bmN0aW9uKHQscixuKXt2YXIgZT10K3IrbixvPTAsaT0wO3JldHVybiBlPjAmJihvPXQvZSxpPXIvZSksW28saSxyXX0sWT1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxsaW5lYXIycmdiOmUscmdiMmxpbmVhcjpuLHJnYjJoZXg6dSxoZXgycmdiOmgscmdiMmNteWs6YyxjbXlrMnJnYjpsLHJnYjJoc2w6Zixoc2wycmdiOnMscmdiMmhzdjp2LGhzdjJyZ2I6YixyZ2IyaHNpOnksaHNpMnJnYjpkLHJnYjJod2I6Zyxod2IycmdiOncscmdiMnh5ejp6LHh5ejJyZ2I6Tix4eXoybGFiOk8sbGFiMnh5ejpQLHJnYjJsYWI6ZnVuY3Rpb24odCxyLG4pe3JldHVybiBPLmFwcGx5KHZvaWQgMCx6KHQscixuKSl9LGxhYjJyZ2I6aixsY2gybGFiOkEsbGFiMmxjaDpTLHh5ejJsY2g6ZnVuY3Rpb24odCxyLG4pe3JldHVybiBTLmFwcGx5KHZvaWQgMCxPKHQscixuKSl9LGxjaDJ4eXo6TCx4eVkyeHl6OmZ1bmN0aW9uKHQscixuKXtyZXR1cm4gMD09PXI/WzAsMCwwXTpbdCoobi9yKSxuLG4vciooMS10LXIpXX0seHl6Mnh5WTpIfSk7ZnVuY3Rpb24gUih0LG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj0hMSksZnVuY3Rpb24oZSxvLGkpe3ZhciBhPWkudmFsdWU7aS52YWx1ZT1mdW5jdGlvbigpe2Zvcih2YXIgZT1bXSxvPTA7bzxhcmd1bWVudHMubGVuZ3RoO28rKyllW29dPWFyZ3VtZW50c1tvXTtpZihlLmxlbmd0aD4wJiZuKXt2YXIgaT1KU09OLnN0cmluZ2lmeShlKTt0Kz1pfWlmKHRoaXMuY2FjaGUuaGFzKHQpKXJldHVybiB0aGlzLmNhY2hlLmdldCh0KTt2YXIgdT1hLmNhbGwuYXBwbHkoYSxyKFt0aGlzXSxlLCExKSk7cmV0dXJuIHRoaXMuY2FjaGUuc2V0KHQsdSksdX19fWZ1bmN0aW9uIHEodCxuLGUsbyl7cmV0dXJuIHZvaWQgMD09PXQmJih0PVswLDIsMl0pLHZvaWQgMD09PW4mJihuPTApLHZvaWQgMD09PWUmJihlPSEwKSx2b2lkIDA9PT1vJiYobz0wKSxmdW5jdGlvbihhLHUsaCl7dmFyIGM9aC52YWx1ZTtoLnZhbHVlPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLHU9MDt1PGFyZ3VtZW50cy5sZW5ndGg7dSsrKWFbdV09YXJndW1lbnRzW3VdO3ZhciBoPXZvaWQgMD09PWFbb10/ZTphW29dLGw9Yy5jYWxsLmFwcGx5KGMscihbdGhpc10sYSwhMSkpO2lmKCExPT09aClyZXR1cm4gbDt2YXIgcD1cIm51bWJlclwiPT10eXBlb2YgaD9NYXRoLnJvdW5kKGgpOjAsZj1cIm51bWJlclwiPT10eXBlb2YgdD9uZXcgQXJyYXkobC5sZW5ndGgpLmZpbGwodCk6dCxzPWYubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gMT09PW4/XCJudW1iZXJcIj09dHlwZW9mIGg/cDp0OnQrcH0pKTtyZXR1cm4gbC5tYXAoKGZ1bmN0aW9uKHQscil7cmV0dXJuIGkodCxzW3JdKX0pKX19fXZhciBEPWZ1bmN0aW9uKHQscixuKXt2YXIgZT10IGluc3RhbmNlb2YgZnQ/dDpuZXcgZnQodCksaT1yIGluc3RhbmNlb2YgZnQ/cjpuZXcgZnQociksYT1vKG4sMCwxMDApLzEwMCx1PTIqYS0xLGg9ZS5hbHBoYSgpLWkuYWxwaGEoKSxjPSgodSpoPT0tMT91Oih1K2gpLygxK3UqaCkpKzEpLzIsbD0xLWMscD1bTWF0aC5yb3VuZChvKGUucmVkKCkqYytpLnJlZCgpKmwsMCwyNTUpKSxNYXRoLnJvdW5kKG8oZS5ncmVlbigpKmMraS5ncmVlbigpKmwsMCwyNTUpKSxNYXRoLnJvdW5kKG8oZS5ibHVlKCkqYytpLmJsdWUoKSpsLDAsMjU1KSldLGY9ZS5hbHBoYSgpKmEraS5hbHBoYSgpKigxLWEpO3JldHVybiBuZXcgZnQocCxmKX0sRj1NYXRoLnNxcnQsVT1NYXRoLnBvdywkPU1hdGguY29zLEo9TWF0aC5hYnMsWj1NYXRoLnNpbixCPU1hdGguZXhwLEc9TWF0aC5hdGFuMixLPU1hdGguUEksUT1mdW5jdGlvbih0KXtyZXR1cm4gSyp0LzE4MH0sVD1mdW5jdGlvbih0LHIsbil7dm9pZCAwPT09biYmKG49ITApO3ZhciBlPUcocix0KTtyZXR1cm4gbiYmKGU9KGU9KGU9MTgwKmUvSyk+MD9lOmUrMzYwKT4zNjA/ZS0zNjA6ZSksZX0sVj1mdW5jdGlvbih0LHIpe3ZvaWQgMD09PXImJihyPSEwKTt2YXIgbj10LmxhYighMSksZT1uWzBdLG89blsxXSxpPW5bMl07cmV0dXJuW2UsRihVKG8sMikrVShpLDIpKSxUKG8saSxyKSxvLGldfSxXPVtcIkNNQ1wiLFwiQ0lFXCIsXCJDSUUyMDAwXCIsXCJDSUUxOTk0XCIsXCJDSUUxOTc2XCJdLFg9XCJDTUNcIix0dD1cIkNJRTIwMDBcIixydD1cIkNJRTE5OTRcIixudD1cIkNJRTE5NzZcIixldD1mdW5jdGlvbih0LHIsbixlKXt2b2lkIDA9PT1uJiYobj1cIkNJRVwiKTt2YXIgbz1mdW5jdGlvbih0KXt2YXIgcj10LnRvVXBwZXJDYXNlKCk7cmV0dXJuIFcuaW5jbHVkZXMocikmJlwiQ0lFXCIhPT1yP3I6dHR9KG4pO2lmKGU9ZXx8e30sbz09PVgpe3ZhciBpPU9iamVjdC5hc3NpZ24oe30se2w6MSxjOjF9LGUpO3JldHVybiBmdW5jdGlvbih0LHIsbixlKXt2b2lkIDA9PT1uJiYobj0xKSx2b2lkIDA9PT1lJiYoZT0xKTt2YXIgbz1WKHQsITApLGk9b1swXSxhPW9bMV0sdT1vWzJdLGg9b1szXSxjPW9bNF0sbD1WKHIpLHA9bFswXSxmPWxbMV0scz1sWzNdLHY9YS1mLGI9aS1wLHk9Yy1sWzRdLGQ9RihVKGgtcywyKStVKHksMiktVSh2LDIpKSxnPWk8MTY/LjUxMTouMDQwOTc1KmkvKDErLjAxNzY1KmkpLHc9LjA2MzgqYS8oMSsuMDEzMSphKSsuNjM4LG09MTY0PD11JiZ1PD0zNDU/LjU2K0ooLjIqJChRKHUrMTY4KSkpOi4zNitKKC40KiQoUSh1KzM1KSkpLE09RihVKGEsNCkvKFUoYSw0KSsxOTAwKSkseD13KihNKm0rMS1NKTtyZXR1cm4gRihVKGIvKG4qZyksMikrVSh2LyhlKncpLDIpK1UoZC94LDIpKX0odCxyLGkubCxpLmMpfWlmKG89PT1ydCl7dmFyIGE9e2tMOjEsa0M6MSxrSDoxLGNhdGU6XCJncmFwaGljXCJ9LHU9T2JqZWN0LmFzc2lnbih7fSxhLGUpO3JldHVybiBmdW5jdGlvbih0LHIsbixlLG8saSl7dm9pZCAwPT09biYmKG49MSksdm9pZCAwPT09ZSYmKGU9MSksdm9pZCAwPT09byYmKG89MSksdm9pZCAwPT09aSYmKGk9XCJncmFwaGljXCIpO3ZhciBhPVwidGV4dGlsZXNcIj09PWk/LjA0ODouMDQ1LHU9XCJ0ZXh0aWxlc1wiPT09aT8uMDE0Oi4wMTU7bj1cInRleHRpbGVzXCI9PT1pPzI6bjt2YXIgaD1WKHQpLGM9aFswXSxsPWhbMV0scD1oWzNdLGY9aFs0XSxzPVYociksdj1zWzBdLGI9c1sxXSx5PXNbM10sZD1jLXYsZz1sLWIsdz1mLXNbNF0sbT0xK2EqbCxNPTErdSpsLHg9RihVKHAteSwyKStVKHcsMiktVShnLDIpKTtyZXR1cm4gRihVKGQvKDEqbiksMikrVShnLyhlKm0pLDIpK1UoeC8obypNKSwyKSl9KHQscix1LmtMLHUua0MsdS5rSCx1LmNhdGUpfWlmKG89PT1udClyZXR1cm4gZnVuY3Rpb24odCxyKXt2YXIgbj10LmxhYighMSksZT1uWzBdLG89blsxXSxpPW5bMl0sYT1yLmxhYighMSksdT1hWzBdLGg9YVsxXSxjPWFbMl07cmV0dXJuIEYoVShlLXUsMikrVShvLWgsMikrVShpLWMsMikpfSh0LHIpO3ZhciBoPXtrTDoxLGtDOjEsa0g6MX0sYz1PYmplY3QuYXNzaWduKHt9LGgsZSk7cmV0dXJuIGZ1bmN0aW9uKHQscixuLGUsbyl7dm9pZCAwPT09biYmKG49MSksdm9pZCAwPT09ZSYmKGU9MSksdm9pZCAwPT09byYmKG89MSk7dmFyIGk9Vih0KSxhPWlbMF0sdT1pWzFdLGg9aVszXSxjPWlbNF0sbD1WKHIpLHA9bFswXSxmPWxbMV0scz1sWzNdLHY9bFs0XSxiPShhK3ApLzIseT0odStmKS8yLGQ9KDEtRihVKHksNykvKFUoeSw3KStVKDI1LDcpKSkpLzIsZz1oKigxK2QpLHc9cyooMStkKSxtPUYoVShnLDIpK1UoYywyKSksTT1GKFUodywyKStVKHYsMikpLHg9VChnLGMsITApLF89VCh3LHYsITApLEM9KG0rTSkvMixJPUooeC1fKT4xODA/KHgrXyszNjApLzI6KHgrXykvMixrPTEtLjE3KiQoUShJLTMwKSkrLjI0KiQoUSgyKkkpKSsuMzIqJChRKDMqSSs2KSktLjIqJChRKDQqSS02MykpLEU9SihfLXgpPD0xODA/Xy14OkooXy14KT4xODAmJl88PXg/Xy14KzM2MDpfLXgtMzYwLHo9cC1hLE49Zi11LE89MipGKG0qTSkqWihRKEUpLzIpLFA9MSsuMDE1KlUoYi01MCwyKS9GKDIwK1UoYi01MCwyKSksaj0xKy4wNDUqQyxTPTErLjAxNSpDKmssQT0zMCpCKC1VKChJLTI3NSkvMjUsMikpLEw9LTIqRihVKEMsNykvKFUoQyw3KStVKDI1LDcpKSkqWigyKlEoQSkpO3JldHVybiBGKFUoei8obipQKSwyKStVKE4vKGUqaiksMikrVShPLyhvKlMpLDIpK0wqKE4vKGUqaikpKihPLyhvKlMpKSl9KHQscixjLmtMLGMua0MsYy5rSCl9LG90PWZ1bmN0aW9uKHQscixuKXt2YXIgZT1NYXRoLmFicyxvPU1hdGgubWF4LGk9TWF0aC5taW4sYT10IGluc3RhbmNlb2YgZnQ/dDpuZXcgZnQodCksdT1yIGluc3RhbmNlb2YgZnQ/cjpuZXcgZnQociksaD1PYmplY3QuYXNzaWduKHt9LHtiOjEyNSxjOjUwMH0sbik7cmV0dXJuIShlKDI1NSphLmJyaWdodG5lc3MoKS8xMDAtMjU1KnUuYnJpZ2h0bmVzcygpLzEwMCk8PWguYikmJiEobyhhLnJlZCgpLHUucmVkKCkpLWkoYS5yZWQoKSx1LnJlZCgpKSsobyhhLmdyZWVuKCksdS5ncmVlbigpKS1pKGEuZ3JlZW4oKSx1LmdyZWVuKCkpKSsobyhhLmJsdWUoKSx1LmJsdWUoKSktaShhLmJsdWUoKSx1LmJsdWUoKSkpPD1oLmMpfSxpdD1mdW5jdGlvbih0LHIsbil7dmFyIGUsaT1mdW5jdGlvbih0KXtyZXR1cm4gbyh0LDAsMTAwKX0sYT1mdW5jdGlvbih0KXtyZXR1cm4gbyh0LDAsMjU1KX0sdT17aDpbMCxmdW5jdGlvbih0KXtyZXR1cm4gdCUzNjB9XSxzOlsxLGldLGw6WzIsaV0scjpbMCxhXSxnOlsxLGFdLGI6WzIsYV19LGg9dVtyXVswXTtpZihbXCJoXCIsXCJzXCIsXCJsXCJdLmluY2x1ZGVzKHIpKXt2YXIgYz10LmhzbCgpO2lmKHZvaWQgMD09PW4pcmV0dXJuIGNbaF07bj11W3JdWzFdKG4pLGNbaF09bixlPXMuYXBwbHkodm9pZCAwLGMpfWVsc2V7aWYoZT10LnJnYigpLHZvaWQgMD09PW4pcmV0dXJuIGVbaF07bj11W3JdWzFdKG4pLGVbaF09bn1yZXR1cm4gbmV3IGZ0KGUsdC5hbHBoYSgpKX0sYXQ9e30sdXQ9bmV3IFNldChbXCJyZ2JcIixcInJnYmFcIixcImNteWtcIixcImxhYlwiLFwiaHNsXCIsXCJoc2xhXCIsXCJoc3ZcIixcImhzdmFcIixcImhzaVwiLFwiaHNpYVwiLFwieHl6XCIsXCJsY2hcIixcImh3YlwiLFwiaHdiYVwiXSksaHQ9L14oW2EtekEtWl0rKVxcKChbXFxzXFxTXSspXFwpJC8sY3Q9ZnVuY3Rpb24odCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQ/LTE9PT10LmluZGV4T2YoXCIlXCIpP2N0KE51bWJlcih0LnRyaW0oKSkpOih0PXQuc3BsaXQoXCIlXCIpWzBdLCh0PU51bWJlcih0LnRyaW0oKSkpfHwwKTpNYXRoLmFicyh0KTwxPzEwMCp0OnR9LGx0PWZ1bmN0aW9uKHQscil7dm9pZCAwPT09ciYmKHI9bmV3IFNldCk7dmFyIG49XCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp0LmpvaW4oXCIsXCIpO2lmKHIuaGFzKG4pKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgQ29sb3JcIik7ci5hZGQobik7dmFyIGU9XCJyZ2JcIixvPVswLDAsMF0saT0xMDA7aWYoQXJyYXkuaXNBcnJheSh0KSl7aWYodC5sZW5ndGg8Myl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIENvbG9yXCIpO2Zvcih2YXIgYT0wO2E8dC5sZW5ndGg7YSsrKWlmKGE8MylvW2FdPXRbYV07ZWxzZXtpZigzIT09YXx8dm9pZCAwPT09dFszXSlicmVhaztpPXRbM119fWVsc2V7dmFyIHU9ITEsYz10LnRyaW0oKS5tYXRjaChodCk7aWYoY3x8KHU9ITApLGMpe3ZhciBsPWNbMV0udG9Mb2NhbGVMb3dlckNhc2UoKTtpZihlPWwsdXQuaGFzKGwpfHwodT0hMCksY1syXSYmIXUpe3ZhciBwPWNbMl0sZj0tMSE9PXAuaW5kZXhPZihcIixcIik/XCIsXCI6XCIgXCIscz1wLnNwbGl0KGYpO2ZvcihhPTA7YTwzO2ErKyl2b2lkIDAhPT1zW2FdJiYoW1wibGNoXCIsXCJsYWJcIl0uaW5jbHVkZXMoZSkmJjA9PT1hfHxbXCJoc2xcIixcImhzbGFcIixcImhzdlwiLFwiaHN2YVwiLFwiaHdiXCIsXCJod2JhXCIsXCJoc2lcIixcImhzaWFcIl0uaW5jbHVkZXMoZSkmJmE+MD9vW2FdPWN0KHNbYV0pOm9bYV09TnVtYmVyKHNbYV0udHJpbSgpKSk7W1wicmdiYVwiLFwiaHNsYVwiLFwiaHN2YVwiLFwiaHdiYVwiLFwiaHNpYVwiXS5pbmNsdWRlcyhlKT8oZT1lLnNsaWNlKDAsLTEpLHZvaWQgMCE9PXNbM10mJihpPWN0KHNbM10pKSk6XCJjbXlrXCI9PT1lJiZvLnB1c2godm9pZCAwIT09c1szXT9jdChzWzNdKTowKX19aWYodSl7aWYoIS9eIygoW2EtZkEtRlxcZF17M30pezEsMn18W2EtZkEtRlxcZF17OH0pJC8udGVzdCh0KSl0cnl7cmV0dXJuIHQ9ZnVuY3Rpb24odCxyKXtpZih2b2lkIDA9PT1yJiYocj0hMSksdD10LnRvTG93ZXJDYXNlKCksdm9pZCAwPT09YXRbdF0pe2lmKHIpdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjb2xvciBuYW1lOiBcIi5jb25jYXQodCxcIilcIikpO3JldHVybiB0fXJldHVybiBhdFt0XX0odCwhMCksbHQodCxyKX1jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIENvbG9yXCIpfW89aCh0KX19cmV0dXJuW2UsbyxpXX0scHQ9e3Rob3dQYXJzZUVycm9yOiExfSxmdD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4odCxyLG4pe3RoaXMuY2FjaGU9bmV3IE1hcCx0aGlzLl9yZ2I9WzAsMCwwXSx0aGlzLl9hbHBoYT0xMDA7dmFyIGU9e3Rob3dQYXJzZUVycm9yOnB0LnRob3dQYXJzZUVycm9yfSxpPU9iamVjdC5hc3NpZ24oe30sZSxudWxsIT1uP246e30pO3RyeXt2YXIgYT1mdW5jdGlvbih0KXt2YXIgcixuPXtsYWIycmdiOmosaHNsMnJnYjpzLGhzdjJyZ2I6Yix4eXoycmdiOk4saHdiMnJnYjp3LGhzaTJyZ2I6ZH0sZT1sdCh0KSxpPWVbMF0sYT1lWzFdLHU9ZVsyXTtpZihcInJnYlwiPT09aSlyZXR1cm5bYSx1XTtcImxjaFwiPT09aSYmKGk9KHI9W1wieHl6XCIsTChhWzBdLGFbMV0sYVsyXSldKVswXSxhPXJbMV0pO3ZhciBoPWFbMF0sYz1hWzFdLHA9YVsyXSxmPWFbM107aWYoXCJjbXlrXCI9PT1pKXJldHVybltsKGgsYyxwLGYpLm1hcCgoZnVuY3Rpb24odCl7cmV0dXJuIG8odCwwLDI1NSl9KSksdV07dmFyIHY9XCJcIi5jb25jYXQoaSxcIjJyZ2JcIik7aWYoXCJmdW5jdGlvblwiPT10eXBlb2Ygblt2XSlyZXR1cm5bblt2XShoLGMscCkubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gbyh0LDAsMjU1KX0pKSx1XTt0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvbG9yXCIpfSh0KSx1PWFbMF0saD1hWzFdO3RoaXMuX2FscGhhPWgsdGhpcy5fcmdiPXV9Y2F0Y2godCl7aWYoaS50aG93UGFyc2VFcnJvcil0aHJvdyB0fXZvaWQgMCE9PXImJih0aGlzLl9hbHBoYT1vKHIsMCwxMDApKX1yZXR1cm4gbi5wcm90b3R5cGUucmVkPWZ1bmN0aW9uKHQpe3JldHVybiBpdCh0aGlzLFwiclwiLHQpfSxuLnByb3RvdHlwZS5ncmVlbj1mdW5jdGlvbih0KXtyZXR1cm4gaXQodGhpcyxcImdcIix0KX0sbi5wcm90b3R5cGUuYmx1ZT1mdW5jdGlvbih0KXtyZXR1cm4gaXQodGhpcyxcImJcIix0KX0sbi5wcm90b3R5cGUuYWxwaGE9ZnVuY3Rpb24odCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5fYWxwaGE6KHQ9byh0LDAsMTAwKSxuZXcgbih0aGlzLnJnYigpLHQpKX0sbi5wcm90b3R5cGUuZmFkZUluPWZ1bmN0aW9uKHQscil7cmV0dXJuIHZvaWQgMD09PXQmJih0PTEwKSx0PXImJlwicmVsYXRpdmVcIj09PXI/dGhpcy5fYWxwaGEqdC8xMDA6dCxuZXcgbih0aGlzLnJnYigpLG8odGhpcy5fYWxwaGErdCwwLDEwMCkpfSxuLnByb3RvdHlwZS5mYWRlT3V0PWZ1bmN0aW9uKHQscil7cmV0dXJuIHZvaWQgMD09PXQmJih0PTEwKSx0PXImJlwicmVsYXRpdmVcIj09PXI/dGhpcy5fYWxwaGEqdC8xMDA6dCxuZXcgbih0aGlzLnJnYigpLG8odGhpcy5fYWxwaGEtdCwwLDEwMCkpfSxuLnByb3RvdHlwZS5vcGFjaWZ5PWZ1bmN0aW9uKHQscil7cmV0dXJuIHZvaWQgMD09PXQmJih0PTEwKSx0aGlzLmZhZGVJbih0LHIpfSxuLnByb3RvdHlwZS50cmFuc3BhcmVudGl6ZT1mdW5jdGlvbih0LHIpe3JldHVybiB2b2lkIDA9PT10JiYodD0xMCksdGhpcy5mYWRlT3V0KHQscil9LG4ucHJvdG90eXBlLmh1ZT1mdW5jdGlvbih0KXtyZXR1cm4gaXQodGhpcyxcImhcIix0KX0sbi5wcm90b3R5cGUuc2F0dXJhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gaXQodGhpcyxcInNcIix0KX0sbi5wcm90b3R5cGUubGlnaHRuZXNzPWZ1bmN0aW9uKHQpe3JldHVybiBpdCh0aGlzLFwibFwiLHQpfSxuLnByb3RvdHlwZS5yZ2I9ZnVuY3Rpb24odCl7cmV0dXJuIHIoW10sdGhpcy5fcmdiLCEwKX0sbi5wcm90b3R5cGUucmdiYT1mdW5jdGlvbih0KXtyZXR1cm4gcihyKFtdLHRoaXMucmdiKCExKSwhMCksW3RoaXMuX2FscGhhXSwhMSl9LG4ucHJvdG90eXBlLmNteWs9ZnVuY3Rpb24odCl7cmV0dXJuIGMuYXBwbHkodm9pZCAwLHRoaXMuX3JnYil9LG4ucHJvdG90eXBlLmhzbD1mdW5jdGlvbih0KXtyZXR1cm4gZi5hcHBseSh2b2lkIDAsdGhpcy5fcmdiKX0sbi5wcm90b3R5cGUuaHNsYT1mdW5jdGlvbih0KXtyZXR1cm4gcihyKFtdLHRoaXMuaHNsKCExKSwhMCksW3RoaXMuX2FscGhhXSwhMSl9LG4ucHJvdG90eXBlLmhzdj1mdW5jdGlvbih0KXtyZXR1cm4gdi5hcHBseSh2b2lkIDAsdGhpcy5fcmdiKX0sbi5wcm90b3R5cGUuaHNpPWZ1bmN0aW9uKHQpe3JldHVybiB5LmFwcGx5KHZvaWQgMCx0aGlzLl9yZ2IpfSxuLnByb3RvdHlwZS5od2I9ZnVuY3Rpb24odCl7cmV0dXJuIGcuYXBwbHkodm9pZCAwLHRoaXMuX3JnYil9LG4ucHJvdG90eXBlLnh5ej1mdW5jdGlvbih0KXtyZXR1cm4gei5hcHBseSh2b2lkIDAsdGhpcy5fcmdiKX0sbi5wcm90b3R5cGUubGFiPWZ1bmN0aW9uKHQpe3JldHVybiBPLmFwcGx5KHZvaWQgMCx0aGlzLnh5eighMSkpfSxuLnByb3RvdHlwZS5sY2g9ZnVuY3Rpb24odCl7cmV0dXJuIFMuYXBwbHkodm9pZCAwLHRoaXMubGFiKCExKSl9LG4ucHJvdG90eXBlLnh5WT1mdW5jdGlvbih0KXtyZXR1cm4gSC5hcHBseSh2b2lkIDAsdGhpcy54eXooITEpKX0sbi5wcm90b3R5cGUuaGV4PWZ1bmN0aW9uKHQpe3ZvaWQgMD09PXQmJih0PTIpO3ZhciBuPTA9PT10P3ZvaWQgMDoxPT09dD90aGlzLl9hbHBoYToxMDA9PT10aGlzLl9hbHBoYT92b2lkIDA6dGhpcy5fYWxwaGEsZT1cImNvbG9yOmhleDpwYXJhbV9cIi5jb25jYXQodCk7aWYodGhpcy5jYWNoZS5oYXMoZSkpcmV0dXJuIHRoaXMuY2FjaGUuZ2V0KGUpO3ZhciBvPXUuYXBwbHkodm9pZCAwLHIocihbXSx0aGlzLl9yZ2IsITEpLFtuXSwhMSkpO3JldHVybiB0aGlzLmNhY2hlLnNldChlLG8pLG99LG4ucHJvdG90eXBlLmxpZ2h0ZW49ZnVuY3Rpb24odCxyKXt2b2lkIDA9PT10JiYodD01KTt2YXIgZT10aGlzLmhzbCghMSksaT1lWzBdLGE9ZVsxXSx1PWVbMl07cmV0dXJuIHU9byh1Kz12b2lkIDAhPT1yJiZcInJlbGF0aXZlXCI9PT1yP3UqKHQvMTAwKTp0LDAsMTAwKSxuZXcgbihzKGksYSx1KSx0aGlzLl9hbHBoYSl9LG4ucHJvdG90eXBlLmRhcmtlbj1mdW5jdGlvbih0LHIpe3JldHVybiB2b2lkIDA9PT10JiYodD01KSx0aGlzLmxpZ2h0ZW4oLXQscil9LG4ucHJvdG90eXBlLnNhdHVyYXRlPWZ1bmN0aW9uKHQscil7dm9pZCAwPT09dCYmKHQ9NSk7dmFyIGU9dGhpcy5oc2woITEpLGk9ZVswXSxhPWVbMV0sdT1lWzJdO3JldHVybiBhPW8oYSs9dm9pZCAwIT09ciYmXCJyZWxhdGl2ZVwiPT09cj9hKih0LzEwMCk6dCwwLDEwMCksbmV3IG4ocyhpLGEsdSksdGhpcy5fYWxwaGEpfSxuLnByb3RvdHlwZS5kZXNhdHVyYXRlPWZ1bmN0aW9uKHQscil7cmV0dXJuIHZvaWQgMD09PXQmJih0PTUpLHRoaXMuc2F0dXJhdGUoLXQscil9LG4ucHJvdG90eXBlLnNwaW49ZnVuY3Rpb24odCl7dmFyIHI9dGhpcy5oc2woITEpLGU9clswXSxvPXJbMV0saT1yWzJdO3JldHVybiBuZXcgbihzKGU9KGUrdCUzNjArMzYwKSUzNjAsbyxpKSx0aGlzLl9hbHBoYSl9LG4ucHJvdG90eXBlLmFkanVzdEh1ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zcGluKHQpfSxuLnByb3RvdHlwZS5jb21wbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3BpbigxODApfSxuLnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9yZ2IubWFwKChmdW5jdGlvbih0KXtyZXR1cm4gMjU1LXR9KSk7cmV0dXJuIG5ldyBuKFt0WzBdLHRbMV0sdFsyXV0sdGhpcy5fYWxwaGEpfSxuLnByb3RvdHlwZS5taXg9ZnVuY3Rpb24odCxyKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9NTApLEQodGhpcyx0LDEwMC1vKHIsMCwxMDApKX0sbi5wcm90b3R5cGUubHVtYT1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3JnYi5tYXAoKGZ1bmN0aW9uKHQpe3JldHVybih0Lz0yNTUpPD0uMDM5Mjg/dC8xMi45MjpNYXRoLnBvdygodCsuMDU1KS8xLjA1NSwyLjQpfSkpO3JldHVybi4yMTI2KnRbMF0rLjcxNTIqdFsxXSsuMDcyMip0WzJdfSxuLnByb3RvdHlwZS5icmlnaHRuZXNzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcmdiO3JldHVybiBmdW5jdGlvbih0LHIsbil7cmV0dXJuKDI5OSp0KzU4NypyKzExNCpuKS8xZTMvMjU1KjEwMH0odFswXSx0WzFdLHRbMl0pfSxuLnByb3RvdHlwZS5kZWx0YUU9ZnVuY3Rpb24odCxyLG4pe3JldHVybiB2b2lkIDA9PT1yJiYocj1cIkNNQ1wiKSxldCh0aGlzLHQscixuKX0sbi5wcm90b3R5cGUudmlzaWJpbGl0eT1mdW5jdGlvbih0LHIpe3JldHVybiBvdCh0aGlzLHQscil9LHQoW3EoMCwxLCEwLDApLFIoXCJjb2xvcjpyZ2JcIildLG4ucHJvdG90eXBlLFwicmdiXCIsbnVsbCksdChbcSgwLDEsITAsMCldLG4ucHJvdG90eXBlLFwicmdiYVwiLG51bGwpLHQoW3EoMCwxLCEwLDApLFIoXCJjb2xvcjpjbXlrXCIpXSxuLnByb3RvdHlwZSxcImNteWtcIixudWxsKSx0KFtxKDAsMSwhMCwwKSxSKFwiY29sb3I6aHNsXCIpXSxuLnByb3RvdHlwZSxcImhzbFwiLG51bGwpLHQoW3EoMCwxLCEwLDApXSxuLnByb3RvdHlwZSxcImhzbGFcIixudWxsKSx0KFtxKDAsMSwhMCwwKSxSKFwiY29sb3I6aHN2XCIpXSxuLnByb3RvdHlwZSxcImhzdlwiLG51bGwpLHQoW3EoMCwxLCEwLDApLFIoXCJjb2xvcjpoc2lcIildLG4ucHJvdG90eXBlLFwiaHNpXCIsbnVsbCksdChbcSgwLDEsITAsMCksUihcImNvbG9yOiBod2JcIildLG4ucHJvdG90eXBlLFwiaHdiXCIsbnVsbCksdChbcSgyLDEsITAsMCksUihcImNvbG9yOnh5elwiKV0sbi5wcm90b3R5cGUsXCJ4eXpcIixudWxsKSx0KFtxKDIsMSwhMCwwKSxSKFwiY29sb3I6bGFiXCIpXSxuLnByb3RvdHlwZSxcImxhYlwiLG51bGwpLHQoW3EoMiwxLCEwLDApLFIoXCJjb2xvcjpsY2hcIildLG4ucHJvdG90eXBlLFwibGNoXCIsbnVsbCksdChbcSgyLDEsITAsMCksUihcImNvbG9yOnh5WVwiKV0sbi5wcm90b3R5cGUsXCJ4eVlcIixudWxsKSx0KFtSKFwiY29sb3I6bHVtYVwiKV0sbi5wcm90b3R5cGUsXCJsdW1hXCIsbnVsbCksbn0oKSxzdD1mdW5jdGlvbih0LHIsbixlKXtyZXR1cm4gbmV3IGZ0KFt0LHIsbl0sZSl9LHZ0PWZ1bmN0aW9uKHQscixuLGUpe3JldHVybiBuZXcgZnQocyh0LHIsbiksZSl9LGJ0PWZ1bmN0aW9uKHQscixuLGUpe3JldHVybiBuZXcgZnQoYih0LHIsbiksZSl9LHl0PWZ1bmN0aW9uKHQscixuLGUpe3JldHVybiBuZXcgZnQoZCh0LHIsbiksZSl9LGR0PWZ1bmN0aW9uKHQscixuLGUpe3JldHVybiBuZXcgZnQodyh0LHIsbiksZSl9LGd0PWZ1bmN0aW9uKHQscixuLGUpe3JldHVybiBuZXcgZnQoTih0LHIsbiksZSl9LHd0PWZ1bmN0aW9uKHQscixuLGUpe3JldHVybiBuZXcgZnQoaih0LHIsbiksZSl9LG10PWZ1bmN0aW9uKHQscixuLGUpe3JldHVybiBuZXcgZnQoTi5hcHBseSh2b2lkIDAsTCh0LHIsbikpLGUpfTtmdW5jdGlvbiBNdCh0LHIsbil7cmV0dXJuIG5ldyBmdCh0LHIsbil9TXQuY29uZmlnPWZ1bmN0aW9uKHQpe09iamVjdC5hc3NpZ24ocHQsdCl9LE10LnJhbmRvbT1mdW5jdGlvbigpe3ZhciB0PWEoMCwyNTUpLHI9YSgwLDI1NSksbj1hKDAsMjU1KTtyZXR1cm4gbmV3IGZ0KFt0LHIsbl0pfSxNdC5jb252ZXJ0b3I9WSxNdC5Db2xvcj1mdCxNdC5yZ2I9c3QsTXQuaHNsPXZ0LE10Lmhzdj1idCxNdC5oc2k9eXQsTXQuaHdiPWR0LE10Lnh5ej1ndCxNdC5sYWI9d3QsTXQubGNoPW10LE10Lm1peD1ELE10LmRlbHRhRT1ldCxNdC51dGlscz17cm91bmREZWNpbWFsOmkscmFuZG9tUmFuZ2U6YX0sTXQudXNlTmFtZXM9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZnVuY3Rpb24odCxyKXtpZih2b2lkIDAhPT1yJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByKXt2YXIgbj17fTtmb3IodmFyIGUgaW4gdCl7dmFyIG89cihlLHRbZV0pLGk9b1swXSxhPW9bMV07bltpXT1hfU9iamVjdC5hc3NpZ24oYXQsbil9ZWxzZSBPYmplY3QuYXNzaWduKGF0LHQpfSh0LHIpLE10fTtleHBvcnR7TXQgYXMgZGVmYXVsdH07XG4iLCAiaW1wb3J0IENvbG9yUGFsZXR0ZSBmcm9tIFwibWFpblwiO1xuaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBQYWxldHRlU2V0dGluZ3MgfSBmcm9tIFwicGFsZXR0ZVwiO1xuaW1wb3J0IHsgcGx1Z2luVG9QYWxldHRlU2V0dGluZ3MgfSBmcm9tIFwidXRpbHMvYmFzaWNVdGlsc1wiO1xuXG5leHBvcnQgZW51bSBEaXJlY3Rpb24ge1xuICAgIFJvdyA9ICdyb3cnLFxuICAgIENvbHVtbiA9ICdjb2x1bW4nXG59XG5cbmV4cG9ydCBlbnVtIEFsaWFzTW9kZSB7XG5cdEJvdGggPSAnQm90aCcsXG5cdEFsaWFzID0gJ1ByZWZlciBBbGlhcydcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb2xvclBhbGV0dGVTZXR0aW5ncyB7XG5cdG5vdGljZUR1cmF0aW9uOiBudW1iZXI7XG5cdGVycm9yUHVsc2U6IGJvb2xlYW47XG5cdGFsaWFzTW9kZTogQWxpYXNNb2RlO1xuXHRjb3JuZXJzOiBib29sZWFuO1xuXHRob3ZlcldoaWxlRWRpdGluZzogYm9vbGVhbjtcblx0aGVpZ2h0OiBudW1iZXI7XG5cdHdpZHRoOiBudW1iZXI7XG5cdGRpcmVjdGlvbjogRGlyZWN0aW9uLFxuXHRncmFkaWVudDogYm9vbGVhbixcblx0aG92ZXI6IGJvb2xlYW4sXG5cdG92ZXJyaWRlOiBib29sZWFuXG59XG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0U2V0dGluZ3M6IENvbG9yUGFsZXR0ZVNldHRpbmdzID0ge1xuXHRub3RpY2VEdXJhdGlvbjogMTAwMDAsXG5cdGVycm9yUHVsc2U6IHRydWUsXG5cdGFsaWFzTW9kZTogQWxpYXNNb2RlLkJvdGgsXG5cdGNvcm5lcnM6IHRydWUsXG5cdGhvdmVyV2hpbGVFZGl0aW5nOiBmYWxzZSxcblx0aGVpZ2h0OiAxNTAsXG5cdHdpZHRoOiA3MDAsXG5cdGRpcmVjdGlvbjogRGlyZWN0aW9uLkNvbHVtbixcblx0Z3JhZGllbnQ6IGZhbHNlLFxuXHRob3ZlcjogdHJ1ZSxcblx0b3ZlcnJpZGU6IGZhbHNlXG59O1xuXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBDb2xvclBhbGV0dGU7XG5cdHNldHRpbmdzOiBQYWxldHRlU2V0dGluZ3NcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBDb2xvclBhbGV0dGUpIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCkge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cdFx0bGV0IHsgc2V0dGluZ3MgfSA9IHRoaXMucGx1Z2luO1xuXHRcdHRoaXMuc2V0dGluZ3MgPSBwbHVnaW5Ub1BhbGV0dGVTZXR0aW5ncyhzZXR0aW5ncyk7XG5cblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIlBhbGV0dGUgRXJyb3IgUHVsc2VcIilcblx0XHRcdC5zZXREZXNjKFwiV2hldGhlciB0aGUgYWZmZWN0ZWQgcGFsZXR0ZSBzaG91bGQgcHVsc2Ugd2hlbiBlbmNvdW50ZXJpbmcgYW4gZXJyb3JcIilcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xuXHRcdFx0XHR0b2dnbGVcblx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLmVycm9yUHVsc2UpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRzZXR0aW5ncy5lcnJvclB1bHNlID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pXG5cdFx0XHR9KVxuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIk5vdGljZSBEdXJhdGlvblwiKVxuXHRcdFx0LnNldERlc2MoXCJIb3cgbG9uZyBlcnJvciBtZXNzYWdlcyBhcmUgc2hvdyBmb3IgaW4gc2Vjb25kcyAoMCBmb3IgaW5kZWZpbml0ZSlcIilcblx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PiB7XG5cdFx0XHRcdHRleHRcblx0XHRcdFx0LnNldFZhbHVlKChzZXR0aW5ncy5ub3RpY2VEdXJhdGlvbiAvIDEwMDApLnRvU3RyaW5nKCkpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRzZXR0aW5ncy5ub3RpY2VEdXJhdGlvbiA9IE51bWJlcih2YWx1ZSkgKiAxMDAwO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnQWxpYXMgTW9kZScpXG5cdFx0XHQuc2V0RGVzYygnV2hhdCB3aWxsIGJlIHNob3duIHdoZW4gYWxpYXNlcyBvcHRpb24gaXMgc2V0IGluIGxvY2FsIHBhbGV0dGUgb3B0aW9ucy4gRGVmYXVsdHMgdG8gc2hvd2luZyBib3RoIGhleCBhbmQgYWxpYXMuJylcblx0XHRcdC5hZGREcm9wZG93bigoZHJvcGRvd24pID0+IHtcblx0XHRcdFx0ZHJvcGRvd25cblx0XHRcdFx0LmFkZE9wdGlvbihBbGlhc01vZGUuQm90aCwgQWxpYXNNb2RlLkJvdGgpXG5cdFx0XHRcdC5hZGRPcHRpb24oQWxpYXNNb2RlLkFsaWFzLCBBbGlhc01vZGUuQWxpYXMpXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5hbGlhc01vZGUpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRzZXR0aW5ncy5hbGlhc01vZGUgPSB2YWx1ZSBhcyBBbGlhc01vZGU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pXG5cdFx0XHR9KVxuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIlBhbGV0dGUgQ29ybmVyc1wiKVxuXHRcdFx0LnNldERlc2MoXCJNaW5vciBhZXN0aGV0aWMgY2hhbmdlIHdoaWNoIHRvZ2dsZXMgd2hldGhlciB0aGUgY29ybmVycyBvbiBwYWxldHRlcyBhcmUgcm91bmRlZC5cIilcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xuXHRcdFx0XHR0b2dnbGVcblx0XHRcdFx0LnNldFZhbHVlKHNldHRpbmdzLmNvcm5lcnMpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRzZXR0aW5ncy5jb3JuZXJzID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pXG5cdFx0XHR9KVxuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIkhvdmVyIHdoaWxlIGVkaXRpbmdcIilcblx0XHRcdC5zZXREZXNjKFwiV2hldGhlciBob3ZlciBtb2RlIGlzIGFjdGl2ZSB3aGlsZSBlZGl0aW5nLlwiKVxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XG5cdFx0XHRcdHRvZ2dsZVxuXHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MuaG92ZXJXaGlsZUVkaXRpbmcpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRzZXR0aW5ncy5ob3ZlcldoaWxlRWRpdGluZyA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KVxuXHRcdFx0fSlcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicpLnNldFRleHQoJ1BhbGV0dGUgRGVmYXVsdHMnKTtcblx0XHRcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdIZWlnaHQnKVxuXHRcdFx0LmFkZFRleHQoKHRleHQpID0+IHtcblx0XHRcdFx0dGV4dFxuXHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3MuaGVpZ2h0LnRvU3RyaW5nKCkpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRzZXR0aW5ncy5oZWlnaHQgPSBOdW1iZXIodmFsdWUpO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KVxuXHRcdFx0fSlcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1dpZHRoJylcblx0XHRcdC5zZXREZXNjKCdDYXV0aW9uIC0gTWlnaHQgY2F1c2UgcGFsZXR0ZXMgdG8gZGlzcGxheSBpbmNvcnJlY3RseS4nKVxuXHRcdFx0LmFkZFRleHQoKHRleHQpID0+IHtcblx0XHRcdFx0dGV4dFxuXHRcdFx0XHQuc2V0VmFsdWUoc2V0dGluZ3Mud2lkdGgudG9TdHJpbmcoKSlcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHNldHRpbmdzLndpZHRoID0gTnVtYmVyKHZhbHVlKTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSlcblx0XHRcdH0pXG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdEaXJlY3Rpb24nKVxuXHRcdFx0LmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xuXHRcdFx0XHRkcm9wZG93blxuXHRcdFx0XHQuYWRkT3B0aW9uKERpcmVjdGlvbi5Db2x1bW4sIERpcmVjdGlvbi5Db2x1bW4pXG5cdFx0XHRcdC5hZGRPcHRpb24oRGlyZWN0aW9uLlJvdywgRGlyZWN0aW9uLlJvdylcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRpcmVjdGlvbilcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHNldHRpbmdzLmRpcmVjdGlvbiA9IHZhbHVlIGFzIERpcmVjdGlvblxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR9KVxuXHRcdFx0fSlcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0dyYWRpZW50Jylcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xuXHRcdFx0XHR0b2dnbGVcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmdyYWRpZW50KVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0c2V0dGluZ3MuZ3JhZGllbnQgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0fSlcblx0XHRcdH0pXG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKFwiSG92ZXJcIilcblx0XHRcdC5zZXREZXNjKFwiVG9nZ2xlcyB3aGV0aGVyIHBhbGV0dGVzIGNhbiBiZSBob3ZlcmVkXCIpXG5cdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcblx0XHRcdFx0dG9nZ2xlXG5cdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5ob3Zlcilcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHNldHRpbmdzLmhvdmVyID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pXG5cdFx0XHR9KVxuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIk92ZXJyaWRlXCIpXG5cdFx0XHQuc2V0RGVzYyhcIkRpc2FibGVzIGNvbG9yIHZhbGlkYXRpb24gZm9yIGZ1bGwgY29udHJvbCAoYWR2YW5jZWQpXCIpXG5cdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcblx0XHRcdFx0dG9nZ2xlXG5cdFx0XHRcdC5zZXRWYWx1ZShzZXR0aW5ncy5vdmVycmlkZSlcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHNldHRpbmdzLm92ZXJyaWRlID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdH0pXG5cdFx0XHR9KVxuXHR9XG5cblx0Ly8gQ2FsbGVkIHdoZW4gc2V0dGluZ3MgYXJlIGV4aXRlZFxuXHRoaWRlKCkge1xuXHRcdGNvbnN0IHNldHRpbmdzQ2hhbmdlZCA9IEpTT04uc3RyaW5naWZ5KHRoaXMuc2V0dGluZ3MpICE9PSBKU09OLnN0cmluZ2lmeShwbHVnaW5Ub1BhbGV0dGVTZXR0aW5ncyh0aGlzLnBsdWdpbi5zZXR0aW5ncykpO1xuXHRcdC8vIFVwZGF0ZSBwYWxldHRlcyBpZiBQYWxldHRlU2V0dGluZ3MgaGF2ZSBjaGFuZ2VkXG5cdFx0aWYgKHRoaXMucGx1Z2luPy5wYWxldHRlcyAmJiBzZXR0aW5nc0NoYW5nZWQpIHtcblx0XHRcdGZvciAobGV0IHBhbGV0dGVNUkMgb2YgdGhpcy5wbHVnaW4ucGFsZXR0ZXMpIHtcblx0XHRcdFx0cGFsZXR0ZU1SQy51cGRhdGUoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cbiIsICJpbXBvcnQgY29sb3JzZWEgZnJvbSBcImNvbG9yc2VhXCI7XHJcbmltcG9ydCB7IFBhbGV0dGVTZXR0aW5ncyB9IGZyb20gXCJwYWxldHRlXCI7XHJcbmltcG9ydCB7IENvbG9yUGFsZXR0ZVNldHRpbmdzLCBkZWZhdWx0U2V0dGluZ3MgfSBmcm9tIFwic2V0dGluZ3NcIjtcclxuXHJcbi8qKlxyXG4gKiBHZXQgc2V0dGluZ3Mgd2l0aG91dCB0aGVpciBkZWZhdWx0IHZhbHVlc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldE1vZGlmaWVkU2V0dGluZ3MgKHNldHRpbmdzOiBQYWxldHRlU2V0dGluZ3MpIHtcclxuICAgIGxldCBuZXdTZXR0aW5nczogUGFydGlhbDxQYWxldHRlU2V0dGluZ3M+ID0ge307XHJcblxyXG4gICAgZm9yKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzZXR0aW5ncykpIHtcclxuICAgICAgICBjb25zdCBkZWZhdWx0VmFsID0gZGVmYXVsdFNldHRpbmdzW2tleSBhcyBrZXlvZiBDb2xvclBhbGV0dGVTZXR0aW5nc107XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHNldHRpbmcgaXMgYSBrZXkgaW4gZGVmYXVsdFNldHRpbmdzXHJcbiAgICAgICAgaWYoa2V5IGluIGRlZmF1bHRTZXR0aW5ncykge1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBzZXR0aW5nIGlzIGVxdWFsIHRvIGRlZmF1bHQgJiBrZWVwIHNldHRpbmcgaWYgbm90IGVxdWFsXHJcbiAgICAgICAgICAgIGlmKHZhbHVlICE9PSBkZWZhdWx0VmFsKSBuZXdTZXR0aW5ncyA9IHsgLi4ubmV3U2V0dGluZ3MsIFtrZXldOiB2YWx1ZX07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFkZCBhbGwgb3RoZXIgc2V0dGluZ3Mgbm90IGRlZmluZWQgaW4gZGVmYXVsdHNcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gQnJlYWsgaWYgZW1wdHkgYXJyYXlcclxuICAgICAgICAgICAgaWYodmFsdWUgaW5zdGFuY2VvZiBBcnJheSAmJiB2YWx1ZS5sZW5ndGggPT09IDApIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBBZGQgc2V0dGluZ1xyXG4gICAgICAgICAgICBlbHNlIG5ld1NldHRpbmdzID0geyAuLi5uZXdTZXR0aW5ncywgW2tleV06IHZhbHVlIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJldHVybiBudWxsIGlmIG5ld1NldHRpbmdzIGlzIGVtcHR5XHJcbiAgICByZXR1cm4gT2JqZWN0LmtleXMobmV3U2V0dGluZ3MpLmxlbmd0aCAhPT0gMCA/IG5ld1NldHRpbmdzIDogdW5kZWZpbmVkO1xyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2tzIGlmIGFsbCBzZXR0aW5ncyBhcmUgc2V0IHRvIHRoZWlyIGRlZmF1bHQgdmFsdWVzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYXJlU2V0dGluZ3NEZWZhdWx0IChzZXR0aW5nczogUGFsZXR0ZVNldHRpbmdzIHwgQ29sb3JQYWxldHRlU2V0dGluZ3MpIHtcclxuICAgIGZvcihjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoc2V0dGluZ3MpKSB7XHJcbiAgICAgICAgLy8gSWdub3JlIHNldHRpbmdzIHRoYXQgZG9uJ3QgaGF2ZSBhIGRlZmF1bHQgY291bnRlcnBhcnRcclxuICAgICAgICBpZighKGtleSBpbiBkZWZhdWx0U2V0dGluZ3MpKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAvLyBDaGVjayBpZiBhbnkgc2V0dGluZ3MgYXJlIG5vdCBkZWZhdWx0XHJcbiAgICAgICAgaWYodmFsdWUgIT09IGRlZmF1bHRTZXR0aW5nc1trZXkgYXMga2V5b2YgQ29sb3JQYWxldHRlU2V0dGluZ3NdKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldHMgdGhlIG1vZGlmaWVkIHNldHRpbmdzIGFzIGEgc3RyaW5nXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TW9kaWZpZWRTZXR0aW5nc0FzU3RyaW5nIChzZXR0aW5nczogUGFsZXR0ZVNldHRpbmdzKSB7XHJcbiAgICBjb25zdCBtb2RkZWRTZXR0aW5ncyA9IGdldE1vZGlmaWVkU2V0dGluZ3Moc2V0dGluZ3MpO1xyXG4gICAgaWYobW9kZGVkU2V0dGluZ3MpIHJldHVybiBKU09OLnN0cmluZ2lmeShtb2RkZWRTZXR0aW5ncyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0U3RyaW5nU2V0dGluZ3Moc2V0dGluZ3M6IFBhbGV0dGVTZXR0aW5ncykge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2UoXHJcbiAgICAgICAgYHtcclxuICAgICAgICBcImhlaWdodFwiOiAke3NldHRpbmdzLmhlaWdodH0sIFxyXG4gICAgICAgIFwiZGlyZWN0aW9uXCI6IFwiJHtzZXR0aW5ncy5kaXJlY3Rpb259XCIsIFxyXG4gICAgICAgIFwiZ3JhZGllbnRcIjogJHtzZXR0aW5ncy5ncmFkaWVudH0sIFxyXG4gICAgICAgIFwiaG92ZXJcIjogJHtzZXR0aW5ncy5ob3Zlcn0sIFxyXG4gICAgICAgIFwib3ZlcnJpZGVcIjogJHtzZXR0aW5ncy5vdmVycmlkZX0sIFxyXG4gICAgICAgIFwiYWxpYXNlc1wiOiAke0pTT04uc3RyaW5naWZ5KHNldHRpbmdzLmFsaWFzZXMpfVxyXG4gICAgICAgIH1gXHJcbiAgICApXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQYXJzZSBpbnB1dCB1cmwgJiBleHRyYWN0IGNvbG9yc1xyXG4gKiBAcGFyYW0gdXJsIFVSTCBmcm9tIGNvbG9yIGlucHV0XHJcbiAqIEByZXR1cm5zIEFycmF5IG9mIGNvbG9yc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVXJsKHVybDogc3RyaW5nKSB7XHJcbiAgICAvLyBDaGVjayBpZiB1cmwgY29sb3JzIGNvbnRhaW4gZGFzaGVzIGluLWJldHdlZW5cclxuICAgIGlmKHVybC5pbmNsdWRlcygnLScpKSB7XHJcbiAgICAgICAgLy8gUmVwbGFjZSBkYXNoZXMgd2l0aCBoZXhlcyAoY29sb3JodW50KVxyXG4gICAgICAgIHJldHVybiB1cmwuc3Vic3RyaW5nKHVybC5sYXN0SW5kZXhPZignLycpICsgMSkuc3BsaXQoJy0nKS5tYXAoaSA9PiAnIycgKyBpKTtcclxuICAgIH1cclxuICAgIC8vIEFkZCBoZXggYmV0d2VlbiBVUkwgcGF0aCBjb2xvcnMgKGNvb2xvcnMpXHJcbiAgICBlbHNlIHJldHVybiB1cmwuc3Vic3RyaW5nKHVybC5sYXN0SW5kZXhPZignLycpICsgMSkubWF0Y2goLy57MSw2fS9nKT8ubWFwKGkgPT4gJyMnICsgaSkgfHwgW107XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyBDb2xvclBhbGV0dGUgcGx1Z2luIHNldHRpbmdzIHRvIFBhbGV0dGUgc2V0dGluZ3NcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBwbHVnaW5Ub1BhbGV0dGVTZXR0aW5ncyhwbHVnaW5TZXR0aW5nczogQ29sb3JQYWxldHRlU2V0dGluZ3MpOiBQYWxldHRlU2V0dGluZ3Mge1xyXG4gICAgcmV0dXJuIHsgXHJcbiAgICAgICAgaGVpZ2h0OiBwbHVnaW5TZXR0aW5ncy5oZWlnaHQsIFxyXG4gICAgICAgIHdpZHRoOiBwbHVnaW5TZXR0aW5ncy53aWR0aCwgXHJcbiAgICAgICAgZGlyZWN0aW9uOiBwbHVnaW5TZXR0aW5ncy5kaXJlY3Rpb24sIFxyXG4gICAgICAgIGdyYWRpZW50OiBwbHVnaW5TZXR0aW5ncy5ncmFkaWVudCwgXHJcbiAgICAgICAgaG92ZXI6IHBsdWdpblNldHRpbmdzLmhvdmVyLCBcclxuICAgICAgICBvdmVycmlkZTogcGx1Z2luU2V0dGluZ3Mub3ZlcnJpZGUsIFxyXG4gICAgICAgIGFsaWFzZXM6IFtdIFxyXG4gICAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBjb2RlYmxvY2sgcGFsZXR0ZVxyXG4gKiBAcGFyYW0gaW5wdXQgRWl0aGVyIHBhbGV0dGUgaW5wdXQgb3IgY29sb3JzICYgc2V0dGluZ3Mgb2JqZWN0XHJcbiAqIEByZXR1cm5zIHBhbGV0dGUgYmxvY2sgc3RyaW5nXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUGFsZXR0ZUJsb2NrKGlucHV0OiB7IGNvbG9yczogc3RyaW5nW10sc2V0dGluZ3M/OiBQYXJ0aWFsPFBhbGV0dGVTZXR0aW5ncz4gfSB8IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBpZih0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSByZXR1cm4gYFxcYFxcYFxcYHBhbGV0dGVcXG4ke2lucHV0fVxcblxcYFxcYFxcYFxcbmA7XHJcbiAgICBlbHNlIHJldHVybiBpbnB1dC5zZXR0aW5ncyA/IGBcXGBcXGBcXGBwYWxldHRlXFxuJHtpbnB1dC5jb2xvcnMudG9OU3RyaW5nKCl9XFxuJHtKU09OLnN0cmluZ2lmeShpbnB1dC5zZXR0aW5ncyl9XFxuXFxgXFxgXFxgXFxuYCA6IGBcXGBcXGBcXGBwYWxldHRlXFxuJHtpbnB1dC5jb2xvcnMudG9OU3RyaW5nKCl9XFxuXFxgXFxgXFxgXFxuYDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEdldHMgdGhlIGFwcHJvcHJpYXRlIGZvcmVncm91bmQgY29udHJhc3QgY29sb3JcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRGb3JlZ3JvdW5kQ29sb3IoY29sb3I6IFJldHVyblR5cGU8dHlwZW9mIGNvbG9yc2VhPik6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gKGNvbG9yLnJnYigpWzBdKjAuMjk5ICsgY29sb3IucmdiKClbMV0qMC41ODcgKyBjb2xvci5yZ2IoKVsyXSowLjExNCkgPiAxODYgPyAnIzAwMDAwMCcgOiAnI2ZmZmZmZic7XHJcbn0iLCAiaW1wb3J0IGNvbG9yc2VhIGZyb20gXCJjb2xvcnNlYVwiO1xyXG5pbXBvcnQgeyBCdXR0b25Db21wb25lbnQgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgQWxpYXNNb2RlLCBEaXJlY3Rpb24gfSBmcm9tIFwic2V0dGluZ3NcIjtcclxuaW1wb3J0IHsgZ2V0Rm9yZWdyb3VuZENvbG9yIH0gZnJvbSBcInV0aWxzL2Jhc2ljVXRpbHNcIjtcclxuXHJcbnR5cGUgUGFsZXR0ZUl0ZW1TZXR0aW5ncyA9IHtcclxuICAgIGFsaWFzTW9kZTogQWxpYXNNb2RlLFxyXG4gICAgaG92ZXJXaGlsZUVkaXRpbmc6IGJvb2xlYW4sXHJcbiAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgIGRpcmVjdGlvbjogRGlyZWN0aW9uLFxyXG4gICAgaG92ZXI6IGJvb2xlYW4sXHJcbiAgICBhbGlhczogc3RyaW5nLFxyXG4gICAgZWRpdE1vZGU6IGJvb2xlYW4sXHJcbiAgICBjb2xvckNvdW50OiBudW1iZXIsXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQYWxldHRlSXRlbSB7XHJcbiAgICBjb250YWluZXI6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgY29sb3I6IHN0cmluZztcclxuICAgIHNldHRpbmdzOiBQYWxldHRlSXRlbVNldHRpbmdzO1xyXG4gICAgcHJpdmF0ZSBvbkNsaWNrOiAoZTogTW91c2VFdmVudCkgPT4gdm9pZDtcclxuICAgIHByaXZhdGUgb25UcmFzaDogKGU6IE1vdXNlRXZlbnQpID0+IHZvaWQ7XHJcbiAgICBwcml2YXRlIG9uQWxpYXM6IChhbGlhczogc3RyaW5nKSA9PiB2b2lkO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcjogSFRNTEVsZW1lbnQsIGNvbG9yOiBzdHJpbmcsIHNldHRpbmdzOiBQYWxldHRlSXRlbVNldHRpbmdzLCBvbkNsaWNrOiAoZTogTW91c2VFdmVudCkgPT4gdm9pZCwgb25UcmFzaDogKGU6IE1vdXNlRXZlbnQpID0+IHZvaWQsIG9uQWxpYXM6IChhbGlhczogc3RyaW5nKSA9PiB2b2lkKXtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lci5jcmVhdGVFbCgnZGl2Jyk7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yLnRyaW0oKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3M7XHJcbiAgICAgICAgdGhpcy5vbkNsaWNrID0gb25DbGljaztcclxuICAgICAgICB0aGlzLm9uVHJhc2ggPSBvblRyYXNoO1xyXG4gICAgICAgIHRoaXMub25BbGlhcyA9IG9uQWxpYXM7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbG9hZCgpIHtcclxuICAgICAgICBjb25zdCBjc0NvbG9yID0gY29sb3JzZWEodGhpcy5jb2xvcik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gc2V0IC0tcGFsZXR0ZS1iYWNrZ3JvdW5kLWNvbG9yIGNzcyB2YXJpYWJsZVxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KCctLXBhbGV0dGUtYmFja2dyb3VuZC1jb2xvcicsIHRoaXMuY29sb3IpO1xyXG4gICAgICAgIC8vIHNldCAtLXBhbGV0dGUtY29sdW1uLWZsZXgtYmFzaXMgY3NzIHZhcmlhYmxlXHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoJy0tcGFsZXR0ZS1jb2x1bW4tZmxleC1iYXNpcycsICh0aGlzLnNldHRpbmdzLmhlaWdodCAvIHRoaXMuc2V0dGluZ3MuY29sb3JDb3VudCAvIDIpLnRvU3RyaW5nKCkgKyAncHgnKTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IGluY29tcGF0aWJsZVNldHRpbmdzID0gdGhpcy5zZXR0aW5ncy5kaXJlY3Rpb24gPT09IERpcmVjdGlvbi5Sb3c7XHJcbiAgICAgICAgLy8gQ3JlYXRlIGlmIGVkaXQgbW9kZSBpcyBhY3RpdmUgJiBpZiB0aGVyZSBhcmUgaW5jb21wYXRpYmxlU2V0dGluZ3NcclxuICAgICAgICBpZih0aGlzLnNldHRpbmdzLmVkaXRNb2RlICYmICFpbmNvbXBhdGlibGVTZXR0aW5ncykge1xyXG4gICAgICAgICAgICBuZXcgRWRpdE1vZGUodGhpcy5jb250YWluZXIsIHRoaXMuY29sb3IsIHRoaXMuc2V0dGluZ3MsIChlKSA9PiB0aGlzLm9uVHJhc2goZSksIChhbGlhcykgPT4gdGhpcy5vbkFsaWFzKGFsaWFzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBEaXNwbGF5IGhleCBpZiBhbGlhcyBtb2RlIGlzIHNldCB0byBib3RoIE9SIGlmIGFsaWFzIGlzIG5vdCBzZXRcclxuICAgICAgICAgICAgaWYodGhpcy5zZXR0aW5ncy5hbGlhc01vZGUgPT09IEFsaWFzTW9kZS5Cb3RoIHx8IHRoaXMuc2V0dGluZ3MuYWxpYXMgPT0gbnVsbCB8fCB0aGlzLnNldHRpbmdzLmFsaWFzLnRyaW0oKSA9PT0gJycpe1xyXG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkVGV4dCA9IHRoaXMuY29udGFpbmVyLmNyZWF0ZUVsKCdzcGFuJywgeyB0ZXh0OiB0aGlzLmNvbG9yLnRvVXBwZXJDYXNlKCkgfSk7XHJcbiAgICAgICAgICAgICAgICBjaGlsZFRleHQuc3R5bGUuc2V0UHJvcGVydHkoJy0tcGFsZXR0ZS1jb2xvcicsIGdldEZvcmVncm91bmRDb2xvcihjc0NvbG9yKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBjaGlsZEFsaWFzID0gdGhpcy5jb250YWluZXIuY3JlYXRlRWwoJ3NwYW4nLCB7IHRleHQ6IHRoaXMuc2V0dGluZ3MuYWxpYXMgfSk7XHJcbiAgICAgICAgICAgIGNoaWxkQWxpYXMuc3R5bGUuc2V0UHJvcGVydHkoJy0tcGFsZXR0ZS1jb2xvcicsIGdldEZvcmVncm91bmRDb2xvcihjc0NvbG9yKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB0aGlzLm9uQ2xpY2soZSkpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBFZGl0TW9kZSB7XHJcbiAgICBjb250YWluZXI6IEhUTUxEaXZFbGVtZW50O1xyXG4gICAgc3BhbjogSFRNTFNwYW5FbGVtZW50O1xyXG4gICAgdHJhc2g6IEJ1dHRvbkNvbXBvbmVudDtcclxuICAgIHN0b3JlZEFsaWFzOiBzdHJpbmc7XHJcbiAgICBjb2xvcjogc3RyaW5nO1xyXG4gICAgc2V0dGluZ3M6IFBhbGV0dGVJdGVtU2V0dGluZ3M7XHJcbiAgICBwcml2YXRlIG9uVHJhc2g6IChlOiBNb3VzZUV2ZW50KSA9PiB2b2lkO1xyXG4gICAgcHJpdmF0ZSBvbkFsaWFzOiAoYWxpYXM6IHN0cmluZykgPT4gdm9pZDtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb2xvckNvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQsIGNvbG9yOiBzdHJpbmcsIHNldHRpbmdzOiBQYWxldHRlSXRlbVNldHRpbmdzLCBvblRyYXNoOiAoZTogTW91c2VFdmVudCkgPT4gdm9pZCwgb25BbGlhczogKGFsaWFzOiBzdHJpbmcpID0+IHZvaWQpIHtcclxuICAgICAgICB0aGlzLmNvbG9yID0gY29sb3I7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xyXG4gICAgICAgIHRoaXMub25UcmFzaCA9IG9uVHJhc2g7XHJcbiAgICAgICAgdGhpcy5vbkFsaWFzID0gb25BbGlhcztcclxuXHJcbiAgICAgICAgY29uc3QgY3NDb2xvciA9IGNvbG9yc2VhKGNvbG9yKTtcclxuICAgICAgICBjb25zdCBjb250cmFzdENvbG9yID0gZ2V0Rm9yZWdyb3VuZENvbG9yKGNzQ29sb3IpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbG9yQ29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZUVsKCdkaXYnKSk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ2xhc3MoJ2VkaXQtY29udGFpbmVyJyk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoJy0tZWRpdC1iYWNrZ3JvdW5kLWNvbG9yJywgY29sb3IpO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnN0eWxlLnNldFByb3BlcnR5KCctLWVkaXQtY29sb3InLCBjb250cmFzdENvbG9yKTtcclxuXHJcbiAgICAgICAgdGhpcy5zcGFuID0gdGhpcy5jb250YWluZXIuY3JlYXRlRWwoJ3NwYW4nKTtcclxuICAgICAgICB0aGlzLnNwYW4uc2V0VGV4dChzZXR0aW5ncy5hbGlhcyB8fCBjb2xvci50b1VwcGVyQ2FzZSgpKTtcclxuICAgICAgICB0aGlzLnNwYW4uc3R5bGUuc2V0UHJvcGVydHkoJy0tZWRpdC1mb250LXNpemUnLCBgJHt0aGlzLmdldEFkanVzdGVkRm9udFNpemUoc2V0dGluZ3MuY29sb3JDb3VudCl9cHhgKTtcclxuXHJcbiAgICAgICAgdGhpcy50cmFzaCA9IG5ldyBCdXR0b25Db21wb25lbnQodGhpcy5jb250YWluZXIpXHJcbiAgICAgICAgICAgIC5zZXRJY29uKCd0cmFzaC0yJylcclxuICAgICAgICAgICAgLnNldFRvb2x0aXAoJ1JlbW92ZScpXHJcbiAgICAgICAgICAgIC5vbkNsaWNrKChlKSA9PiB0aGlzLm9uVHJhc2goZSkpXHJcbiAgICAgICAgdGhpcy50cmFzaC5idXR0b25FbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRyYXNoLnNldEN0YSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy50cmFzaC5idXR0b25FbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudHJhc2gucmVtb3ZlQ3RhKCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgLy8gRm9jdXMgY29sb3IgJiBhbGxvdyBmb3IgZWRpdGluZyBhbGlhc1xyXG4gICAgICAgIHRoaXMuc3Bhbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0RWRpdGFibGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3Bhbi5mb2N1cygpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5zcGFuLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGUpID0+IHtcclxuICAgICAgICAgICAgaWYoZS5rZXkgPT09ICdFbnRlcicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0QWxpYXMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0RWRpdGFibGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAvLyBTZXQgYWxpYXMgaWYgY2hhbmdlZCAmIGRlLWZvY3VzXHJcbiAgICAgICAgdGhpcy5zcGFuLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgKGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZXRBbGlhcygpO1xyXG4gICAgICAgICAgICB0aGlzLnNldEVkaXRhYmxlKGZhbHNlKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuc3RvcmVkQWxpYXMgPSB0aGlzLnNwYW4uZ2V0VGV4dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEFsaWFzKCkge1xyXG4gICAgICAgIC8vIFJlc2V0IHNwYW4gdGV4dCB0byBvcmlnaW5hbCBpZiB1c2VyIGxlZnQgaXQgZW1wdHlcclxuICAgICAgICBpZih0aGlzLnNwYW4uZ2V0VGV4dCgpLnRyaW0oKSA9PT0gJycpIHRoaXMuc3Bhbi5zZXRUZXh0KHRoaXMuc3RvcmVkQWxpYXMpO1xyXG4gICAgICAgIC8vIFNldCBhbGlhcyBjb2xvciBpZiB1c2VyIG1vZGlmaWVkIHRleHRcclxuICAgICAgICBlbHNlIGlmKHRoaXMuc3Bhbi5nZXRUZXh0KCkgIT09IHRoaXMuY29sb3IpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5hbGlhcyA9IHRoaXMuc3Bhbi5nZXRUZXh0KCk7XHJcbiAgICAgICAgICAgIHRoaXMub25BbGlhcyh0aGlzLnNldHRpbmdzLmFsaWFzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RWRpdGFibGUoZWRpdGFibGU6IGJvb2xlYW4pIHtcclxuICAgICAgICBpZihlZGl0YWJsZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLnN0b3JlZEFsaWFzID0gdGhpcy5zcGFuLmdldFRleHQoKTtcclxuICAgICAgICAgICAgdGhpcy5zcGFuLnNldFRleHQoJycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNwYW4uY29udGVudEVkaXRhYmxlID0gYCR7ZWRpdGFibGV9YDtcclxuICAgICAgICB0aGlzLnNwYW4udG9nZ2xlQ2xhc3MoJ2NvbG9yLXNwYW4tZWRpdGFibGUnLCBlZGl0YWJsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxjdWxhdGUgZm9udCBzaXplIGJhc2VkIG9uIG51bWJlciBvZiBjb2xvcnNcclxuICAgICAqL1xyXG4gICAgZ2V0QWRqdXN0ZWRGb250U2l6ZShjb2xvcnNDb3VudDogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc3QgbWluRm9udFNpemUgPSAxMDtcclxuICAgICAgICBjb25zdCBiYXNlRm9udFNpemUgPSAxNjtcclxuICAgICAgICByZXR1cm4gTWF0aC5tYXgobWluRm9udFNpemUsIGJhc2VGb250U2l6ZSAtIGNvbG9yc0NvdW50KTtcclxuICAgIH1cclxufSIsICJpbnRlcmZhY2UgUmVzdWx0IHtcclxuICAgIGJlZm9yZUVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsXHJcbiAgICBpbnNlcnRlZEVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsXHJcbiAgICBhZnRlckVsZW1lbnQ6IEVsZW1lbnQgfCBudWxsXHJcbiAgICBvcmRlcjogRWxlbWVudFtdXHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBEcmFnRHJvcCB7XHJcblx0ZHJvcHpvbmVzOiBFbGVtZW50W107XHJcblx0ZHJhZ2dhYmxlczogRWxlbWVudFtdO1xyXG4gICAgcmVzdWx0OiBSZXN1bHQ7XHJcbiAgICBvbkRyb3A6IChlOiBEcmFnRXZlbnQsIHJlczogUmVzdWx0KSA9PiB2b2lkO1xyXG4gICAgXHJcblx0Y29uc3RydWN0b3IoZHJvcHpvbmVzOiBFbGVtZW50W10sIGRyYWdnYWJsZXM6IEVsZW1lbnRbXSwgb25Ecm9wOiAoZTogRHJhZ0V2ZW50LCByZXM6IFJlc3VsdCkgPT4gdm9pZCkge1xyXG4gICAgICAgIHRoaXMuZHJvcHpvbmVzID0gZHJvcHpvbmVzO1xyXG4gICAgICAgIHRoaXMuZHJhZ2dhYmxlcyA9IGRyYWdnYWJsZXM7XHJcbiAgICAgICAgdGhpcy5yZXN1bHQgPSB7IGJlZm9yZUVsZW1lbnQ6IG51bGwsIGluc2VydGVkRWxlbWVudDogbnVsbCwgYWZ0ZXJFbGVtZW50OiBudWxsLCBvcmRlcjogdGhpcy5kcmFnZ2FibGVzIH07XHJcbiAgICAgICAgdGhpcy5vbkRyb3AgPSBvbkRyb3A7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZCgpO1xyXG5cdH1cclxuXHJcbiAgICBwcml2YXRlIGRyYWdTdGFydChkcmFnZ2FibGU6IEVsZW1lbnQsIGU6IERyYWdFdmVudCkge1xyXG4gICAgICAgIGRyYWdnYWJsZS50b2dnbGVDbGFzcygnaXMtZHJhZ2dpbmcnLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRyYWdPdmVyKGRyb3B6b25lOiBFbGVtZW50LCBlOiBEcmFnRXZlbnQpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdGhpcy5yZXN1bHQuYmVmb3JlRWxlbWVudCA9IHRoaXMuZ2V0RHJhZ0JlZm9yZUVsZW1lbnQoZS5jbGllbnRYKTtcclxuICAgICAgICB0aGlzLnJlc3VsdC5pbnNlcnRlZEVsZW1lbnQgPSB0aGlzLmdldERyYWdnaW5nRWxlbWVudCgpO1xyXG4gICAgICAgIHRoaXMucmVzdWx0LmFmdGVyRWxlbWVudCA9IHRoaXMuZ2V0RHJhZ0FmdGVyRWxlbWVudChlLmNsaWVudFgpO1xyXG5cclxuXHJcbiAgICAgICAgY29uc3QgaW5zZXJ0ZWRJbmRleCA9IHRoaXMuZHJhZ2dhYmxlcy5pbmRleE9mKHRoaXMucmVzdWx0Lmluc2VydGVkRWxlbWVudCk7XHJcblxyXG4gICAgICAgIC8vIElmIGF0IHRoZSBlbmQgb2YgZHJhZ2dhYmxlc1xyXG4gICAgICAgIGlmICh0aGlzLnJlc3VsdC5hZnRlckVsZW1lbnQgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgLy8gQXBwZW5kIGVsZW1lbnRcclxuICAgICAgICAgICAgZHJvcHpvbmUuYXBwZW5kQ2hpbGQodGhpcy5yZXN1bHQuaW5zZXJ0ZWRFbGVtZW50KTtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGVsZW1lbnQgZnJvbSBvcmRlclxyXG4gICAgICAgICAgICB0aGlzLnJlc3VsdC5vcmRlci5zcGxpY2UoaW5zZXJ0ZWRJbmRleCwgMSk7XHJcbiAgICAgICAgICAgIC8vIEFkZCB0byBlbmQgb2Ygb3JkZXJcclxuICAgICAgICAgICAgdGhpcy5yZXN1bHQub3JkZXIucHVzaCh0aGlzLnJlc3VsdC5pbnNlcnRlZEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gUGxhY2UgZWxlbWVudCBiZXR3ZWVuXHJcbiAgICAgICAgICAgIGRyb3B6b25lLmluc2VydEJlZm9yZSh0aGlzLnJlc3VsdC5pbnNlcnRlZEVsZW1lbnQsIHRoaXMucmVzdWx0LmFmdGVyRWxlbWVudCk7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBlbGVtZW50IGZyb20gb3JkZXJcclxuICAgICAgICAgICAgdGhpcy5yZXN1bHQub3JkZXIuc3BsaWNlKGluc2VydGVkSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGFmdGVyIGluZGV4LCBwb3N0IGVsZW1lbnQgcmVtb3ZhbFxyXG4gICAgICAgICAgICBjb25zdCBhZnRlckluZGV4ID0gdGhpcy5kcmFnZ2FibGVzLmluZGV4T2YodGhpcy5yZXN1bHQuYWZ0ZXJFbGVtZW50KTtcclxuICAgICAgICAgICAgLy8gSW5zZXJ0IHRoZSBlbGVtZW50IGJlZm9yZSB0aGUgYWZ0ZXIgaW5kZXhcclxuICAgICAgICAgICAgdGhpcy5yZXN1bHQub3JkZXIuc3BsaWNlKGFmdGVySW5kZXgsIDAsIHRoaXMucmVzdWx0Lmluc2VydGVkRWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZHJhZ0VuZChkcmFnZ2FibGU6IEVsZW1lbnQsIGU6IERyYWdFdmVudCkge1xyXG4gICAgICAgIGRyYWdnYWJsZS50b2dnbGVDbGFzcygnaXMtZHJhZ2dpbmcnLCBmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5vbkRyb3AoZSwgdGhpcy5yZXN1bHQpO1xyXG4gICAgICAgIHRoaXMucmVzdWx0ID0geyBiZWZvcmVFbGVtZW50OiBudWxsLCBpbnNlcnRlZEVsZW1lbnQ6IG51bGwsIGFmdGVyRWxlbWVudDogbnVsbCwgb3JkZXI6IHRoaXMuZHJhZ2dhYmxlcyB9O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsb2FkKCkge1xyXG4gICAgICAgIGZvcihsZXQgZHJhZ2dhYmxlIG9mIHRoaXMuZHJhZ2dhYmxlcykge1xyXG4gICAgICAgICAgICAvLyBJbXBvcnRhbnQsIHNvIHRoYXQgYWxsIHR5cGVzIG9mIGVsZW1lbnRzIGNhbiBiZSBkcmFnZ2VkLCBpbmNsdWRpbmcgZGl2cyAmIHNwYW5zXHJcbiAgICAgICAgICAgIGRyYWdnYWJsZS5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsIFwidHJ1ZVwiKTtcclxuXHJcbiAgICAgICAgICAgIGRyYWdnYWJsZS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ3N0YXJ0XCIsIChlOiBEcmFnRXZlbnQpID0+IHRoaXMuZHJhZ1N0YXJ0KGRyYWdnYWJsZSwgZSkpO1xyXG4gICAgICAgICAgICBkcmFnZ2FibGUuYWRkRXZlbnRMaXN0ZW5lcihcImRyYWdlbmRcIiwgKGU6IERyYWdFdmVudCkgPT4gdGhpcy5kcmFnRW5kKGRyYWdnYWJsZSwgZSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yKGxldCBkcm9wem9uZSBvZiB0aGlzLmRyb3B6b25lcykge1xyXG4gICAgICAgICAgICBkcm9wem9uZS5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwgKGU6IERyYWdFdmVudCkgPT4gdGhpcy5kcmFnT3Zlcihkcm9wem9uZSwgZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdW5sb2FkKCkge1xyXG4gICAgICAgIGZvcihsZXQgZHJhZ2dhYmxlIG9mIHRoaXMuZHJhZ2dhYmxlcykge1xyXG4gICAgICAgICAgICBkcmFnZ2FibGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJhZ3N0YXJ0JywgKGU6IERyYWdFdmVudCkgPT4gdGhpcy5kcmFnU3RhcnQoZHJhZ2dhYmxlLCBlKSk7XHJcbiAgICAgICAgICAgIGRyYWdnYWJsZS5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgKGU6IERyYWdFdmVudCkgPT4gdGhpcy5kcmFnRW5kKGRyYWdnYWJsZSwgZSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yKGxldCBkcm9wem9uZSBvZiB0aGlzLmRyb3B6b25lcykge1xyXG4gICAgICAgICAgICBkcm9wem9uZS5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlOiBEcmFnRXZlbnQpID0+IHRoaXMuZHJhZ092ZXIoZHJvcHpvbmUsIGUpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcmV0dXJucyBUaGUgZWxlbWVudCB3aGljaCBpcyBiZWluZyBkcmFnZ2VkXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXREcmFnZ2luZ0VsZW1lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZHJhZ2dhYmxlcy5maWx0ZXIoKGRyYWdnYWJsZSkgPT4gZHJhZ2dhYmxlLmhhc0NsYXNzKCdpcy1kcmFnZ2luZycpKVswXTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEByZXR1cm5zIEFsbCBkcmFnZ2FibGUgZWxlbWVudHMgbm90IGJlaW5nIGRyYWdnZWRcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldERyYWdnYWJsZUVsZW1lbnRzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRyYWdnYWJsZXMuZmlsdGVyKChkcmFnZ2FibGUpID0+ICFkcmFnZ2FibGUuaGFzQ2xhc3MoJ2lzLWRyYWdnaW5nJykpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgY2xvc2VzdCBlbGVtZW50IGJlZm9yZSB0aGUgZHJhZ2dlZCBlbGVtZW50XHJcbiAgICAgKi9cclxuXHRwcml2YXRlIGdldERyYWdCZWZvcmVFbGVtZW50KHg6IG51bWJlcikge1xyXG5cdFx0cmV0dXJuIHRoaXMuZ2V0RHJhZ2dhYmxlRWxlbWVudHMoKS5yZWR1Y2UoKGNsb3Nlc3QsIGNoaWxkKSA9PiB7XHJcblx0XHRcdFx0Y29uc3QgcmVjdCA9IGNoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGVmdFBvc2l0aW9uID0geCAtIHJlY3QubGVmdDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhhbGZDaGlsZFdpZHRoID0gcmVjdC53aWR0aCAvIDI7XHJcblxyXG5cdFx0XHRcdGNvbnN0IG9mZnNldCA9IGxlZnRQb3NpdGlvbiAtIGhhbGZDaGlsZFdpZHRoO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFJldHVybiB0aGUgY2xvc2VzdCBlbGVtZW50IHRvIHRoZSByaWdodCBvZiB0aGUgY3Vyc29yXHJcblx0XHRcdFx0aWYgKG9mZnNldCA+IDAgJiYgb2Zmc2V0IDwgY2xvc2VzdC5vZmZzZXQpIHJldHVybiB7IG9mZnNldCwgZWxlbWVudDogY2hpbGQgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSByZXR1cm4gY2xvc2VzdDtcclxuICAgICAgICAgICAgfSwgXHJcbiAgICAgICAgICAgIC8vIEluaXRpYWwgY2xvc2VzdCB2YWx1ZVxyXG4gICAgICAgICAgICB7IG9mZnNldDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCBlbGVtZW50OiBudWxsIH1cclxuICAgICAgICApXHJcbiAgICAgICAgLmVsZW1lbnQ7XHJcblx0fVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgY2xvc2VzdCBlbGVtZW50IGFmdGVyIHRoZSBkcmFnZ2VkIGVsZW1lbnRcclxuICAgICAqL1xyXG5cdHByaXZhdGUgZ2V0RHJhZ0FmdGVyRWxlbWVudCh4OiBudW1iZXIpIHtcclxuXHRcdHJldHVybiB0aGlzLmdldERyYWdnYWJsZUVsZW1lbnRzKCkucmVkdWNlKChjbG9zZXN0LCBjaGlsZCkgPT4ge1xyXG5cdFx0XHRcdGNvbnN0IHJlY3QgPSBjaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxlZnRQb3NpdGlvbiA9IHggLSByZWN0LmxlZnQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoYWxmQ2hpbGRXaWR0aCA9IHJlY3Qud2lkdGggLyAyO1xyXG5cclxuXHRcdFx0XHRjb25zdCBvZmZzZXQgPSBsZWZ0UG9zaXRpb24gLSBoYWxmQ2hpbGRXaWR0aDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gdGhlIGNsb3Nlc3QgZWxlbWVudCB0byB0aGUgbGVmdCBvZiB0aGUgY3Vyc29yXHJcblx0XHRcdFx0aWYgKG9mZnNldCA8IDAgJiYgb2Zmc2V0ID4gY2xvc2VzdC5vZmZzZXQpIHJldHVybiB7IG9mZnNldCwgZWxlbWVudDogY2hpbGQgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSByZXR1cm4gY2xvc2VzdDtcclxuICAgICAgICAgICAgfSwgXHJcbiAgICAgICAgICAgIC8vIEluaXRpYWwgY2xvc2VzdCB2YWx1ZVxyXG4gICAgICAgICAgICB7IG9mZnNldDogTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLCBlbGVtZW50OiBudWxsIH1cclxuICAgICAgICApXHJcbiAgICAgICAgLmVsZW1lbnQ7XHJcblx0fVxyXG59XHJcbiIsICJpbXBvcnQgY29sb3JzZWEgZnJvbSBcImNvbG9yc2VhXCI7XHJcbmltcG9ydCB7IFBhbGV0dGVTZXR0aW5ncyB9IGZyb20gXCJwYWxldHRlXCI7XHJcblxyXG5leHBvcnQgZW51bSBDb21iaW5hdGlvbiB7XHJcbiAgICBDb21wbGltZW50YXJ5ID0gXCJDb21wbGltZW50YXJ5XCIsXHJcbiAgICBNb25vY2hyb21hdGljID0gXCJNb25vY2hyb21hdGljXCIsXHJcbiAgICBBbmFsb2dvdXMgPSBcIkFuYWxvZ291c1wiLFxyXG4gICAgVHJpYWRpYyA9IFwiVHJpYWRpY1wiLFxyXG4gICAgVGV0cmFkaWMgPSBcIlRldHJhZGljXCIsXHJcbiAgICBSYW5kb20gPSBcIlJhbmRvbVwiXHJcbn1cclxuXHJcbnR5cGUgT3B0aW9uYWxQYXJhbXMgPSB7XHJcbiAgICBiYXNlQ29sb3I/OiBSZXR1cm5UeXBlPHR5cGVvZiBjb2xvcnNlYT5cclxuICAgIHNldHRpbmdzPzogUGFsZXR0ZVNldHRpbmdzXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBjb2xvcnMgYmFzZWQgb24gY29sb3IgdGhlb3J5XHJcbiAqIEBwYXJhbSBiYXNlQ29sb3IgSW5pdGlhbCBjb2xvciB0byBnZW5lcmF0ZSB0aGUgcmVzdCBmcm9tXHJcbiAqIEBwYXJhbSBjb21iaW5hdGlvbiBUaGUgdHlwZSBvZiBjb2xvciB0aGVvcnkgY29tYmluYXRpb24gdG8gdXNlXHJcbiAqIEBwYXJhbSBzZXR0aW5ncyBUaGUgc2V0dGluZ3MgZm9yIHRoZSBwYWxldHRlXHJcbiAqIEByZXR1cm5zIEdlbmVyYXRlZCBjb2xvcnMgJiBzZXR0aW5nc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlQ29sb3JzKGNvbWJpbmF0aW9uOiBDb21iaW5hdGlvbiwgb3B0aW9uYWw6IE9wdGlvbmFsUGFyYW1zID0geyBiYXNlQ29sb3I6IGNvbG9yc2VhLnJhbmRvbSgpIH0pIHtcclxuICAgIGxldCB7IGJhc2VDb2xvciwgc2V0dGluZ3MgfSA9IG9wdGlvbmFsO1xyXG4gICAgLy8gTmV2ZXIgY2FsbGVkIGJlY2F1c2UgYmFzZUNvbG9yIGlzIHNldCBieSBkZWZhdWx0IGluIHBhcmFtZXRlcnNcclxuICAgIGlmKCFiYXNlQ29sb3IpIGJhc2VDb2xvciA9IGNvbG9yc2VhLnJhbmRvbSgpO1xyXG4gICAgbGV0IGNvbG9yczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICBzd2l0Y2goY29tYmluYXRpb24pIHtcclxuICAgICAgICBjYXNlIENvbWJpbmF0aW9uLkNvbXBsaW1lbnRhcnk6XHJcbiAgICAgICAgICAgIGNvbG9ycyA9IFtiYXNlQ29sb3IuaGV4KCksIGJhc2VDb2xvci5jb21wbGVtZW50KCkuaGV4KCldO1xyXG4gICAgICAgICAgICBpZihzZXR0aW5ncykgc2V0dGluZ3MuYWxpYXNlcyA9IFsnQmFzZScsICdDb21wbGltZW50YXJ5IENvbG9yJ107XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQ29tYmluYXRpb24uTW9ub2Nocm9tYXRpYzpcclxuICAgICAgICAgICAgY29uc3QgbGlnaHRlc3QgPSBiYXNlQ29sb3IubGlnaHRlbigyMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpZ2h0ZXIgPSBiYXNlQ29sb3IubGlnaHRlbigxMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhcmtlciA9IGJhc2VDb2xvci5kYXJrZW4oMTApO1xyXG4gICAgICAgICAgICBjb25zdCBkYXJrZXN0ID0gYmFzZUNvbG9yLmRhcmtlbigyMCk7XHJcbiAgICAgICAgICAgIGNvbG9ycyA9IFtsaWdodGVzdC5oZXgoKSwgbGlnaHRlci5oZXgoKSwgYmFzZUNvbG9yLmhleCgpLCBkYXJrZXIuaGV4KCksIGRhcmtlc3QuaGV4KCldO1xyXG4gICAgICAgICAgICBpZihzZXR0aW5ncykgc2V0dGluZ3MuYWxpYXNlcyA9IFsnTGlnaHRlc3QnLCAnTGlnaHRlcicsICdCYXNlJywgJ0RhcmtlcicsICdEYXJrZXN0J107XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQ29tYmluYXRpb24uQW5hbG9nb3VzOlxyXG4gICAgICAgICAgICBjb25zdCBlYXN0ID0gYmFzZUNvbG9yLmFkanVzdEh1ZSgtMjUpO1xyXG4gICAgICAgICAgICBjb25zdCB3ZXN0ID0gYmFzZUNvbG9yLmFkanVzdEh1ZSgyNSk7XHJcbiAgICAgICAgICAgIGNvbG9ycyA9IFtlYXN0LmhleCgpLCBiYXNlQ29sb3IuaGV4KCksIHdlc3QuaGV4KCldO1xyXG4gICAgICAgICAgICBpZihzZXR0aW5ncykgc2V0dGluZ3MuYWxpYXNlcyA9IFsnQW5hbG9nb3VzIEVhc3QnLCAnQmFzZScsICdBbmFsb2dvdXMgV2VzdCddO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIENvbWJpbmF0aW9uLlRyaWFkaWM6XHJcbiAgICAgICAgICAgIGNvbnN0IGhleDEyMCA9IGJhc2VDb2xvci5zcGluKDEyMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGhleDI0MCA9IGJhc2VDb2xvci5zcGluKDI0MCk7XHJcbiAgICAgICAgICAgIGNvbG9ycyA9IFtiYXNlQ29sb3IuaGV4KCksIGhleDEyMC5oZXgoKSwgaGV4MjQwLmhleCgpXTtcclxuICAgICAgICAgICAgaWYoc2V0dGluZ3MpIHNldHRpbmdzLmFsaWFzZXMgPSBbJ1RyaWFkaWMgRmlyc3QnLCAnQmFzZScsICdUcmlhZGljIFRoaXJkJ107XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQ29tYmluYXRpb24uVGV0cmFkaWM6XHJcbiAgICAgICAgICAgIGNvbnN0IGhleDkwID0gYmFzZUNvbG9yLnNwaW4oOTApO1xyXG4gICAgICAgICAgICBjb25zdCBoZXgxODAgPSBiYXNlQ29sb3Iuc3BpbigxODApO1xyXG4gICAgICAgICAgICBjb25zdCBoZXgyNzAgPSBiYXNlQ29sb3Iuc3BpbigyNzApO1xyXG4gICAgICAgICAgICBjb2xvcnMgPSBbYmFzZUNvbG9yLmhleCgpLCBoZXg5MC5oZXgoKSwgaGV4MTgwLmhleCgpLCBoZXgyNzAuaGV4KCldO1xyXG4gICAgICAgICAgICBpZihzZXR0aW5ncykgc2V0dGluZ3MuYWxpYXNlcyA9IFsnQmFzZScsICdUZXRyYWRpYyBTZWNvbmQnLCAnVGV0cmFkaWMgVGhpcmQnLCAnVGV0cmFkaWMgRm91cnRoJ107XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQ29tYmluYXRpb24uUmFuZG9tOlxyXG4gICAgICAgICAgICAvLyBDbGFtcCB0byBhIG1pbmltdW0gdmFsdWUgb2YgMlxyXG4gICAgICAgICAgICBjb25zdCByYW5kb21OdW1iZXIgPSBNYXRoLm1heChNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxMCksIDIpO1xyXG4gICAgICAgICAgICBsZXQgcmFuZG9tQ29sb3JzOiBzdHJpbmdbXSA9IFtdO1xyXG4gICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgcmFuZG9tTnVtYmVyOyBpKyspe1xyXG4gICAgICAgICAgICAgICAgcmFuZG9tQ29sb3JzLnB1c2goY29sb3JzZWEucmFuZG9tKCkuaGV4KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbG9ycyA9IHJhbmRvbUNvbG9ycztcclxuICAgICAgICAgICAgaWYoc2V0dGluZ3MpIHNldHRpbmdzLmFsaWFzZXMgPSBbXTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgY29sb3JzLCBzZXR0aW5ncyB9O1xyXG59IiwgImltcG9ydCB7IE5vdGljZSB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgcXVhbnRpemUsIHsgUmdiUGl4ZWwgfSBmcm9tIFwicXVhbnRpemVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhc0ltYWdlIHtcclxuICAgIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIGNvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuICAgIHdpZHRoOiBudW1iZXI7XHJcbiAgICBoZWlnaHQ6IG51bWJlcjtcclxuICAgIGxvYWRpbmc6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IoaW1hZ2VVUkw6IHN0cmluZywgc21vb3RoaW5nID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAvLyBBbGxvd3MgQ09SUyByZXF1ZXN0cyBmb3IgaW1hZ2VzIGZyb20gZGlmZmVyZW50IGRvbWFpbnNcclxuICAgICAgICB0aGlzLmltYWdlLmNyb3NzT3JpZ2luID0gJ2Fub255bW91cyc7XHJcbiAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBpbWFnZVVSTDtcclxuICAgICAgICB0aGlzLmltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoZSkgPT4gdGhpcy5sb2FkaW5nID0gZmFsc2UpO1xyXG4gICAgICAgIHRoaXMuY2FudmFzICA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIC8vIE5vbi1udWxsIGFzc2VydGVkIGNvbnRleHRcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpITtcclxuICAgICAgICB0aGlzLmNvbnRleHQuaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gc21vb3RoaW5nO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBsb2FkKCkge1xyXG4gICAgICAgIHRoaXMud2FpdEZvckxvYWRpbmcoKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy53aWR0aCAgPSB0aGlzLmNhbnZhcy53aWR0aCAgPSB0aGlzLmltYWdlLm5hdHVyYWxXaWR0aDtcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmltYWdlLm5hdHVyYWxIZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBtb3N0IGZyZXF1ZW50IGNvbG9ycyBpbiBhbiBpbWFnZVxyXG4gICAgICogQHBhcmFtIG51bUNvbG9ycyBOdW1iZXIgb2YgY29sb3JzIHRvIHJldHVyblxyXG4gICAgICogQHBhcmFtIHF1YWxpdHkgQXJ0aWZpY2lhbGx5IHJlZHVjZSBudW1iZXIgb2YgcGl4ZWxzIChoaWdoZXIgPSBsZXNzIGFjY3VyYXRlIGJ1dCBmYXN0ZXIpXHJcbiAgICAgKiBAcmV0dXJucyBNb3N0IGZyZXF1ZW50IGNvbG9yc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYXN5bmMgZ2V0UGFsZXR0ZShudW1Db2xvcnMgPSA3LCBxdWFsaXR5ID0gMTApIHtcclxuICAgICAgICAvKlxyXG4gICAgICAgIFF1YW5pdHplIGhhcyBhbiBpc3N1ZSB3aXRoIG51bWJlciBvZiBjb2xvcnMgd2hpY2ggaGFzIGJlZW4gYWRkcmVzc2VkIGhlcmUgaHR0cHM6Ly9naXRodWIuY29tL29saXZpZXJsZXNuaWNraS9xdWFudGl6ZS9pc3N1ZXMvOVxyXG4gICAgICAgIGBuQ29sb3JzYCBpcyBhIHNpbXBsZSBmaXggZm9yIHRoaXMuXHJcbiAgICAgICAgKi9cclxuICAgICAgICBjb25zdCBuQ29sb3JzID0gbnVtQ29sb3JzIDw9IDcgPyBudW1Db2xvcnMgOiBudW1Db2xvcnMgKyAxO1xyXG5cclxuICAgICAgICAvLyBXYWl0IGZvciBpbWFnZSB0byBsb2FkXHJcbiAgICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yTG9hZGluZygpO1xyXG5cclxuICAgICAgICAvLyBHZXQgYW4gYXJyYXkgb2YgcGl4ZWxzXHJcbiAgICAgICAgY29uc3QgcGl4ZWxzID0gYXdhaXQgdGhpcy5jcmVhdGVQaXhlbEFycmF5KHF1YWxpdHkpO1xyXG4gICAgICAgIGlmKCFwaXhlbHMpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICAvLyBSZWR1Y2UgcGl4ZWxzIGFycmF5IHRvIGEgc21hbGwgbnVtYmVyIG9mIHRoZSBtb3N0IGNvbW1vbiBjb2xvcnNcclxuICAgICAgICBjb25zdCBjb2xvck1hcCA9IHF1YW50aXplKHBpeGVscywgbkNvbG9ycyk7XHJcbiAgICBcclxuICAgICAgICAvLyBSZXR1cm4gcGFsZXR0ZVxyXG4gICAgICAgIHJldHVybiBjb2xvck1hcCA/IGNvbG9yTWFwLnBhbGV0dGUoKSA6IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBwaXhlbHMgZnJvbSB0aGUgaW1hZ2VcclxuICAgICAqIEluc3BpcmVkIGJ5IGNvbG9ydGhpZWZcclxuICAgICAqIEBwYXJhbSBxdWFsaXR5IEFydGlmaWNpYWxseSByZWR1Y2UgbnVtYmVyIG9mIHBpeGVscyAoaGlnaGVyID0gbGVzcyBhY2N1cmF0ZSBidXQgZmFzdGVyKVxyXG4gICAgICogQHJldHVybnMgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhc3luYyBjcmVhdGVQaXhlbEFycmF5KHF1YWxpdHk6IG51bWJlcikge1xyXG4gICAgICAgIGF3YWl0IHRoaXMud2FpdEZvckxvYWRpbmcoKTtcclxuICAgICAgICBjb25zdCBwaXhlbEFycmF5OiBudW1iZXJbXVtdID0gW107XHJcbiAgICAgICAgY29uc3QgaW1hZ2VEYXRhID0gIChhd2FpdCB0aGlzLmdldEltYWdlRGF0YSgpKT8uZGF0YTtcclxuICAgICAgICBpZighaW1hZ2VEYXRhKSByZXR1cm4gbnVsbDtcclxuICAgICAgICAvLyBHZXQgbnVtYmVyIG9mIHBpeGVscyBpbiBpbWFnZVxyXG4gICAgICAgIGNvbnN0IHBpeGVsQ291bnQgPSB0aGlzLmhlaWdodCAqIHRoaXMud2lkdGg7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGl4ZWxDb3VudDsgaSArPSBxdWFsaXR5KSB7XHJcbiAgICAgICAgICAgIC8vIE9mZnNldCB0byBjb3JyZWN0IHN0YXJ0aW5nIHBvc2l0aW9uIG9mIGVhY2ggcGl4ZWxcclxuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gaSAqIDQ7XHJcbiAgICAgICAgICAgIGNvbnN0IFtyLCBnLCBiLCBhXSA9IFtpbWFnZURhdGFbb2Zmc2V0ICsgMF0sIGltYWdlRGF0YVtvZmZzZXQgKyAxXSwgaW1hZ2VEYXRhW29mZnNldCArIDJdLCBpbWFnZURhdGFbb2Zmc2V0ICsgM11dO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgcGl4ZWwgaXMgbW9zdGx5IG9wYXF1ZSBhbmQgbm90IHdoaXRlXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYSA9PT0gJ3VuZGVmaW5lZCcgfHwgYSA+PSAxMjUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghKHIgPiAyNTAgJiYgZyA+IDI1MCAmJiBiID4gMjUwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBpeGVsQXJyYXkucHVzaChbciwgZywgYl0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwaXhlbEFycmF5IGFzIFJnYlBpeGVsW107XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBpbWFnZSBkYXRhIGZyb20gdGhlIGNhbnZhc1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYXN5bmMgZ2V0SW1hZ2VEYXRhKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMud2FpdEZvckxvYWRpbmcoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5nZXRJbWFnZURhdGEoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaChlKSB7XHJcbiAgICAgICAgICAgIG5ldyBOb3RpY2UoJ0ZhaWxlZCB0byBnZXQgaW1hZ2UgZGF0YS4nKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogV2FpdHMgZm9yIGxvYWRpbmcgdmFyaWFibGUgdG8gZXF1YWwgdHJ1ZVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHdhaXRGb3JMb2FkaW5nID0gKCkgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2hlY2tMb2FkaW5nID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMubG9hZGluZykge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjaGVja0xvYWRpbmcpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDEwMCk7XHJcbiAgICB9KVxyXG59IiwgImltcG9ydCB7IEFwcCwgRWRpdG9yLCBOb3RpY2UsIFN1Z2dlc3RNb2RhbCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBQYWxldHRlU2V0dGluZ3MgfSBmcm9tIFwicGFsZXR0ZVwiO1xyXG5pbXBvcnQgeyBDb2xvclBhbGV0dGVTZXR0aW5ncyB9IGZyb20gXCJzZXR0aW5nc1wiO1xyXG5pbXBvcnQgeyBDb21iaW5hdGlvbiwgZ2VuZXJhdGVDb2xvcnMgfSBmcm9tIFwidXRpbHMvZ2VuZXJhdGVSYW5kb21cIjtcclxuaW1wb3J0IHZhbGlkYXRlQ29sb3IgZnJvbSBcInZhbGlkYXRlLWNvbG9yXCI7XHJcbmltcG9ydCBjb2xvcnNlYSBmcm9tIFwiY29sb3JzZWFcIjtcclxuaW1wb3J0IEVkaXRvclV0aWxzIGZyb20gXCJ1dGlscy9lZGl0b3JVdGlsc1wiO1xyXG5pbXBvcnQgeyBjcmVhdGVQYWxldHRlQmxvY2ssIGdldE1vZGlmaWVkU2V0dGluZ3MsIHBsdWdpblRvUGFsZXR0ZVNldHRpbmdzIH0gZnJvbSBcInV0aWxzL2Jhc2ljVXRpbHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBHZW5lcmF0ZVBhbGV0dGVNb2RhbCBleHRlbmRzIFN1Z2dlc3RNb2RhbDxDb21iaW5hdGlvbj4ge1xyXG4gICAgZWRpdG9yOiBFZGl0b3I7XHJcbiAgICBzZXR0aW5nczogUGFsZXR0ZVNldHRpbmdzXHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIGVkaXRvcjogRWRpdG9yLCBwbHVnaW5TZXR0aW5nczogQ29sb3JQYWxldHRlU2V0dGluZ3MpIHtcclxuICAgICAgICBzdXBlcihhcHApO1xyXG4gICAgICAgIHRoaXMuZWRpdG9yID0gZWRpdG9yO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBwbHVnaW5Ub1BhbGV0dGVTZXR0aW5ncyhwbHVnaW5TZXR0aW5ncyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmV0dXJucyBhbGwgYXZhaWxhYmxlIHN1Z2dlc3Rpb25zLlxyXG4gICAgZ2V0U3VnZ2VzdGlvbnMocXVlcnk6IHN0cmluZyk6IENvbWJpbmF0aW9uW10ge1xyXG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhDb21iaW5hdGlvbikuZmlsdGVyKChjb21iaW5hdGlvbikgPT5cclxuICAgICAgICAgICAgY29tYmluYXRpb24udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICkgYXMgQ29tYmluYXRpb25bXTtcclxuICAgIH1cclxuICBcclxuICAgIC8vIFJlbmRlcnMgZWFjaCBzdWdnZXN0aW9uIGl0ZW0uXHJcbiAgICByZW5kZXJTdWdnZXN0aW9uKGNvbWJpbmF0aW9uOiBDb21iaW5hdGlvbiwgZWw6IEhUTUxFbGVtZW50KSB7XHJcbiAgICAgICAgZWwuY3JlYXRlRWwoXCJzcGFuXCIsIHsgdGV4dDogY29tYmluYXRpb24gfSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICAvLyBQZXJmb3JtIGFjdGlvbiBvbiB0aGUgc2VsZWN0ZWQgc3VnZ2VzdGlvbi5cclxuICAgIG9uQ2hvb3NlU3VnZ2VzdGlvbihjb21iaW5hdGlvbjogQ29tYmluYXRpb24sIGV2dDogTW91c2VFdmVudCB8IEtleWJvYXJkRXZlbnQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBzZWxUZXh0T3JMaW5lID0gdGhpcy5lZGl0b3Iuc29tZXRoaW5nU2VsZWN0ZWQoKSA/IHRoaXMuZWRpdG9yLmdldFNlbGVjdGlvbigpIDogdGhpcy5lZGl0b3IuZ2V0TGluZSh0aGlzLmVkaXRvci5nZXRDdXJzb3IoKS5saW5lKTtcclxuICAgICAgICAgICAgY29uc3QgaXNMaW5lRW1wdHkgPSB0aGlzLmVkaXRvci5nZXRMaW5lKHRoaXMuZWRpdG9yLmdldEN1cnNvcigpLmxpbmUpLmxlbmd0aCA9PT0gMDtcclxuICAgICAgICAgICAgY29uc3QgaXNDb2xvciA9IHZhbGlkYXRlQ29sb3Ioc2VsVGV4dE9yTGluZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgY29sb3JzLCBzZXR0aW5ncyB9ID0gaXNDb2xvciA/IGdlbmVyYXRlQ29sb3JzKGNvbWJpbmF0aW9uLCB7IGJhc2VDb2xvcjogY29sb3JzZWEoc2VsVGV4dE9yTGluZSksIHNldHRpbmdzOiB0aGlzLnNldHRpbmdzIH0pIDogZ2VuZXJhdGVDb2xvcnMoY29tYmluYXRpb24sIHsgc2V0dGluZ3M6IHRoaXMuc2V0dGluZ3MgfSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0Jsb2NrID0gY3JlYXRlUGFsZXR0ZUJsb2NrKHsgY29sb3JzLCBzZXR0aW5nczogc2V0dGluZ3MgPyBnZXRNb2RpZmllZFNldHRpbmdzKHNldHRpbmdzKSA6IHVuZGVmaW5lZCB9KTtcclxuICAgICAgICAgICAgY29uc3QgZWRpdG9yVXRpbHMgPSBuZXcgRWRpdG9yVXRpbHModGhpcy5lZGl0b3IpO1xyXG4gICAgICAgICAgICBlZGl0b3JVdGlscy5pbnNlcnRDb250ZW50KG5ld0Jsb2NrLCAhaXNDb2xvciAmJiAhaXNMaW5lRW1wdHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgbmV3IE5vdGljZShlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwgImltcG9ydCB7IEVkaXRvciB9IGZyb20gXCJvYnNpZGlhblwiXHJcblxyXG50eXBlIE9wdGlvbnMgPSB7XHJcbiAgICBsaW5lPzogbnVtYmVyLFxyXG4gICAgb2Zmc2V0PzogbnVtYmVyXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVkaXRvclV0aWxzIHtcclxuICAgIGVkaXRvcjogRWRpdG9yXHJcblxyXG4gICAgY29uc3RydWN0b3IoZWRpdG9yOiBFZGl0b3IpIHtcclxuICAgICAgICB0aGlzLmVkaXRvciA9IGVkaXRvcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlcGxhY2VzIHNlbGVjdGlvbiBvciB0ZXh0IGF0IHRoZSBjdXJzb3JcclxuICAgICAqIEBwYXJhbSBjb250ZW50IFRoZSBjb250ZW50IHRvIGJlIGluc2VydGVkXHJcbiAgICAgKiBAcGFyYW0gaW5zZXJ0QWZ0ZXIgSW5zZXJ0cyB0aGUgY29udGVudCBhZnRlciB0aGUgY3VycmVudCBsaW5lXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpbnNlcnRDb250ZW50KGNvbnRlbnQ6IHN0cmluZywgaW5zZXJ0QWZ0ZXIgPSBmYWxzZSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2V0Q3Vyc29yUG9zdENhbGxiYWNrKChsaW5lKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLnNvbWV0aGluZ1NlbGVjdGVkKCkgP1xyXG4gICAgICAgICAgICB0aGlzLmVkaXRvci5yZXBsYWNlU2VsZWN0aW9uKGNvbnRlbnQpXHJcbiAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgaW5zZXJ0QWZ0ZXIgP1xyXG4gICAgICAgICAgICB0aGlzLmluc2VydExpbmUoY29udGVudCwgJ2FmdGVyJylcclxuICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICB0aGlzLnJlcGxhY2VMaW5lKGNvbnRlbnQsIGxpbmUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgY3Vyc29yIHRvIGEgcG9zaXRpb24gYWZ0ZXIgY2FsbGJhY2sgZWRpdG9yIGNoYW5nZXNcclxuICAgICAqIEBwYXJhbSBjYWxsYmFjayBDaGFuZ2VzIHRvIHBlcmZvcm0gdG8gdGhlIGVkaXRvclxyXG4gICAgICogQHBhcmFtIG9wdGlvbnMubGluZSBEZWZhdWx0cyB0byB0aGUgY3VycmVudCBjdXJzb3IgbGluZVxyXG4gICAgICogQHBhcmFtIG9wdGlvbnMub2Zmc2V0IFRoZSBudW1iZXIgb2YgbGluZXMgdG8gb2Zmc2V0IChjYWxjdWxhdGVzIGR1cmluZyBmdW5jdGlvbiB1bmxlc3MgdXNlciBzcGVjaWZpZWQpXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRDdXJzb3JQb3N0Q2FsbGJhY2soY2FsbGJhY2s6ICggbGluZTogbnVtYmVyICkgPT4gdm9pZCwgeyBsaW5lID0gdGhpcy5lZGl0b3IuZ2V0Q3Vyc29yKCkubGluZSwgb2Zmc2V0IH06IE9wdGlvbnMgPSB7fSkge1xyXG4gICAgICAgIC8vIE51bWJlciBvZiBsaW5lcyBiZWZvcmUgYWRkaW5nIGNvbnRlbnRcclxuICAgICAgICBjb25zdCBwcmVMaW5lc0NvdW50ID0gdGhpcy5lZGl0b3IubGluZUNvdW50KCk7XHJcblxyXG4gICAgICAgIGNhbGxiYWNrKGxpbmUpO1xyXG5cclxuICAgICAgICAvLyBOdW1iZXIgb2YgbGluZXMgYWZ0ZXIgYWRkaW5nIGNvbnRlbnRcclxuICAgICAgICBjb25zdCBwb3N0TGluZXNDb3VudCA9IHRoaXMuZWRpdG9yLmxpbmVDb3VudCgpIC0gcHJlTGluZXNDb3VudDtcclxuICAgICAgICBcclxuICAgICAgICAvLyBTZXQgb2Zmc2V0IHRvIHBvc3RMaW5lc0NvdW50IGlmIG5vdCBzcGVjaWZpZWRcclxuICAgICAgICBvZmZzZXQgPSBvZmZzZXQgfHwgcG9zdExpbmVzQ291bnQ7XHJcblxyXG4gICAgICAgIHRoaXMuZWRpdG9yLnNldEN1cnNvcih7IGNoOiAwLCBsaW5lOiBsaW5lICsgb2Zmc2V0IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5saW5lIFRoZSBsaW5lIHRvIHJldHJpZXZlIHRoZSBsYXN0IGNoYXJhY3RlciBpbmRleCBmcm9tXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5vZmZzZXQgVGhlIG9mZnNldCB1c2VkIGZyb20gdGhlIGxpbmUgKGZvciBleGFtcGxlLCAxIGNvdWxkIGJlIHVzZWQgdG8gZ2V0IHRoZSBsYXN0IGNoYXJhY3RlciBpbmRleCBvbiB0aGUgbGluZSBiZWxvdyB0aGUgY3Vyc29yKVxyXG4gICAgICogQHJldHVybnMgVGhlIGxhc3QgY2hhcmFjdGVyJ3MgaW5kZXggb24gdGhlIGxpbmVcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldExhc3RDaCh7IGxpbmUgPSB0aGlzLmVkaXRvci5nZXRDdXJzb3IoKS5saW5lLCBvZmZzZXQgPSAwIH06IE9wdGlvbnMgPSB7fSk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWRpdG9yLmdldExpbmUobGluZSArIG9mZnNldCkubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVwbGFjZXMgYSBzaW5nbGUgbGluZVxyXG4gICAgICogQHBhcmFtIGNvbnRlbnQgVGhlIGNvbnRlbnQgdG8gcmVwbGFjZSB0aGUgbGluZSB3aXRoXHJcbiAgICAgKiBAcGFyYW0gbGluZSBUaGUgbGluZSB0byByZXBsYWNlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZXBsYWNlTGluZShjb250ZW50OiBzdHJpbmcsIGxpbmU6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IGxpbmVDb250ZW50ID0gdGhpcy5lZGl0b3IuZ2V0TGluZShsaW5lKTtcclxuICAgICAgICB0aGlzLmVkaXRvci5yZXBsYWNlUmFuZ2UoY29udGVudCwgeyBsaW5lOiBsaW5lLCBjaDogMCB9LCB7IGxpbmU6IGxpbmUsIGNoOiBsaW5lQ29udGVudC5sZW5ndGh9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluc2VydHMgY29udGVudCBpbnRvIGVkaXRvciBiZWZvcmUgb3IgYWZ0ZXIgdGhlIGxpbmVcclxuICAgICAqIEBwYXJhbSBjb250ZW50IFRoZSBjb250ZW50IHRvIGluc2VydFxyXG4gICAgICogQHBhcmFtIGxvY2F0aW9uIFdoZXJlIHRvIGluc2VydCB0aGUgY29udGVudCwgYmVmb3JlIG9yIGFmdGVyIHRoZSBsaW5lXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5saW5lIERlZmF1bHRzIHRvIGN1cnNvciBsaW5lXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucy5jaCBEZWZhdWx0cyB0byAwXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpbnNlcnRMaW5lKGNvbnRlbnQ6IHN0cmluZywgbG9jYXRpb246ICdiZWZvcmUnIHwgJ2FmdGVyJyA9ICdiZWZvcmUnLCB7IGxpbmUgPSB0aGlzLmVkaXRvci5nZXRDdXJzb3IoKS5saW5lLCBjaCA9IDAgfSA9IHt9KSB7XHJcbiAgICAgICAgaWYobG9jYXRpb24gPT09ICdiZWZvcmUnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLnJlcGxhY2VSYW5nZShjb250ZW50LCB7IGxpbmUsIGNoIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihsb2NhdGlvbiA9PT0gJ2FmdGVyJykge1xyXG4gICAgICAgICAgICAvLyBJZiBsYXN0IGxpbmUsIGFkZCBhIG5ld2xpbmUgYmVmb3JlIGFkZGluZyBjb250ZW50XHJcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yLnJlcGxhY2VSYW5nZShcclxuICAgICAgICAgICAgICAgIHRoaXMuZWRpdG9yLmxhc3RMaW5lKCkgPT09IGxpbmUgPyAnXFxuJyArIGNvbnRlbnQgOiBjb250ZW50ICsgJ1xcbicsIFxyXG4gICAgICAgICAgICAgICAgeyBsaW5lOiBsaW5lICsgMSwgY2ggfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwgImludGVyZmFjZSBBcnJheTxUPiB7XHJcbiAgICB0b05TdHJpbmcoKTogc3RyaW5nXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyBzdHJpbmcgYXJyYXkgdG8gbmV3bGluZSBzZXBhcmF0ZWQgc3RyaW5nXHJcbiAqL1xyXG5BcnJheS5wcm90b3R5cGUudG9OU3RyaW5nID0gZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gJyc7XHJcbiAgICBmb3IgKGNvbnN0IHN0cmluZyBvZiB0aGlzKSB7XHJcbiAgICAgICAgcmVzdWx0ICs9IHN0cmluZyArICdcXG4nO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdC50cmltKCk7XHJcbn0iLCAiaW1wb3J0IHsgTWFya2Rvd25Qb3N0UHJvY2Vzc29yQ29udGV4dCwgTWFya2Rvd25SZW5kZXJDaGlsZCwgTWFya2Rvd25WaWV3LCBOb3RpY2UgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IENvbG9yUGFsZXR0ZSwgeyB1cmxSZWdleCB9IGZyb20gXCJtYWluXCI7XHJcbmltcG9ydCB7IENvbG9yUGFsZXR0ZVNldHRpbmdzIH0gZnJvbSBcInNldHRpbmdzXCI7XHJcbmltcG9ydCB7IFBhbGV0dGUsIFBhbGV0dGVTZXR0aW5ncywgU3RhdHVzIH0gZnJvbSBcInBhbGV0dGVcIjtcclxuaW1wb3J0IHsgY3JlYXRlUGFsZXR0ZUJsb2NrLCBnZXRNb2RpZmllZFNldHRpbmdzLCBwYXJzZVVybCwgcGx1Z2luVG9QYWxldHRlU2V0dGluZ3MgfSBmcm9tIFwidXRpbHMvYmFzaWNVdGlsc1wiO1xyXG5pbXBvcnQgdmFsaWRhdGVDb2xvciBmcm9tIFwidmFsaWRhdGUtY29sb3JcIjtcclxuaW1wb3J0IHsgUGFsZXR0ZU1lbnUgfSBmcm9tIFwiUGFsZXR0ZU1lbnVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQYWxldHRlTVJDIGV4dGVuZHMgTWFya2Rvd25SZW5kZXJDaGlsZCB7XHJcbiAgICBwbHVnaW46IENvbG9yUGFsZXR0ZTtcclxuICAgIHBsdWdpblNldHRpbmdzOiBDb2xvclBhbGV0dGVTZXR0aW5ncztcclxuXHRpbnB1dDogc3RyaW5nO1xyXG4gICAgcGFsZXR0ZTogUGFsZXR0ZVxyXG4gICAgY29udGV4dDogTWFya2Rvd25Qb3N0UHJvY2Vzc29yQ29udGV4dDtcclxuICAgIGVkaXRNb2RlQ2hhbmdlczogeyBjb2xvcnM6IHN0cmluZ1tdLCBzZXR0aW5nczogUGFydGlhbDxQYWxldHRlU2V0dGluZ3M+IHwgdW5kZWZpbmVkIH07XHJcblxyXG5cdGNvbnN0cnVjdG9yKHBsdWdpbjogQ29sb3JQYWxldHRlLCBjb250YWluZXJFbDogSFRNTEVsZW1lbnQsIGlucHV0OiBzdHJpbmcsIGNvbnRleHQ6IE1hcmtkb3duUG9zdFByb2Nlc3NvckNvbnRleHQpIHtcclxuICAgICAgICBzdXBlcihjb250YWluZXJFbCk7XHJcbiAgICAgICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XHJcbiAgICAgICAgdGhpcy5wbHVnaW5TZXR0aW5ncyA9IHBsdWdpbi5zZXR0aW5ncztcclxuICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuXHR9XHJcblxyXG4gICAgb25sb2FkKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgLy8gQWRkIG5ldyBwYWxldHRlIHRvIHN0YXRlXHJcbiAgICAgICAgdGhpcy5wbHVnaW4ucGFsZXR0ZXM/LnB1c2godGhpcyk7XHJcblxyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAvLyBFbnN1cmUgcGFsZXR0ZSBpcyB2YWxpZCBiZWZvcmUgY3JlYXRpbmcgYSBuZXcgbWVudVxyXG4gICAgICAgICAgICBpZih0aGlzLnBhbGV0dGUuc3RhdHVzID09PSBTdGF0dXMuVkFMSUQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhbGV0dGVNZW51ID0gbmV3IFBhbGV0dGVNZW51KHRoaXMucGx1Z2luLmFwcCwgdGhpcy5jb250ZXh0LCB0aGlzLnBhbGV0dGUsIChjb2xvcnMsIHNldHRpbmdzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY29sb3JzID09IHVuZGVmaW5lZCkgdGhpcy5zZXRQYWxldHRlSW5wdXQoJycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdGhpcy5zZXRQYWxldHRlSW5wdXQoY3JlYXRlUGFsZXR0ZUJsb2NrKHsgY29sb3JzLCBzZXR0aW5ncyB9KSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHBhbGV0dGVNZW51LnNob3dBdE1vdXNlRXZlbnQoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHVubG9hZCgpOiB2b2lkIHtcclxuICAgICAgICAvLyBSZW1vdmUgcGFsZXR0ZSBmcm9tIHN0YXRlXHJcbiAgICAgICAgdGhpcy5wbHVnaW4ucGFsZXR0ZXM/LnJlbW92ZSh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgdGhlIHBhbGV0dGUgY29udGVudHNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHVwZGF0ZSgpIHtcclxuICAgICAgICAvLyBSZW1vdmUgY3VycmVudCBwYWxldHRlXHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5lbXB0eSgpO1xyXG5cclxuICAgICAgICAvLyBDYWxjdWxhdGUgY29sb3JzICYgc2V0dGluZ3NcclxuICAgICAgICBjb25zdCB7IGNvbG9ycywgc2V0dGluZ3MgfSA9IHRoaXMuY2FsY0NvbG9yc0FuZFNldHRpbmdzKHRoaXMuaW5wdXQpO1xyXG5cclxuICAgICAgICAvLyBTZXQgZWRpdE1vZGVDaGFuZ2VzIGluaXRpYWwgdmFsdWVzIGlmIHZhbGlkXHJcbiAgICAgICAgaWYodHlwZW9mIGNvbG9ycyAhPT0gJ3N0cmluZycgJiYgdHlwZW9mIHNldHRpbmdzICE9PSAnc3RyaW5nJykgdGhpcy5lZGl0TW9kZUNoYW5nZXMgPSB7Y29sb3JzLCBzZXR0aW5nc307XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBuZXcgcGFsZXR0ZVxyXG4gICAgICAgIHRoaXMucGFsZXR0ZSA9IG5ldyBQYWxldHRlKGNvbG9ycywgc2V0dGluZ3MsIHRoaXMuY29udGFpbmVyRWwsIHRoaXMucGx1Z2luU2V0dGluZ3MsIChjb2xvcnMsIHNldHRpbmdzKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkU2V0dGluZ3MgPSBnZXRNb2RpZmllZFNldHRpbmdzKHNldHRpbmdzKTtcclxuICAgICAgICAgICAgLy8gU2F2ZSBzdG9yZWQgY2hhbmdlc1xyXG4gICAgICAgICAgICB0aGlzLmVkaXRNb2RlQ2hhbmdlcyA9IHsgY29sb3JzLCBzZXR0aW5nczogbW9kaWZpZWRTZXR0aW5ncyB9O1xyXG4gICAgICAgIH0sIFxyXG4gICAgICAgIChlZGl0TW9kZSkgPT4ge1xyXG4gICAgICAgICAgICBpZighZWRpdE1vZGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIFNldCBwYWxldHRlIGlucHV0IHRvIHN0b3JlZCBjaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFBhbGV0dGVJbnB1dChjcmVhdGVQYWxldHRlQmxvY2soeyBjb2xvcnM6IHRoaXMuZWRpdE1vZGVDaGFuZ2VzLmNvbG9ycywgc2V0dGluZ3M6IHRoaXMuZWRpdE1vZGVDaGFuZ2VzLnNldHRpbmdzIH0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGFyc2VzIGlucHV0ICYgZXh0cmFjdHMgc2V0dGluZ3NcclxuICAgICAqIEBwYXJhbSBpbnB1dCBzZXR0aW5ncyBmcm9tIGNvZGVibG9ja1xyXG4gICAgICogQHJldHVybnMgUGFsZXR0ZVNldHRpbmdzIG9yIFN0YXR1cyBpZiBzZXR0aW5ncyBhcmUgbm90IHZhbGlkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcGFyc2VTZXR0aW5ncyhpbnB1dDogc3RyaW5nKTogUGFsZXR0ZVNldHRpbmdzIHwgU3RhdHVzIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBFeHRyYWN0IEpTT04gc2V0dGluZ3MgZnJvbSB0aGUgcGFsZXR0ZVxyXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBTdGF0dXMuSU5WQUxJRF9TRVRUSU5HUztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJzZXMgaW5wdXQgJiBleHRyYWN0cyBjb2xvcnMgYmFzZWQgb24gY29sb3Igc3BhY2Ugb3IgVVJMXHJcbiAgICAgKiBAcGFyYW0gaW5wdXQgY29sb3JzIGZyb20gY29kZWJsb2NrXHJcbiAgICAgKiBAcmV0dXJucyBBcnJheSBvZiBjb2xvcnMgb3IgU3RhdHVzIGlmIGNvbG9ycyBhcmUgbm90IHZhbGlkXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgcGFyc2VDb2xvcnMoaW5wdXQ6IHN0cmluZ1tdLCBvdmVycmlkZTogYm9vbGVhbik6IHN0cmluZ1tdIHwgU3RhdHVzIHsgICAgICAgIFxyXG4gICAgICAgIGxldCBjb2xvcnMgPSBpbnB1dC5mbGF0TWFwKChjb2xvcikgPT4ge1xyXG4gICAgICAgICAgICAvLyBTcGxpdCBSR0IgLyBIU0wgZGVsaW1pdGVkIGJ5IHNlbWljb2xvbnNcclxuICAgICAgICAgICAgaWYoY29sb3IuaW5jbHVkZXMoJygnKSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3Iuc3BsaXQoJzsnKS5mbGF0TWFwKChwb3N0U3BsaXRDb2xvcikgPT4gcG9zdFNwbGl0Q29sb3IudHJpbSgpKVxyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHdoaXRlc3BhY2UgZWxlbWVudHMgZnJvbSBhcnJheVxyXG4gICAgICAgICAgICAgICAgLmZpbHRlcigoY29sb3IpID0+IGNvbG9yICE9PSAnJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gU3BsaXQgY29sb3JzIGRlbGltaXRlZCBieSBjb21tYXNcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG9yLnNwbGl0KCcsJykuZmxhdE1hcCgocG9zdFNwbGl0Q29sb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwb3N0U3BsaXRDb2xvci50cmltKCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgLy8gUmVtb3ZlIHNlbWljb2xvbnNcclxuICAgICAgICB9KS5mbGF0TWFwKChjb2xvcikgPT4gY29sb3IudHJpbSgpLnJlcGxhY2UoJzsnLCAnJykpO1xyXG5cclxuICAgICAgICAvLyBDb21iaW5lIGNvbG9ycyBhcnJheSBpbnRvIHN0cmluZ1xyXG4gICAgICAgIGNvbnN0IHJhd0NvbG9ycyA9IGNvbG9ycy5qb2luKCcnKTtcclxuXHJcbiAgICAgICAgLy8gSWYgVVJMIHBhcnNlIGFuZCByZXR1cm5cclxuICAgICAgICBpZihyYXdDb2xvcnMubWF0Y2godXJsUmVnZXgpKSByZXR1cm4gcGFyc2VVcmwocmF3Q29sb3JzKTtcclxuXHJcbiAgICAgICAgLy8gUmV0dXJuIHN0YXR1cyBpZiBjb2xvcnMgYXJlIGludmFsaWRcclxuICAgICAgICBpZiAoIW92ZXJyaWRlKSB7XHJcbiAgICAgICAgICAgIGZvcihsZXQgY29sb3Igb2YgY29sb3JzKSB7XHJcbiAgICAgICAgICAgICAgICBpZighdmFsaWRhdGVDb2xvcihjb2xvcikpIHJldHVybiBTdGF0dXMuSU5WQUxJRF9DT0xPUlM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJldHVybiBmaW5hbCBjb2xvcnMgYXJyYXlcclxuICAgICAgICByZXR1cm4gY29sb3JzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FsY3VsYXRlcyBjb2xvcnMgYW5kIHNldHRpbmdzIGJhc2VkIG9uIGNvZGVibG9jayBjb250ZW50c1xyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGNhbGNDb2xvcnNBbmRTZXR0aW5ncyhpbnB1dDogc3RyaW5nKSB7XHJcbiAgICAgICAgLy8gU3BsaXRzIGlucHV0IGJ5IG5ld2xpbmUgY3JlYWl0bmcgYW4gYXJyYXlcclxuICAgICAgICBjb25zdCBzcGxpdCA9IGlucHV0LnNwbGl0KCdcXG4nKVxyXG4gICAgICAgIC8vIFJldHVybnMgdHJ1ZSBpZiBwYWxldHRlIHNldHRpbmdzIGFyZSBkZWZpbmVkXHJcbiAgICAgICAgY29uc3QgaGFzU2V0dGluZ3MgPSBzcGxpdC5zb21lKCh2YWwpID0+IHZhbC5pbmNsdWRlcygoJ3snKSkpO1xyXG5cclxuICAgICAgICAvLyBSZW1vdmUgYW5kIHBhcnNlIHRoZSBsYXN0IHNwbGl0IGluZGV4IChzZXR0aW5ncyBhcmUgYWx3YXlzIGRlZmluZWQgb24gdGhlIGxhc3QgaW5kZXgpXHJcbiAgICAgICAgbGV0IHNldHRpbmdzID0gaGFzU2V0dGluZ3MgPyB0aGlzLnBhcnNlU2V0dGluZ3Moc3BsaXQucG9wKCkgfHwgJycpIDogdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAvLyBHZXQgUGFsZXR0ZVNldHRpbmdzIGlmIHZhbGlkIG9yIHBsdWdpbiBkZWZhdWx0cyBpZiBpbnZhbGlkXHJcbiAgICAgICAgbGV0IHNldHRpbmdzT2JqID0gdHlwZW9mIHNldHRpbmdzID09PSAnb2JqZWN0JyA/IHNldHRpbmdzIDogcGx1Z2luVG9QYWxldHRlU2V0dGluZ3ModGhpcy5wbHVnaW5TZXR0aW5ncyk7XHJcblxyXG4gICAgICAgIHJldHVybiB7IGNvbG9yczogdGhpcy5wYXJzZUNvbG9ycyhzcGxpdCwgc2V0dGluZ3NPYmoub3ZlcnJpZGUpLCBzZXR0aW5nczogc2V0dGluZ3MgfHwgcGx1Z2luVG9QYWxldHRlU2V0dGluZ3ModGhpcy5wbHVnaW5TZXR0aW5ncykgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIHBhbGV0dGUgY29kZWJsb2NrIGlucHV0XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRQYWxldHRlSW5wdXQoKSB7XHJcbiAgICAgICAgbGV0IGVkaXRvciA9IHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpPy5lZGl0b3I7XHJcbiAgICAgICAgLy8gUGFsZXR0ZSBsaW5lIHN0YXJ0ICYgbGluZSBlbmRcclxuICAgICAgICBjb25zdCBwYWxldHRlU2VjdGlvbiA9IHRoaXMuY29udGV4dC5nZXRTZWN0aW9uSW5mbyh0aGlzLnBhbGV0dGUuY29udGFpbmVyRWwpO1xyXG4gICAgICAgIGlmKHBhbGV0dGVTZWN0aW9uICYmIGVkaXRvcikgcmV0dXJuIHtcclxuICAgICAgICAgICAgbGluZXM6IHtcclxuICAgICAgICAgICAgICAgIGxpbmVTdGFydDogcGFsZXR0ZVNlY3Rpb24ubGluZVN0YXJ0LCBcclxuICAgICAgICAgICAgICAgIGxpbmVFbmQ6IHBhbGV0dGVTZWN0aW9uLmxpbmVFbmRcclxuICAgICAgICAgICAgfSwgXHJcbiAgICAgICAgICAgIGlucHV0OiBlZGl0b3IuZ2V0UmFuZ2UoXHJcbiAgICAgICAgICAgICAgICB7bGluZTogcGFsZXR0ZVNlY3Rpb24ubGluZVN0YXJ0LCBjaDogMH0sIFxyXG4gICAgICAgICAgICAgICAge2xpbmU6IHBhbGV0dGVTZWN0aW9uLmxpbmVFbmQgKyAxLCBjaDogMH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVOb3RpY2UoJ1RoZSBlZGl0b3IgaGFzIG5vdCBmdWxseSBsb2FkZWQgeWV0LicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFNldHMgdGhlIHBhbGV0dGUgY29kZWJsb2NrIGlucHV0IHdpdGggYHJlcGxhY2VtZW50YFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0UGFsZXR0ZUlucHV0KHJlcGxhY2VtZW50OiBzdHJpbmcpIHtcclxuICAgICAgICBsZXQgZWRpdG9yID0gdGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldyk/LmVkaXRvcjtcclxuICAgICAgICAvLyBQYWxldHRlIGxpbmUgc3RhcnQgJiBsaW5lIGVuZFxyXG4gICAgICAgIGNvbnN0IHBhbGV0dGVTZWN0aW9uID0gdGhpcy5jb250ZXh0LmdldFNlY3Rpb25JbmZvKHRoaXMucGFsZXR0ZS5jb250YWluZXJFbCk7XHJcbiAgICAgICAgaWYocGFsZXR0ZVNlY3Rpb24gJiYgZWRpdG9yKSB7XHJcbiAgICAgICAgICAgIGVkaXRvci5yZXBsYWNlUmFuZ2UocmVwbGFjZW1lbnQsIHtsaW5lOiBwYWxldHRlU2VjdGlvbi5saW5lU3RhcnQsIGNoOiAwfSwge2xpbmU6IHBhbGV0dGVTZWN0aW9uLmxpbmVFbmQgKyAxLCBjaDogMH0pO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbGluZVN0YXJ0OiBwYWxldHRlU2VjdGlvbi5saW5lU3RhcnQsIFxyXG4gICAgICAgICAgICAgICAgbGluZUVuZDogcGFsZXR0ZVNlY3Rpb24ubGluZUVuZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVOb3RpY2UoJ1RoZSBlZGl0b3IgaGFzIG5vdCBmdWxseSBsb2FkZWQgeWV0LicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBuZXcgbm90aWNlIHVzaW5nIHByZS1zZXQgc2V0dGluZ3NcclxuICAgICAqIEBwYXJhbSBtZXNzYWdlIE1lc3NhZ2UgdG8gZGlzcGxheVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgY3JlYXRlTm90aWNlKG1lc3NhZ2U6IHN0cmluZykge1xyXG4gICAgICAgIG5ldyBOb3RpY2UobWVzc2FnZSwgdGhpcy5wbHVnaW5TZXR0aW5ncy5ub3RpY2VEdXJhdGlvbik7XHJcbiAgICB9XHJcbn0iLCAiaW1wb3J0IGNvbG9yc2VhIGZyb20gXCJjb2xvcnNlYVwiO1xyXG5pbXBvcnQgeyBBcHAsIFN1Z2dlc3RNb2RhbCB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBQYWxldHRlLCBQYWxldHRlU2V0dGluZ3MgfSBmcm9tIFwicGFsZXR0ZVwiO1xyXG5pbXBvcnQgeyBnZXRNb2RpZmllZFNldHRpbmdzIH0gZnJvbSBcInV0aWxzL2Jhc2ljVXRpbHNcIjtcclxuXHJcbmVudW0gUmVvcmRlciB7XHJcbiAgICBIdWUgPSAnSHVlJyxcclxuICAgIFNhdHVyYXRpb24gPSAnU2F0dXJhdGlvbicsXHJcbiAgICBMaWdodG5lc3MgPSAnTGlnaHRuZXNzJyxcclxuICAgIFJlZCA9ICdSZWQnLFxyXG4gICAgR3JlZW4gPSAnR3JlZW4nLFxyXG4gICAgQmx1ZSA9ICdCbHVlJyxcclxuICAgIEFscGhhID0gJ0FscGhhJ1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUmVvcmRlck1vZGFsIGV4dGVuZHMgU3VnZ2VzdE1vZGFsPFJlb3JkZXI+e1xyXG4gICAgcGFsZXR0ZTogUGFsZXR0ZTtcclxuICAgIG9uU3VibWl0OiAoY29sb3JzOiBzdHJpbmdbXSwgc2V0dGluZ3M6IFBhcnRpYWw8UGFsZXR0ZVNldHRpbmdzPiB8IHVuZGVmaW5lZCkgPT4gdm9pZDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGFsZXR0ZTogUGFsZXR0ZSwgb25TdWJtaXQ6IChjb2xvcnM6IHN0cmluZ1tdLCBzZXR0aW5nczogUGFydGlhbDxQYWxldHRlU2V0dGluZ3M+IHwgdW5kZWZpbmVkKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgc3VwZXIoYXBwKTtcclxuICAgICAgICB0aGlzLnBhbGV0dGUgPSBwYWxldHRlO1xyXG4gICAgICAgIHRoaXMub25TdWJtaXQgPSBvblN1Ym1pdDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXR1cm5zIGFsbCBhdmFpbGFibGUgc3VnZ2VzdGlvbnMuXHJcbiAgICBnZXRTdWdnZXN0aW9ucyhxdWVyeTogc3RyaW5nKTogUmVvcmRlcltdIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoUmVvcmRlcikuZmlsdGVyKChjb21iaW5hdGlvbikgPT5cclxuICAgICAgICAgICAgY29tYmluYXRpb24udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICkgYXMgUmVvcmRlcltdO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclN1Z2dlc3Rpb24ob3JkZXI6IFJlb3JkZXIsIGVsOiBIVE1MRWxlbWVudCkge1xyXG4gICAgICAgIGVsLmNyZWF0ZUVsKFwic3BhblwiLCB7IHRleHQ6IG9yZGVyIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG9uQ2hvb3NlU3VnZ2VzdGlvbihpdGVtOiBSZW9yZGVyLCBldnQ6IE1vdXNlRXZlbnQgfCBLZXlib2FyZEV2ZW50KSB7XHJcbiAgICAgICAgLy8gQ3JlYXRlIGNvbG9yc2VhIGFycmF5XHJcbiAgICAgICAgY29uc3QgY3NDb2xvcnMgPSB0aGlzLnBhbGV0dGUuY29sb3JzLm1hcCgoY29sb3IpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbG9yc2VhKGNvbG9yKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIGxldCBjb2xvcnM6IHN0cmluZ1tdID0gW11cclxuICAgICAgICBzd2l0Y2goaXRlbSl7XHJcbiAgICAgICAgICAgIGNhc2UgUmVvcmRlci5IdWU6XHJcbiAgICAgICAgICAgICAgICBjb2xvcnMgPSBjc0NvbG9ycy5zb3J0KChhLCBiKSA9PiBhLmh1ZSgpIC0gYi5odWUoKSkubWFwKChjb2xvcikgPT4gY29sb3IuaGV4KCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUmVvcmRlci5TYXR1cmF0aW9uOlxyXG4gICAgICAgICAgICAgICAgY29sb3JzID0gY3NDb2xvcnMuc29ydCgoYSwgYikgPT4gYS5zYXR1cmF0aW9uKCkgLSBiLnNhdHVyYXRpb24oKSkubWFwKChjb2xvcikgPT4gY29sb3IuaGV4KCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUmVvcmRlci5MaWdodG5lc3M6XHJcbiAgICAgICAgICAgICAgICBjb2xvcnMgPSBjc0NvbG9ycy5zb3J0KChhLCBiKSA9PiBhLmxpZ2h0bmVzcygpIC0gYi5saWdodG5lc3MoKSkubWFwKChjb2xvcikgPT4gY29sb3IuaGV4KCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUmVvcmRlci5SZWQ6XHJcbiAgICAgICAgICAgICAgICBjb2xvcnMgPSBjc0NvbG9ycy5zb3J0KChhLCBiKSA9PiBhLnJlZCgpIC0gYi5yZWQoKSkubWFwKChjb2xvcikgPT4gY29sb3IuaGV4KCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUmVvcmRlci5HcmVlbjpcclxuICAgICAgICAgICAgICAgIGNvbG9ycyA9IGNzQ29sb3JzLnNvcnQoKGEsIGIpID0+IGEuZ3JlZW4oKSAtIGIuZ3JlZW4oKSkubWFwKChjb2xvcikgPT4gY29sb3IuaGV4KCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUmVvcmRlci5CbHVlOlxyXG4gICAgICAgICAgICAgICAgY29sb3JzID0gY3NDb2xvcnMuc29ydCgoYSwgYikgPT4gYS5ibHVlKCkgLSBiLmJsdWUoKSkubWFwKChjb2xvcikgPT4gY29sb3IuaGV4KCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgUmVvcmRlci5BbHBoYTpcclxuICAgICAgICAgICAgICAgIGNvbG9ycyA9IGNzQ29sb3JzLnNvcnQoKGEsIGIpID0+IGEuYWxwaGEoKSAtIGIuYWxwaGEoKSkubWFwKChjb2xvcikgPT4gY29sb3IuaGV4KCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFN1Ym1pdFxyXG4gICAgICAgIHRoaXMub25TdWJtaXQoIGNvbG9ycywgZ2V0TW9kaWZpZWRTZXR0aW5ncyh0aGlzLnBhbGV0dGUuc2V0dGluZ3MpKTtcclxuICAgIH1cclxufSIsICJpbXBvcnQgeyBDcmVhdGVQYWxldHRlTW9kYWwgfSBmcm9tIFwiQ3JlYXRlUGFsZXR0ZU1vZGFsXCI7XHJcbmltcG9ydCB7IFJlb3JkZXJNb2RhbCB9IGZyb20gXCJSZW9yZGVyTW9kYWxcIjtcclxuaW1wb3J0IGNvbG9yc2VhIGZyb20gXCJjb2xvcnNlYVwiO1xyXG5pbXBvcnQgeyBBcHAsIE1hcmtkb3duUG9zdFByb2Nlc3NvckNvbnRleHQsIE1lbnUsIE5vdGljZSB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBQYWxldHRlLCBQYWxldHRlU2V0dGluZ3MgfSBmcm9tIFwicGFsZXR0ZVwiO1xyXG5pbXBvcnQgeyBEaXJlY3Rpb24gfSBmcm9tIFwic2V0dGluZ3NcIjtcclxuaW1wb3J0IHsgY3JlYXRlUGFsZXR0ZUJsb2NrLCBnZXRNb2RpZmllZFNldHRpbmdzIH0gZnJvbSBcInV0aWxzL2Jhc2ljVXRpbHNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQYWxldHRlTWVudSBleHRlbmRzIE1lbnUge1xyXG4gICAgYXBwOiBBcHA7XHJcbiAgICBjb250ZXh0OiBNYXJrZG93blBvc3RQcm9jZXNzb3JDb250ZXh0O1xyXG4gICAgcGFsZXR0ZTogUGFsZXR0ZTtcclxuICAgIG9uQ2hhbmdlOiAoY29sb3JzOiBzdHJpbmdbXSB8IHVuZGVmaW5lZCwgc2V0dGluZ3M6IFBhcnRpYWw8UGFsZXR0ZVNldHRpbmdzPiB8IHVuZGVmaW5lZCkgPT4gdm9pZDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgY29udGV4dDogTWFya2Rvd25Qb3N0UHJvY2Vzc29yQ29udGV4dCwgcGFsZXR0ZTogUGFsZXR0ZSwgb25DaGFuZ2U6IChjb2xvcnM6IHN0cmluZ1tdIHwgdW5kZWZpbmVkLCBzZXR0aW5nczogUGFydGlhbDxQYWxldHRlU2V0dGluZ3M+IHwgdW5kZWZpbmVkKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmFwcCA9IGFwcDtcclxuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xyXG4gICAgICAgIHRoaXMucGFsZXR0ZSA9IHBhbGV0dGU7XHJcbiAgICAgICAgdGhpcy5vbkNoYW5nZSA9IG9uQ2hhbmdlO1xyXG5cclxuICAgICAgICB0aGlzLmNyZWF0ZU1lbnUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZU1lbnUoKSB7XHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgIC5zZXRUaXRsZShcIlJlb3JkZXJcIilcclxuICAgICAgICAgICAgICAgIC5zZXRJY29uKFwiYXJyb3ctbGVmdC1yaWdodFwiKVxyXG4gICAgICAgICAgICAgICAgLm9uQ2xpY2soKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gbmV3IFJlb3JkZXJNb2RhbCh0aGlzLmFwcCwgdGhpcy5wYWxldHRlLCAoY29sb3JzLCBzZXR0aW5ncykgPT4gdGhpcy5vbkNoYW5nZShjb2xvcnMsIHNldHRpbmdzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWwub3BlbigpO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLnNldEluc3RydWN0aW9ucyhbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY29tbWFuZDogJ1x1MjE5MVx1MjE5MycsIHB1cnBvc2U6ICd0byBuYXZpZ2F0ZScgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjb21tYW5kOiAnXHUyMUI1JywgcHVycG9zZTogJ3RvIHVzZSd9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNvbW1hbmQ6ICdlc2MnLCBwdXJwb3NlOiAndG8gZGlzbWlzcyd9LFxyXG4gICAgICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsLnNldFBsYWNlaG9sZGVyKCdDaG9vc2UgYSBzcGFjZSB0byByZW9yZGVyIHBhbGV0dGUnKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgIC5zZXRUaXRsZShcIkVkaXQgTW9kZVwiKVxyXG4gICAgICAgICAgICAgICAgLnNldEljb24oJ3BhbGV0dGUnKVxyXG4gICAgICAgICAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBDcmVhdGVQYWxldHRlTW9kYWwodGhpcy5hcHAsIHRoaXMucGFsZXR0ZS5wbHVnaW5TZXR0aW5ncywgKGNvbG9ycywgc2V0dGluZ3MpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhbGV0dGVTZWN0aW9uID0gdGhpcy5jb250ZXh0LmdldFNlY3Rpb25JbmZvKHRoaXMucGFsZXR0ZS5jb250YWluZXJFbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihwYWxldHRlU2VjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25DaGFuZ2UoY29sb3JzLCBzZXR0aW5ncyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IE5vdGljZShlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLnBhbGV0dGUpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9wZW4oKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIE9ubHkgc2hvdyB0b2dnbGUgZWRpdCBtb2RlIG9wdGlvbiB3aGVuIHBhbGV0dGUgaXMgbm90IGEgZ3JhZGllbnQgb3IgY29sdW1uc1xyXG4gICAgICAgIGlmKCF0aGlzLnBhbGV0dGUuc2V0dGluZ3MuZ3JhZGllbnQgJiYgdGhpcy5wYWxldHRlLnNldHRpbmdzLmRpcmVjdGlvbiAhPT0gRGlyZWN0aW9uLlJvdykge1xyXG4gICAgICAgICAgICB0aGlzLmFkZEl0ZW0oKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICAuc2V0VGl0bGUoXCJRdWljayBFZGl0XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNldEljb24oJ2JydXNoJylcclxuICAgICAgICAgICAgICAgICAgICAuc2V0Q2hlY2tlZCh0aGlzLnBhbGV0dGUuZ2V0RWRpdE1vZGUoKSlcclxuICAgICAgICAgICAgICAgICAgICAub25DbGljayhhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRvZ2dsZSBwYWxldHRlIGVkaXQgbW9kZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhbGV0dGUuc2V0RWRpdE1vZGUoIXRoaXMucGFsZXR0ZS5nZXRFZGl0TW9kZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWxldHRlLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5hZGRTZXBhcmF0b3IoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgIC5zZXRUaXRsZShcIkNvbnZlcnQgdG8gUkdCXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0SWNvbihcImRyb3BsZXRzXCIpXHJcbiAgICAgICAgICAgICAgICAub25DbGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sb3JzID0gdGhpcy5wYWxldHRlLmNvbG9ycy5tYXAoKGNvbG9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJnYkNvbG9yID0gY29sb3JzZWEoY29sb3IpLnJnYigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYHJnYigke3JnYkNvbG9yWzBdfSwgJHtyZ2JDb2xvclsxXX0sICR7cmdiQ29sb3JbMl19KWBcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25DaGFuZ2UoY29sb3JzLCBnZXRNb2RpZmllZFNldHRpbmdzKHRoaXMucGFsZXR0ZS5zZXR0aW5ncykpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgIC5zZXRUaXRsZShcIkNvbnZlcnQgdG8gSFNMXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0SWNvbihcImRyb3BsZXRzXCIpXHJcbiAgICAgICAgICAgICAgICAub25DbGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sb3JzID0gdGhpcy5wYWxldHRlLmNvbG9ycy5tYXAoKGNvbG9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhzbENvbG9yID0gY29sb3JzZWEoY29sb3IpLmhzbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYGhzbCgke2hzbENvbG9yWzBdfSAke2hzbENvbG9yWzFdfSUgJHtoc2xDb2xvclsyXX0lKWBcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25DaGFuZ2UoY29sb3JzLCBnZXRNb2RpZmllZFNldHRpbmdzKHRoaXMucGFsZXR0ZS5zZXR0aW5ncykpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgIC5zZXRUaXRsZShcIkNvbnZlcnQgdG8gSEVYXCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0SWNvbihcImRyb3BsZXRzXCIpXHJcbiAgICAgICAgICAgICAgICAub25DbGljaygoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sb3JzID0gdGhpcy5wYWxldHRlLmNvbG9ycy5tYXAoKGNvbG9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2xvcnNlYShjb2xvcikuaGV4KDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkNoYW5nZShjb2xvcnMsIGdldE1vZGlmaWVkU2V0dGluZ3ModGhpcy5wYWxldHRlLnNldHRpbmdzKSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFkZFNlcGFyYXRvcigpO1xyXG5cclxuICAgICAgICBjb25zdCBpbnB1dCA9IGNyZWF0ZVBhbGV0dGVCbG9jayh7IGNvbG9yczogdGhpcy5wYWxldHRlLmNvbG9ycywgc2V0dGluZ3M6IGdldE1vZGlmaWVkU2V0dGluZ3ModGhpcy5wYWxldHRlLnNldHRpbmdzKSB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRJdGVtKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGl0ZW1cclxuICAgICAgICAgICAgICAgIC5zZXRUaXRsZShcIkN1dFwiKVxyXG4gICAgICAgICAgICAgICAgLnNldEljb24oXCJzY2lzc29yc1wiKVxyXG4gICAgICAgICAgICAgICAgLm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIENvcHkgcGFsZXR0ZSB0byBjbGlwYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChpbnB1dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHBhbGV0dGVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ2hhbmdlKHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICAgIHRoaXMuYWRkSXRlbSgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBpdGVtXHJcbiAgICAgICAgICAgICAgICAuc2V0VGl0bGUoXCJDb3B5XCIpXHJcbiAgICAgICAgICAgICAgICAuc2V0SWNvbihcImNvcHlcIilcclxuICAgICAgICAgICAgICAgIC5vbkNsaWNrKGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBDb3B5IHBhbGV0dGUgdG8gY2xpcGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoaW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBLHNEQUFBQSxTQUFBO0FBQUEsSUFBQUEsUUFBTyxVQUFRLFNBQVNDLElBQUU7QUFBQyxVQUFJQyxLQUFFLENBQUM7QUFBRSxlQUFTQyxH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UUFBT0csTUFBR0gsS0FBRSxTQUFTQSxJQUFFO0FBQUMsUUFBSUMsTUFBR0QsS0FBRSxLQUFLLEtBQUtBLEVBQUMsSUFBRUEsR0FBRSxNQUFNLENBQUMsSUFBRUEsSUFBRztBQUFPLFFBQUcsQ0FBQyxDQUFDLEdBQUUsR0FBRSxHQUFFLENBQUMsRUFBRSxTQUFTQyxFQUFDO0FBQUUsYUFBTTtBQUFTLFFBQUcsTUFBSUEsTUFBRyxNQUFJQTtBQUFFLGFBQU9EO0FBQUUsUUFBRyxNQUFJQyxNQUFHLE1BQUlBLElBQUU7QUFBQyxlQUFRQyxLQUFFLElBQUdDLEtBQUUsR0FBRUEsS0FBRUYsSUFBRUUsTUFBSTtBQUFDLFlBQUlDLEtBQUVKLEdBQUVHLEVBQUM7QUFBRSxRQUFBRCxNQUFHLEtBQUdFLEtBQUVBO0FBQUEsTUFBQztBQUFDLGFBQU9GO0FBQUEsSUFBQztBQUFDLFdBQU07QUFBQSxFQUFRLEVBQUVGLEVBQUMsRUFBRSxPQUFPLEdBQUUsSUFBSSxHQUFHLE1BQU0sT0FBTztBQUFFLE1BQUcsQ0FBQ0c7QUFBRSxXQUFNLENBQUMsR0FBRSxHQUFFLEdBQUUsQ0FBQztBQUFFLE1BQUlDLEtBQUUsQ0FBQyxHQUFFLEdBQUUsQ0FBQyxHQUFFQyxLQUFFO0FBQUcsU0FBT0YsR0FBRSxRQUFTLFNBQVNILElBQUVDLElBQUU7QUFBQyxJQUFBQSxLQUFFLElBQUVHLEdBQUVILEVBQUMsSUFBRSxTQUFTRCxJQUFFLEVBQUUsSUFBRUssS0FBRSxNQUFJLFNBQVNMLElBQUUsRUFBRSxJQUFFO0FBQUEsRUFBRyxDQUFFLEdBQUUsVUFBS0ssTUFBR0gsS0FBRSxJQUFFRSxLQUFFLEVBQUUsRUFBRSxDQUFDLEdBQUVBLElBQUUsSUFBRSxHQUFFLENBQUNDLEVBQUMsR0FBRSxLQUFFO0FBQUM7QUFBcGpDLElBQXNqQyxJQUFFLFNBQVNMLElBQUVDLElBQUVDLElBQUU7QUFBQyxNQUFJQztBQUFFLEVBQUFBLEtBQUUsQ0FBQ0gsSUFBRUMsSUFBRUMsRUFBQyxFQUFFLElBQUssU0FBU0YsSUFBRTtBQUFDLFdBQU9BLEtB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RCxFQUFDLElBQUUsS0FBSyxJQUFJLEtBQUssS0FBRyxJQUFFLElBQUUsS0FBSyxLQUFHQSxFQUFDLEtBQUc7QUFBQSxFQUFDO0FBQUUsVUFBT0EsTUFBRyxNQUFJQSxNQUFHLE1BQUksT0FBSyxJQUFFLElBQUVNLEtBQUUsTUFBSUMsTUFBRyxJQUFFTixNQUFHLE1BQUlJLEtBQUVHLEdBQUVSLEVBQUMsTUFBSUEsS0FBRSxJQUFFLElBQUVPLEtBQUUsTUFBSUYsTUFBRyxJQUFFSixNQUFHLE1BQUlLLEtBQUVFLEdBQUVSLE1BQUcsSUFBRSxDQUFDLE1BQUlLLEtBQUUsTUFBSUMsTUFBRyxJQUFFTCxNQUFHLE1BQUlNLEtBQUVDLEdBQUVSLE1BQUcsSUFBRSxDQUFDLEtBQUlHLEtBQUUsQ0FBQ0UsSUFBRUMsSUFBRUMsRUFBQyxFQUFFLElBQUssU0FBU1AsSUFBRTtBQUFDLFdBQU8sTUFBSSxFQUFFRSxLQUFFRixLQUFFLEdBQUUsR0FBRSxDQUFDO0FBQUEsRUFBQyxDQUFFLEdBQUUsQ0FBQ0ssS0FBRUYsR0FBRSxDQUFDLEdBQUVHLEtBQUVILEdBQUUsQ0FBQyxHQUFFSSxLQUFFSixHQUFFLENBQUMsQ0FBQztBQUFDO0FBQTE3QixJQUE0N0IsSUFBRSxTQUFTSCxJQUFFQyxJQUFFQyxJQUFFO0FBQUMsU0FBTSxDQUFDLEVBQUVGLElBQUVDLElBQUVDLEVBQUMsRUFBRSxDQUFDLEdBQUUsT0FBSyxLQUFLLElBQUlGLElBQUVDLElBQUVDLEVBQUMsSUFBRSxNQUFLLE9BQUssSUFBRSxLQUFLLElBQUlGLElBQUVDLElBQUVDLEVBQUMsSUFBRSxJQUFJO0FBQUM7QUFBRSxTQUFTLEVBQUVGLElBQUVDLElBQUVDLElBQUU7QUFBQyxTQUFPRCxNQUFHLEtBQUlDLE1BQUcsS0FBSSxFQUFFRixJQUFFLEtBQUksRUFBRSxFQUFFLElBQUssU0FBU0EsSUFBRTtBQUFDLFdBQU8sT0FBS0EsS0FBRSxPQUFLLElBQUVDLEtBQUVDLE1BQUdEO0FBQUEsRUFBRSxDQUFFO0FBQUM7QUFBQyxJQUFJLElBQUUsRUFBQyxH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LElBQUcsV0FBU0MsT0FBSUEsS0FBRTtBQUFHLFFBQUlDLEtBQUUsRUFBRUwsRUFBQyxHQUFFTSxLQUFFRCxHQUFFLENBQUMsR0FBRUUsS0FBRUYsR0FBRSxDQUFDLEdBQUVHLEtBQUVILEdBQUUsQ0FBQyxHQUFFSSxLQUFFSixHQUFFLENBQUMsR0FBRUssS0FBRSxFQUFFVCxFQUFDLEdBQUVVLEtBQUVELEdBQUUsQ0FBQyxHQUFFRSxLQUFFRixHQUFFLENBQUMsR0FBRUcsS0FBRUgsR0FBRSxDQUFDLEdBQUVJLEtBQUVKLEdBQUUsQ0FBQyxHQUFFSyxNQUFHVCxLQUFFSyxNQUFHLEdBQUVLLE1BQUdULEtBQUVLLE1BQUcsR0FBRUssTUFBRyxJQUFFLEVBQUUsRUFBRUQsSUFBRSxDQUFDLEtBQUcsRUFBRUEsSUFBRSxDQUFDLElBQUUsRUFBRSxJQUFHLENBQUMsRUFBRSxLQUFHLEdBQUVFLEtBQUVWLE1BQUcsSUFBRVMsS0FBR0UsS0FBRU4sTUFBRyxJQUFFSSxLQUFHRyxLQUFFLEVBQUUsRUFBRUYsSUFBRSxDQUFDLElBQUUsRUFBRVQsSUFBRSxDQUFDLENBQUMsR0FBRVksS0FBRSxFQUFFLEVBQUVGLElBQUUsQ0FBQyxJQUFFLEVBQUVMLElBQUUsQ0FBQyxDQUFDLEdBQUVRLEtBQUUsRUFBRUosSUFBRVQsSUFBRSxJQUFFLEdBQUVjLEtBQUUsRUFBRUosSUFBRUwsSUFBRSxJQUFFLEdBQUVVLE1BQUdKLEtBQUVDLE1BQUcsR0FBRUksS0FBRSxFQUFFSCxLQUFFQyxFQUFDLElBQUUsT0FBS0QsS0FBRUMsS0FBRSxPQUFLLEtBQUdELEtBQUVDLE1BQUcsR0FBRUcsS0FBRSxJQUFFLE9BQUksRUFBRSxFQUFFRCxLQUFFLEVBQUUsQ0FBQyxJQUFFLE9BQUksRUFBRSxFQUFFLElBQUVBLEVBQUMsQ0FBQyxJQUFFLE9BQUksRUFBRSxFQUFFLElBQUVBLEtBQUUsQ0FBQyxDQUFDLElBQUUsTUFBRyxFQUFFLEVBQUUsSUFBRUEsS0FBRSxFQUFFLENBQUMsR0FBRUUsS0FBRSxFQUFFSixLQUFFRCxFQUFDLEtB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LEVBQUUsTUFBTSxRQUFPLEtBQUssSUFBSTtBQUFBLEVBQUMsR0FBRUUsR0FBRSxVQUFVLE9BQUssU0FBU0YsSUFBRTtBQUFDLFdBQU8sRUFBRSxFQUFFLENBQUMsR0FBRSxLQUFLLElBQUksS0FBRSxHQUFFLElBQUUsR0FBRSxDQUFDLEtBQUssTUFBTSxHQUFFLEtBQUU7QUFBQSxFQUFDLEdBQUVFLEdBQUUsVUFBVSxNQUFJLFNBQVNGLElBQUU7QUFBQyxXQUFPLEVBQUUsTUFBTSxRQUFPLEtBQUssSUFBSTtBQUFBLEVBQUMsR0FBRUUsR0FBRSxVQUFVLE1BQUksU0FBU0YsSUFBRTtBQUFDLFdBQU8sRUFBRSxNQUFNLFFBQU8sS0FBSyxJQUFJO0FBQUEsRUFBQyxHQUFFRSxHQUFFLFVBQVUsTUFBSSxTQUFTRixJQUFFO0FBQUMsV0FBTyxFQUFFLE1BQU0sUUFBTyxLQUFLLElBQUk7QUFBQSxFQUFDLEdBQUVFLEdBQUUsVUFBVSxNQUFJLFNBQVNGLElBQUU7QUFBQyxXQUFPLEVBQUUsTUFBTSxRQUFPLEtBQUssSUFBSTtBQUFBLEVBQUMsR0FBRUUsR0FBRSxVQUFVLE1BQUksU0FBU0YsSUFBRTtBQUFDLFdBQU8sRUFBRSxNQUFNLFFBQU8sS0FBSyxJQUFJLEtBQUUsQ0FBQztBQUFBLEVBQUMsR0FBRUUsR0FBRSxVQUFVLE1BQUksU0FBU0YsSUFBRTtBQUFDLFdBQU8sRUFBRSxNQUFNLFFBQU8sS0FBSyxJQUFJLEtBQUUsQ0FBQztBQUFBLEVBQUMsR0FBRUUsR0FBRSxVQUFVLE1BQUksU0FBU0YsSUFBRTtBQUFDLFdBQU8sRUFBRSxNQUFNLFFBQU8sS0FBSyxJQUFJLEtBQUUsQ0FBQztBQUFBLEVBQUMsR0FBRUUsR0FBRSxVQUFVLE1BQUksU0FBU0YsSUFBRTtBQUFDLGVBQVNBLE9BQUlBLEtBQUU7QUFBRyxRQUFJRSxLQUFFLE1BQUlGLEtBQUUsU0FBTyxNQUFJQSxLQUFFLEtBQUssU0FBTyxRQUFNLEtBQUssU0FBTyxTQUFPLEtBQUssUUFBT0csS0FBRSxtQkFBbUIsT0FBT0gsRUFBQztBQUFFLFFB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QUFFLFFBQU0sS0FBSyxLQUFLQSxLQUFFLFNBQU0sT0FBTSxHQUFHO0FBQUEsSUFBQyxDQUFFO0FBQUUsV0FBTSxTQUFNQSxHQUFFLENBQUMsSUFBRSxTQUFNQSxHQUFFLENBQUMsSUFBRSxTQUFNQSxHQUFFLENBQUM7QUFBQSxFQUFDLEdBQUVFLEdBQUUsVUFBVSxhQUFXLFdBQVU7QUFBQyxRQUFJRixLQUFFLEtBQUs7QUFBSyxXQUFPLFNBQVNBLElBQUVDLElBQUVDLElBQUU7QUFBQyxjQUFPLE1BQUlGLEtBQUUsTUFBSUMsS0FBRSxNQUFJQyxNQUFHLE1BQUksTUFBSTtBQUFBLElBQUcsRUFBRUYsR0FBRSxDQUFDLEdBQUVBLEdBQUUsQ0FBQyxHQUFFQSxHQUFFLENBQUMsQ0FBQztBQUFBLEVBQUMsR0FBRUUsR0FBRSxVQUFVLFNBQU8sU0FBU0YsSUFBRUMsSUFBRUMsSUFBRTtBQUFDLFdBQU8sV0FBU0QsT0FBSUEsS0FBRSxRQUFPLEdBQUcsTUFBS0QsSUFBRUMsSUFBRUMsRUFBQztBQUFBLEVBQUMsR0FBRUEsR0FBRSxVQUFVLGFBQVcsU0FBU0YsSUFBRUMsSUFBRTtBQUFDLFdBQU8sR0FBRyxNQUFLRCxJQUFFQyxFQUFDO0FBQUEsRUFBQyxHQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUUsR0FBRSxNQUFHLENBQUMsR0FBRSxFQUFFLFdBQVcsQ0FBQyxHQUFFQyxHQUFFLFdBQVUsT0FBTSxJQUFJLEdBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRSxHQUFFLE1BQUcsQ0FBQyxDQUFDLEdBQUVBLEdBQUUsV0FBVSxRQUFPLElBQUksR0FBRSxFQUFFLENBQUMsRUFBRSxHQUFFLEdBQUUsTUFBRyxDQUFDLEdBQUUsRUFBRSxZQUFZLENBQUMsR0FBRUEsR0FBRSxXQUFVLFFBQU8sSUFBSSxHQUFFLEVBQUUsQ0FBQyxFQUFFLEdBQUUsR0FBRSxNQUFHLENBQUMsR0FBRSxFQUFFLFdBQVcsQ0FBQyxHQUFFQSxHQUFFLFdBQVUsT0FBTSxJQUFJLEdBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRSxHQUFFLE1BQUcsQ0FB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QUFFM0IsY0FBRyxPQUFPLENBQUMsTUFBTTtBQUFtQixrQkFBTSxJQUFJLE1BQU0saURBQWlEO0FBRXJHLGdCQUFNLFdBQVcsbUJBQW1CLEVBQUUsUUFBZ0IsVUFBVSxLQUFLLE1BQU0sbUNBQVUsRUFBRSxFQUFDLENBQUM7QUFDekYsaUJBQU8saUJBQWlCLFFBQVE7QUFDaEMsY0FBSSx5QkFBTyxpQ0FBaUM7QUFBQSxRQUM3QyxTQUNPLE9BQVA7QUFDQyxjQUFJLHlCQUFPLEtBQUs7QUFBQSxRQUNqQjtBQUFBLE1BQ0Q7QUFBQSxJQUNELENBQUM7QUFFRCxTQUFLLFdBQVc7QUFBQSxNQUNmLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLGdCQUFnQixDQUFDLFdBQW1CO0FBQ25DLFlBQUkscUJBQXFCLEtBQUssS0FBSyxRQUFRLEtBQUssUUFBUSxFQUFFLEtBQUs7QUFBQSxNQUNoRTtBQUFBLElBQ0QsQ0FBQztBQUVELFNBQUssY0FBYyxJQUFJLFlBQVksS0FBSyxLQUFLLElBQUksQ0FBQztBQUFBLEVBQ25EO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsU0FBSyxXQUFXLE9BQU8sT0FBTyxDQUFDLEdBQUcsaUJBQWlCLE1BQU0sS0FBSyxTQUFTLENBQUM7QUFBQSxFQUN6RTtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ3BCLFVBQU0sS0FBSyxTQUFTLEtBQUssUUFBUTtBQUFBLEVBQ2xDO0FBQ0Q7IiwKICAibmFtZXMiOiBbIm1vZHVsZSIsICJlIiwgInIiLCAidCIsICJuIiwgImEiLCAibCIsICJpIiwgInUiLCAiZyIsICJ5IiwgIkwiLCAiUyIsICJtIiwgIkciLCAibyIsICJkIiwgInMiLCAiYyIsICJmIiwgImgiLCAiJCIsICJtb2R1bGUiLCAiZiIsICJvIiwgImQiLCAiaSIsICJhIiwgImIiLCAicCIsICJyIiwgImciLCAiaiIsICJrIiwgImd2YWwiLCAiYnZhbCIsICJxdWFudGl6ZSIsICJ2Ym94IiwgInZib3gyIiwgIkNvbG9yUGFsZXR0ZSIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJ0IiwgInIiLCAibiIsICJlIiwgIm8iLCAiaSIsICJhIiwgInUiLCAiaCIsICJjIiwgImwiLCAicCIsICJmIiwgInMiLCAidiIsICJiIiwgInkiLCAiZCIsICJnIiwgInciLCAibSIsICJNIiwgIngiLCAiXyIsICJDIiwgIkkiLCAiayIsICJFIiwgInoiLCAiTiIsICJPIiwgIlAiLCAiaiIsICJTIiwgIkEiLCAiTCIsICJpIiwgImltcG9ydF9vYnNpZGlhbiIsICJlIiwgImUiLCAieCIsICJlIiwgImEiLCAiYiIsICJpIiwgInZhbGlkYXRlQ29sb3IiLCAiY29udGV4dCIsICJ4IiwgInkiLCAiciIsICJnIiwgImNvbG9ycyIsICJzZXR0aW5ncyIsICJDb21iaW5hdGlvbiIsICJpIiwgImltcG9ydF9vYnNpZGlhbiIsICJlIiwgInF1YW50aXplIiwgImkiLCAiciIsICJnIiwgImIiLCAiYSIsICJlIiwgImFkZENvbG9yc0NvbnRhaW5lciIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X3ZhbGlkYXRlX2NvbG9yIiwgInZhbGlkYXRlQ29sb3IiLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF92YWxpZGF0ZV9jb2xvciIsICJpbXBvcnRfb2JzaWRpYW4iLCAiUmVvcmRlciIsICJhIiwgImIiLCAiaW1wb3J0X29ic2lkaWFuIiwgImUiLCAiY29sb3JzIiwgInNldHRpbmdzIiwgImNvbG9yIiwgInZhbGlkYXRlQ29sb3IiLCAiQ29sb3JQYWxldHRlIiwgImkiXQp9Cg==
